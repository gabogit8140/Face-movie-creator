(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function yh(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var nr={exports:{}},fo={};var Rp;function s0(){if(Rp)return fo;Rp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,r,d){var m=null;if(d!==void 0&&(m=""+d),r.key!==void 0&&(m=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:l,type:s,key:m,ref:r!==void 0?r:null,props:d}}return fo.Fragment=n,fo.jsx=o,fo.jsxs=o,fo}var Np;function u0(){return Np||(Np=1,nr.exports=s0()),nr.exports}var C=u0(),lr={exports:{}},he={};var Dp;function r0(){if(Dp)return he;Dp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Y={};function G(M,b,B){this.props=M,this.context=b,this.refs=Y,this.updater=B||z}G.prototype.isReactComponent={},G.prototype.setState=function(M,b){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,b,"setState")},G.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=G.prototype;function F(M,b,B){this.props=M,this.context=b,this.refs=Y,this.updater=B||z}var j=F.prototype=new O;j.constructor=F,k(j,G.prototype),j.isPureReactComponent=!0;var J=Array.isArray;function te(){}var Q={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function K(M,b,B){var D=B.ref;return{$$typeof:l,type:M,key:b,ref:D!==void 0?D:null,props:B}}function le(M,b){return K(M.type,b,M.props)}function oe(M){return typeof M=="object"&&M!==null&&M.$$typeof===l}function se(M){var b={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(B){return b[B]})}var Ae=/\/+/g;function xe(M,b){return typeof M=="object"&&M!==null&&M.key!=null?se(""+M.key):b.toString(36)}function Ue(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(te,te):(M.status="pending",M.then(function(b){M.status==="pending"&&(M.status="fulfilled",M.value=b)},function(b){M.status==="pending"&&(M.status="rejected",M.reason=b)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function L(M,b,B,D,Z){var W=typeof M;(W==="undefined"||W==="boolean")&&(M=null);var ie=!1;if(M===null)ie=!0;else switch(W){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(M.$$typeof){case l:case n:ie=!0;break;case v:return ie=M._init,L(ie(M._payload),b,B,D,Z)}}if(ie)return Z=Z(M),ie=D===""?"."+xe(M,0):D,J(Z)?(B="",ie!=null&&(B=ie.replace(Ae,"$&/")+"/"),L(Z,b,B,"",function(me){return me})):Z!=null&&(oe(Z)&&(Z=le(Z,B+(Z.key==null||M&&M.key===Z.key?"":(""+Z.key).replace(Ae,"$&/")+"/")+ie)),b.push(Z)),1;ie=0;var ue=D===""?".":D+":";if(J(M))for(var pe=0;pe<M.length;pe++)D=M[pe],W=ue+xe(D,pe),ie+=L(D,b,B,W,Z);else if(pe=R(M),typeof pe=="function")for(M=pe.call(M),pe=0;!(D=M.next()).done;)D=D.value,W=ue+xe(D,pe++),ie+=L(D,b,B,W,Z);else if(W==="object"){if(typeof M.then=="function")return L(Ue(M),b,B,D,Z);throw b=String(M),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.")}return ie}function $(M,b,B){if(M==null)return M;var D=[],Z=0;return L(M,D,"","",function(W){return b.call(B,W,Z++)}),D}function fe(M){if(M._status===-1){var b=M._result;b=b(),b.then(function(B){(M._status===0||M._status===-1)&&(M._status=1,M._result=B)},function(B){(M._status===0||M._status===-1)&&(M._status=2,M._result=B)}),M._status===-1&&(M._status=0,M._result=b)}if(M._status===1)return M._result.default;throw M._result}var Me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ie={map:$,forEach:function(M,b,B){$(M,function(){b.apply(this,arguments)},B)},count:function(M){var b=0;return $(M,function(){b++}),b},toArray:function(M){return $(M,function(b){return b})||[]},only:function(M){if(!oe(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return he.Activity=S,he.Children=Ie,he.Component=G,he.Fragment=o,he.Profiler=r,he.PureComponent=F,he.StrictMode=s,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,he.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Q.H.useMemoCache(M)}},he.cache=function(M){return function(){return M.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(M,b,B){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var D=k({},M.props),Z=M.key;if(b!=null)for(W in b.key!==void 0&&(Z=""+b.key),b)!X.call(b,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&b.ref===void 0||(D[W]=b[W]);var W=arguments.length-2;if(W===1)D.children=B;else if(1<W){for(var ie=Array(W),ue=0;ue<W;ue++)ie[ue]=arguments[ue+2];D.children=ie}return K(M.type,Z,D)},he.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},he.createElement=function(M,b,B){var D,Z={},W=null;if(b!=null)for(D in b.key!==void 0&&(W=""+b.key),b)X.call(b,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(Z[D]=b[D]);var ie=arguments.length-2;if(ie===1)Z.children=B;else if(1<ie){for(var ue=Array(ie),pe=0;pe<ie;pe++)ue[pe]=arguments[pe+2];Z.children=ue}if(M&&M.defaultProps)for(D in ie=M.defaultProps,ie)Z[D]===void 0&&(Z[D]=ie[D]);return K(M,W,Z)},he.createRef=function(){return{current:null}},he.forwardRef=function(M){return{$$typeof:g,render:M}},he.isValidElement=oe,he.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:fe}},he.memo=function(M,b){return{$$typeof:h,type:M,compare:b===void 0?null:b}},he.startTransition=function(M){var b=Q.T,B={};Q.T=B;try{var D=M(),Z=Q.S;Z!==null&&Z(B,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(te,Me)}catch(W){Me(W)}finally{b!==null&&B.types!==null&&(b.types=B.types),Q.T=b}},he.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},he.use=function(M){return Q.H.use(M)},he.useActionState=function(M,b,B){return Q.H.useActionState(M,b,B)},he.useCallback=function(M,b){return Q.H.useCallback(M,b)},he.useContext=function(M){return Q.H.useContext(M)},he.useDebugValue=function(){},he.useDeferredValue=function(M,b){return Q.H.useDeferredValue(M,b)},he.useEffect=function(M,b){return Q.H.useEffect(M,b)},he.useEffectEvent=function(M){return Q.H.useEffectEvent(M)},he.useId=function(){return Q.H.useId()},he.useImperativeHandle=function(M,b,B){return Q.H.useImperativeHandle(M,b,B)},he.useInsertionEffect=function(M,b){return Q.H.useInsertionEffect(M,b)},he.useLayoutEffect=function(M,b){return Q.H.useLayoutEffect(M,b)},he.useMemo=function(M,b){return Q.H.useMemo(M,b)},he.useOptimistic=function(M,b){return Q.H.useOptimistic(M,b)},he.useReducer=function(M,b,B){return Q.H.useReducer(M,b,B)},he.useRef=function(M){return Q.H.useRef(M)},he.useState=function(M){return Q.H.useState(M)},he.useSyncExternalStore=function(M,b,B){return Q.H.useSyncExternalStore(M,b,B)},he.useTransition=function(){return Q.H.useTransition()},he.version="19.2.0",he}var Ip;function vr(){return Ip||(Ip=1,lr.exports=r0()),lr.exports}var ee=vr();const c0=yh(ee);var ir={exports:{}},po={},or={exports:{}},ar={};var wp;function f0(){return wp||(wp=1,(function(l){function n(L,$){var fe=L.length;L.push($);e:for(;0<fe;){var Me=fe-1>>>1,Ie=L[Me];if(0<r(Ie,$))L[Me]=$,L[fe]=Ie,fe=Me;else break e}}function o(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var $=L[0],fe=L.pop();if(fe!==$){L[0]=fe;e:for(var Me=0,Ie=L.length,M=Ie>>>1;Me<M;){var b=2*(Me+1)-1,B=L[b],D=b+1,Z=L[D];if(0>r(B,fe))D<Ie&&0>r(Z,B)?(L[Me]=Z,L[D]=fe,Me=D):(L[Me]=B,L[b]=fe,Me=b);else if(D<Ie&&0>r(Z,fe))L[Me]=Z,L[D]=fe,Me=D;else break e}}return $}function r(L,$){var fe=L.sortIndex-$.sortIndex;return fe!==0?fe:L.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();l.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,S=null,_=3,R=!1,z=!1,k=!1,Y=!1,G=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function j(L){for(var $=o(h);$!==null;){if($.callback===null)s(h);else if($.startTime<=L)s(h),$.sortIndex=$.expirationTime,n(y,$);else break;$=o(h)}}function J(L){if(k=!1,j(L),!z)if(o(y)!==null)z=!0,te||(te=!0,se());else{var $=o(h);$!==null&&Ue(J,$.startTime-L)}}var te=!1,Q=-1,X=5,K=-1;function le(){return Y?!0:!(l.unstable_now()-K<X)}function oe(){if(Y=!1,te){var L=l.unstable_now();K=L;var $=!0;try{e:{z=!1,k&&(k=!1,O(Q),Q=-1),R=!0;var fe=_;try{t:{for(j(L),S=o(y);S!==null&&!(S.expirationTime>L&&le());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,_=S.priorityLevel;var Ie=Me(S.expirationTime<=L);if(L=l.unstable_now(),typeof Ie=="function"){S.callback=Ie,j(L),$=!0;break t}S===o(y)&&s(y),j(L)}else s(y);S=o(y)}if(S!==null)$=!0;else{var M=o(h);M!==null&&Ue(J,M.startTime-L),$=!1}}break e}finally{S=null,_=fe,R=!1}$=void 0}}finally{$?se():te=!1}}}var se;if(typeof F=="function")se=function(){F(oe)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,xe=Ae.port2;Ae.port1.onmessage=oe,se=function(){xe.postMessage(null)}}else se=function(){G(oe,0)};function Ue(L,$){Q=G(function(){L(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(L){L.callback=null},l.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<L?Math.floor(1e3/L):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(L){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var fe=_;_=$;try{return L()}finally{_=fe}},l.unstable_requestPaint=function(){Y=!0},l.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var fe=_;_=L;try{return $()}finally{_=fe}},l.unstable_scheduleCallback=function(L,$,fe){var Me=l.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Me+fe:Me):fe=Me,L){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=fe+Ie,L={id:v++,callback:$,priorityLevel:L,startTime:fe,expirationTime:Ie,sortIndex:-1},fe>Me?(L.sortIndex=fe,n(h,L),o(y)===null&&L===o(h)&&(k?(O(Q),Q=-1):k=!0,Ue(J,fe-Me))):(L.sortIndex=Ie,n(y,L),z||R||(z=!0,te||(te=!0,se()))),L},l.unstable_shouldYield=le,l.unstable_wrapCallback=function(L){var $=_;return function(){var fe=_;_=$;try{return L.apply(this,arguments)}finally{_=fe}}}})(ar)),ar}var bp;function d0(){return bp||(bp=1,or.exports=f0()),or.exports}var sr={exports:{}},gt={};var Up;function p0(){if(Up)return gt;Up=1;var l=vr();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var m=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(y,h,null,v)},gt.flushSync=function(y){var h=m.T,v=s.p;try{if(m.T=null,s.p=2,y)return y()}finally{m.T=h,s.p=v,s.d.f()}},gt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},gt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},gt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:R}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},gt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},gt.requestFormReset=function(y){s.d.r(y)},gt.unstable_batchedUpdates=function(y,h){return y(h)},gt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},gt.useFormStatus=function(){return m.H.useHostTransitionStatus()},gt.version="19.2.0",gt}var Lp;function m0(){if(Lp)return sr.exports;Lp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),sr.exports=p0(),sr.exports}var qp;function h0(){if(qp)return po;qp=1;var l=d0(),n=vr(),o=m0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(s(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var f=i.return;if(f===null)break;var p=f.alternate;if(p===null){if(a=f.return,a!==null){i=a;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===i)return y(f),e;if(p===a)return y(f),t;p=p.sibling}throw Error(s(188))}if(i.return!==a.return)i=f,a=p;else{for(var T=!1,E=f.child;E;){if(E===i){T=!0,i=f,a=p;break}if(E===a){T=!0,a=f,i=p;break}E=E.sibling}if(!T){for(E=p.child;E;){if(E===i){T=!0,i=p,a=f;break}if(E===a){T=!0,a=p,i=f;break}E=E.sibling}if(!T)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),F=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case G:return"Profiler";case Y:return"StrictMode";case J:return"Suspense";case te:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case F:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:xe(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return xe(e(t))}catch{}}return null}var Ue=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Me=[],Ie=-1;function M(e){return{current:e}}function b(e){0>Ie||(e.current=Me[Ie],Me[Ie]=null,Ie--)}function B(e,t){Ie++,Me[Ie]=e.current,e.current=t}var D=M(null),Z=M(null),W=M(null),ie=M(null);function ue(e,t){switch(B(W,t),B(Z,e),B(D,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zd(t),e=Wd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}b(D),B(D,e)}function pe(){b(D),b(Z),b(W)}function me(e){e.memoizedState!==null&&B(ie,e);var t=D.current,i=Wd(t,e.type);t!==i&&(B(Z,e),B(D,i))}function Ge(e){Z.current===e&&(b(D),b(Z)),ie.current===e&&(b(ie),so._currentValue=fe)}var ge,vt;function Xt(e){if(ge===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ge=t&&t[1]||"",vt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+e+vt}var rt=!1;function Ml(e,t){if(!e||rt)return"";rt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(q){var U=q}Reflect.construct(e,[],P)}else{try{P.call()}catch(q){U=q}e.call(P.prototype)}}else{try{throw Error()}catch(q){U=q}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(q){if(q&&U&&typeof q.stack=="string")return[q.stack,U.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),T=p[0],E=p[1];if(T&&E){var A=T.split(`
`),w=E.split(`
`);for(f=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;f<w.length&&!w[f].includes("DetermineComponentFrameRoot");)f++;if(a===A.length||f===w.length)for(a=A.length-1,f=w.length-1;1<=a&&0<=f&&A[a]!==w[f];)f--;for(;1<=a&&0<=f;a--,f--)if(A[a]!==w[f]){if(a!==1||f!==1)do if(a--,f--,0>f||A[a]!==w[f]){var H=`
`+A[a].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=a&&0<=f);break}}}finally{rt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Xt(i):""}function tn(e,t){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==t&&t!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Ml(e.type,!1);case 11:return Ml(e.type.render,!1);case 1:return Ml(e.type,!0);case 31:return Xt("Activity");default:return""}}function il(e){try{var t="",i=null;do t+=tn(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ol=Object.prototype.hasOwnProperty,Ye=l.unstable_scheduleCallback,Je=l.unstable_cancelCallback,lt=l.unstable_shouldYield,ht=l.unstable_requestPaint,Ze=l.unstable_now,Kt=l.unstable_getCurrentPriorityLevel,Nt=l.unstable_ImmediatePriority,Tt=l.unstable_UserBlockingPriority,ot=l.unstable_NormalPriority,Nn=l.unstable_LowPriority,Dn=l.unstable_IdlePriority,Fa=l.log,al=l.unstable_setDisableYieldValue,Qt=null,be=null;function Zt(e){if(typeof Fa=="function"&&al(e),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(Qt,e)}catch{}}var at=Math.clz32?Math.clz32:Ti,vi=Math.log,In=Math.LN2;function Ti(e){return e>>>=0,e===0?32:31-(vi(e)/In|0)|0}var go=256,yo=262144,vo=4194304;function sl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function To(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var f=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~p,a!==0?f=sl(a):(T&=E,T!==0?f=sl(T):i||(i=E&~e,i!==0&&(f=sl(i))))):(E=a&~p,E!==0?f=sl(E):T!==0?f=sl(T):i||(i=a&~e,i!==0&&(f=sl(i)))),f===0?0:t!==0&&t!==f&&(t&p)===0&&(p=f&-f,i=t&-t,p>=i||p===32&&(i&4194048)!==0)?t:f}function Si(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ir(){var e=vo;return vo<<=1,(vo&62914560)===0&&(vo=4194304),e}function Oa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ei(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qh(e,t,i,a,f,p){var T=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,w=e.hiddenUpdates;for(i=T&~i;0<i;){var H=31-at(i),P=1<<H;E[H]=0,A[H]=-1;var U=w[H];if(U!==null)for(w[H]=null,H=0;H<U.length;H++){var q=U[H];q!==null&&(q.lane&=-536870913)}i&=~P}a!==0&&wr(e,a,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~t))}function wr(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-at(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function br(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-at(i),f=1<<a;f&t|e[a]&t&&(e[a]|=t),i&=~f}}function Ur(e,t){var i=t&-t;return i=(i&42)!==0?1:Ya(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ya(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lr(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Sp(e.type))}function qr(e,t){var i=$.p;try{return $.p=e,t()}finally{$.p=i}}var wn=Math.random().toString(36).slice(2),ct="__reactFiber$"+wn,Et="__reactProps$"+wn,Rl="__reactContainer$"+wn,Xa="__reactEvents$"+wn,Zh="__reactListeners$"+wn,Wh="__reactHandles$"+wn,Gr="__reactResources$"+wn,_i="__reactMarker$"+wn;function Ka(e){delete e[ct],delete e[Et],delete e[Xa],delete e[Zh],delete e[Wh]}function Nl(e){var t=e[ct];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Rl]||i[ct]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ip(e);e!==null;){if(i=e[ct])return i;e=ip(e)}return t}e=i,i=e.parentNode}return null}function Dl(e){if(e=e[ct]||e[Rl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ci(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Il(e){var t=e[Gr];return t||(t=e[Gr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[_i]=!0}var Hr=new Set,Vr={};function ul(e,t){wl(e,t),wl(e+"Capture",t)}function wl(e,t){for(Vr[e]=t,e=0;e<t.length;e++)Hr.add(t[e])}var $h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zr={},Pr={};function jh(e){return ol.call(Pr,e)?!0:ol.call(zr,e)?!1:$h.test(e)?Pr[e]=!0:(zr[e]=!0,!1)}function So(e,t,i){if(jh(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Eo(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function sn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Br(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eg(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(T){i=""+T,p.call(this,T)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(T){i=""+T},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qa(e){if(!e._valueTracker){var t=Br(e)?"checked":"value";e._valueTracker=eg(e,t,""+e[t])}}function kr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Br(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function _o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tg=/[\n"\\]/g;function Ht(e){return e.replace(tg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Za(e,t,i,a,f,p,T,E){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),t!=null?T==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),t!=null?Wa(e,T,Gt(t)):i!=null?Wa(e,T,Gt(i)):a!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Gt(E):e.removeAttribute("name")}function Fr(e,t,i,a,f,p,T,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Qa(e);return}i=i!=null?""+Gt(i):"",t=t!=null?""+Gt(t):i,E||t===e.value||(e.value=t),e.defaultValue=t}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Qa(e)}function Wa(e,t,i){t==="number"&&_o(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function bl(e,t,i,a){if(e=e.options,t){t={};for(var f=0;f<i.length;f++)t["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=t.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Or(e,t,i){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Gt(i):""}function Yr(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(s(92));if(Ue(a)){if(1<a.length)throw Error(s(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Gt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),Qa(e)}function Ul(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ng=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jr(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||ng.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Xr(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in t)a=t[f],t.hasOwnProperty(f)&&i[f]!==a&&Jr(e,f,a)}else for(var p in t)t.hasOwnProperty(p)&&Jr(e,p,t[p])}function $a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ig=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(e){return ig.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function un(){}var ja=null;function es(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,ql=null;function Kr(e){var t=Dl(e);if(t&&(e=t.stateNode)){var i=e[Et]||null;e:switch(e=t.stateNode,t.type){case"input":if(Za(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var f=a[Et]||null;if(!f)throw Error(s(90));Za(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&kr(a)}break e;case"textarea":Or(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&bl(e,!!i.multiple,t,!1)}}}var ts=!1;function Qr(e,t,i){if(ts)return e(t,i);ts=!0;try{var a=e(t);return a}finally{if(ts=!1,(Ll!==null||ql!==null)&&(ca(),Ll&&(t=Ll,e=ql,ql=Ll=null,Kr(t),e)))for(t=0;t<e.length;t++)Kr(e[t])}}function Ai(e,t){var i=e.stateNode;if(i===null)return null;var a=i[Et]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=!1;if(rn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){ns=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{ns=!1}var bn=null,ls=null,Ao=null;function Zr(){if(Ao)return Ao;var e,t=ls,i=t.length,a,f="value"in bn?bn.value:bn.textContent,p=f.length;for(e=0;e<i&&t[e]===f[e];e++);var T=i-e;for(a=1;a<=T&&t[i-a]===f[p-a];a++);return Ao=f.slice(e,1<a?1-a:void 0)}function xo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mo(){return!0}function Wr(){return!1}function _t(e){function t(i,a,f,p,T){this._reactName=i,this._targetInst=f,this.type=a,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Mo:Wr,this.isPropagationStopped=Wr,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),t}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=_t(rl),Mi=S({},rl,{view:0,detail:0}),og=_t(Mi),is,os,Ri,No=S({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(is=e.screenX-Ri.screenX,os=e.screenY-Ri.screenY):os=is=0,Ri=e),is)},movementY:function(e){return"movementY"in e?e.movementY:os}}),$r=_t(No),ag=S({},No,{dataTransfer:0}),sg=_t(ag),ug=S({},Mi,{relatedTarget:0}),as=_t(ug),rg=S({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),cg=_t(rg),fg=S({},rl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dg=_t(fg),pg=S({},rl,{data:0}),jr=_t(pg),mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gg[e])?!!t[e]:!1}function ss(){return yg}var vg=S({},Mi,{key:function(e){if(e.key){var t=mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tg=_t(vg),Sg=S({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=_t(Sg),Eg=S({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),_g=_t(Eg),Cg=S({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ag=_t(Cg),xg=S({},No,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mg=_t(xg),Rg=S({},rl,{newState:0,oldState:0}),Ng=_t(Rg),Dg=[9,13,27,32],us=rn&&"CompositionEvent"in window,Ni=null;rn&&"documentMode"in document&&(Ni=document.documentMode);var Ig=rn&&"TextEvent"in window&&!Ni,tc=rn&&(!us||Ni&&8<Ni&&11>=Ni),nc=" ",lc=!1;function ic(e,t){switch(e){case"keyup":return Dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gl=!1;function wg(e,t){switch(e){case"compositionend":return oc(t);case"keypress":return t.which!==32?null:(lc=!0,nc);case"textInput":return e=t.data,e===nc&&lc?null:e;default:return null}}function bg(e,t){if(Gl)return e==="compositionend"||!us&&ic(e,t)?(e=Zr(),Ao=ls=bn=null,Gl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tc&&t.locale!=="ko"?null:t.data;default:return null}}var Ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ug[e.type]:t==="textarea"}function sc(e,t,i,a){Ll?ql?ql.push(a):ql=[a]:Ll=a,t=ya(t,"onChange"),0<t.length&&(i=new Ro("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Di=null,Ii=null;function Lg(e){Od(e,0)}function Do(e){var t=Ci(e);if(kr(t))return e}function uc(e,t){if(e==="change")return t}var rc=!1;if(rn){var rs;if(rn){var cs="oninput"in document;if(!cs){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),cs=typeof cc.oninput=="function"}rs=cs}else rs=!1;rc=rs&&(!document.documentMode||9<document.documentMode)}function fc(){Di&&(Di.detachEvent("onpropertychange",dc),Ii=Di=null)}function dc(e){if(e.propertyName==="value"&&Do(Ii)){var t=[];sc(t,Ii,e,es(e)),Qr(Lg,t)}}function qg(e,t,i){e==="focusin"?(fc(),Di=t,Ii=i,Di.attachEvent("onpropertychange",dc)):e==="focusout"&&fc()}function Gg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Do(Ii)}function Hg(e,t){if(e==="click")return Do(t)}function Vg(e,t){if(e==="input"||e==="change")return Do(t)}function zg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:zg;function wi(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var f=i[a];if(!ol.call(t,f)||!Dt(e[f],t[f]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var i=pc(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=pc(i)}}function hc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_o(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=_o(e.document)}return t}function fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pg=rn&&"documentMode"in document&&11>=document.documentMode,Hl=null,ds=null,bi=null,ps=!1;function yc(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ps||Hl==null||Hl!==_o(a)||(a=Hl,"selectionStart"in a&&fs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),bi&&wi(bi,a)||(bi=a,a=ya(ds,"onSelect"),0<a.length&&(t=new Ro("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Hl)))}function cl(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Vl={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionrun:cl("Transition","TransitionRun"),transitionstart:cl("Transition","TransitionStart"),transitioncancel:cl("Transition","TransitionCancel"),transitionend:cl("Transition","TransitionEnd")},ms={},vc={};rn&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function fl(e){if(ms[e])return ms[e];if(!Vl[e])return e;var t=Vl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in vc)return ms[e]=t[i];return e}var Tc=fl("animationend"),Sc=fl("animationiteration"),Ec=fl("animationstart"),Bg=fl("transitionrun"),kg=fl("transitionstart"),Fg=fl("transitioncancel"),_c=fl("transitionend"),Cc=new Map,hs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hs.push("scrollEnd");function Wt(e,t){Cc.set(e,t),ul(t,[e])}var Io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],zl=0,gs=0;function wo(){for(var e=zl,t=gs=zl=0;t<e;){var i=Vt[t];Vt[t++]=null;var a=Vt[t];Vt[t++]=null;var f=Vt[t];Vt[t++]=null;var p=Vt[t];if(Vt[t++]=null,a!==null&&f!==null){var T=a.pending;T===null?f.next=f:(f.next=T.next,T.next=f),a.pending=f}p!==0&&Ac(i,f,p)}}function bo(e,t,i,a){Vt[zl++]=e,Vt[zl++]=t,Vt[zl++]=i,Vt[zl++]=a,gs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ys(e,t,i,a){return bo(e,t,i,a),Uo(e)}function dl(e,t){return bo(e,null,null,t),Uo(e)}function Ac(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var f=!1,p=e.return;p!==null;)p.childLanes|=i,a=p.alternate,a!==null&&(a.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&t!==null&&(f=31-at(i),e=p.hiddenUpdates,a=e[f],a===null?e[f]=[t]:a.push(t),t.lane=i|536870912),p):null}function Uo(e){if(50<eo)throw eo=0,Mu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pl={};function Og(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,i,a){return new Og(e,t,i,a)}function vs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,t){var i=e.alternate;return i===null?(i=It(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function xc(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Lo(e,t,i,a,f,p){var T=0;if(a=e,typeof e=="function")vs(e)&&(T=1);else if(typeof e=="string")T=Qy(e,i,D.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=It(31,i,t,f),e.elementType=K,e.lanes=p,e;case k:return pl(i.children,f,p,t);case Y:T=8,f|=24;break;case G:return e=It(12,i,t,f|2),e.elementType=G,e.lanes=p,e;case J:return e=It(13,i,t,f),e.elementType=J,e.lanes=p,e;case te:return e=It(19,i,t,f),e.elementType=te,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:T=10;break e;case O:T=9;break e;case j:T=11;break e;case Q:T=14;break e;case X:T=16,a=null;break e}T=29,i=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=It(T,i,t,f),t.elementType=e,t.type=a,t.lanes=p,t}function pl(e,t,i,a){return e=It(7,e,a,t),e.lanes=i,e}function Ts(e,t,i){return e=It(6,e,null,t),e.lanes=i,e}function Mc(e){var t=It(18,null,null,0);return t.stateNode=e,t}function Ss(e,t,i){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Rc=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var i=Rc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:il(t)},Rc.set(e,t),t)}return{value:e,source:t,stack:il(t)}}var Bl=[],kl=0,qo=null,Ui=0,Pt=[],Bt=0,Un=null,nn=1,ln="";function fn(e,t){Bl[kl++]=Ui,Bl[kl++]=qo,qo=e,Ui=t}function Nc(e,t,i){Pt[Bt++]=nn,Pt[Bt++]=ln,Pt[Bt++]=Un,Un=e;var a=nn;e=ln;var f=32-at(a)-1;a&=~(1<<f),i+=1;var p=32-at(t)+f;if(30<p){var T=f-f%5;p=(a&(1<<T)-1).toString(32),a>>=T,f-=T,nn=1<<32-at(t)+f|i<<f|a,ln=p+e}else nn=1<<p|i<<f|a,ln=e}function Es(e){e.return!==null&&(fn(e,1),Nc(e,1,0))}function _s(e){for(;e===qo;)qo=Bl[--kl],Bl[kl]=null,Ui=Bl[--kl],Bl[kl]=null;for(;e===Un;)Un=Pt[--Bt],Pt[Bt]=null,ln=Pt[--Bt],Pt[Bt]=null,nn=Pt[--Bt],Pt[Bt]=null}function Dc(e,t){Pt[Bt++]=nn,Pt[Bt++]=ln,Pt[Bt++]=Un,nn=t.id,ln=t.overflow,Un=e}var ft=null,Be=null,Ce=!1,Ln=null,kt=!1,Cs=Error(s(519));function qn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Li(zt(t,e)),Cs}function Ic(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[ct]=e,t[Et]=a,i){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(i=0;i<no.length;i++)Se(no[i],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Fr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Yr(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||Kd(t.textContent,i)?(a.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),a.onScroll!=null&&Se("scroll",t),a.onScrollEnd!=null&&Se("scrollend",t),a.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||qn(e,!0)}function wc(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:kt=!1;return;case 27:case 3:kt=!0;return;default:ft=ft.return}}function Fl(e){if(e!==ft)return!1;if(!Ce)return wc(e),Ce=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Bu(e.type,e.memoizedProps)),i=!i),i&&Be&&qn(e),wc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Be=lp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Be=lp(e)}else t===27?(t=Be,Qn(e.type)?(e=Ju,Ju=null,Be=e):Be=t):Be=ft?Ot(e.stateNode.nextSibling):null;return!0}function ml(){Be=ft=null,Ce=!1}function As(){var e=Ln;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),Ln=null),e}function Li(e){Ln===null?Ln=[e]:Ln.push(e)}var xs=M(null),hl=null,dn=null;function Gn(e,t,i){B(xs,t._currentValue),t._currentValue=i}function pn(e){e._currentValue=xs.current,b(xs)}function Ms(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Rs(e,t,i,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var A=0;A<t.length;A++)if(E.context===t[A]){p.lanes|=i,E=p.alternate,E!==null&&(E.lanes|=i),Ms(p.return,i,e),a||(T=null);break e}p=E.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=i,p=T.alternate,p!==null&&(p.lanes|=i),Ms(T,i,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ol(e,t,i,a){e=null;for(var f=t,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var E=f.type;Dt(f.pendingProps.value,T.value)||(e!==null?e.push(E):e=[E])}}else if(f===ie.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(so):e=[so])}f=f.return}e!==null&&Rs(t,e,i,a),t.flags|=262144}function Go(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gl(e){hl=e,dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return bc(hl,e)}function Ho(e,t){return hl===null&&gl(e),bc(e,t)}function bc(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},dn===null){if(e===null)throw Error(s(308));dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dn=dn.next=t;return i}var Yg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Jg=l.unstable_scheduleCallback,Xg=l.unstable_NormalPriority,je={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ns(){return{controller:new Yg,data:new Map,refCount:0}}function qi(e){e.refCount--,e.refCount===0&&Jg(Xg,function(){e.controller.abort()})}var Gi=null,Ds=0,Yl=0,Jl=null;function Kg(e,t){if(Gi===null){var i=Gi=[];Ds=0,Yl=bu(),Jl={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Ds++,t.then(Uc,Uc),t}function Uc(){if(--Ds===0&&Gi!==null){Jl!==null&&(Jl.status="fulfilled");var e=Gi;Gi=null,Yl=0,Jl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qg(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var f=0;f<i.length;f++)(0,i[f])(t)},function(f){for(a.status="rejected",a.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),a}var Lc=L.S;L.S=function(e,t){vd=Ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Kg(e,t),Lc!==null&&Lc(e,t)};var yl=M(null);function Is(){var e=yl.current;return e!==null?e:Pe.pooledCache}function Vo(e,t){t===null?B(yl,yl.current):B(yl,t.pool)}function qc(){var e=Is();return e===null?null:{parent:je._currentValue,pool:e}}var Xl=Error(s(460)),ws=Error(s(474)),zo=Error(s(542)),Po={then:function(){}};function Gc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hc(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(un,un),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zc(e),e;default:if(typeof t.status=="string")t.then(un,un);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=a}},function(a){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zc(e),e}throw Tl=t,Xl}}function vl(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Tl=i,Xl):i}}var Tl=null;function Vc(){if(Tl===null)throw Error(s(459));var e=Tl;return Tl=null,e}function zc(e){if(e===Xl||e===zo)throw Error(s(483))}var Kl=null,Hi=0;function Bo(e){var t=Hi;return Hi+=1,Kl===null&&(Kl=[]),Hc(Kl,e,t)}function Vi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ko(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pc(e){function t(N,x){if(e){var I=N.deletions;I===null?(N.deletions=[x],N.flags|=16):I.push(x)}}function i(N,x){if(!e)return null;for(;x!==null;)t(N,x),x=x.sibling;return null}function a(N){for(var x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function f(N,x){return N=cn(N,x),N.index=0,N.sibling=null,N}function p(N,x,I){return N.index=I,e?(I=N.alternate,I!==null?(I=I.index,I<x?(N.flags|=67108866,x):I):(N.flags|=67108866,x)):(N.flags|=1048576,x)}function T(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function E(N,x,I,V){return x===null||x.tag!==6?(x=Ts(I,N.mode,V),x.return=N,x):(x=f(x,I),x.return=N,x)}function A(N,x,I,V){var ce=I.type;return ce===k?H(N,x,I.props.children,V,I.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===X&&vl(ce)===x.type)?(x=f(x,I.props),Vi(x,I),x.return=N,x):(x=Lo(I.type,I.key,I.props,null,N.mode,V),Vi(x,I),x.return=N,x)}function w(N,x,I,V){return x===null||x.tag!==4||x.stateNode.containerInfo!==I.containerInfo||x.stateNode.implementation!==I.implementation?(x=Ss(I,N.mode,V),x.return=N,x):(x=f(x,I.children||[]),x.return=N,x)}function H(N,x,I,V,ce){return x===null||x.tag!==7?(x=pl(I,N.mode,V,ce),x.return=N,x):(x=f(x,I),x.return=N,x)}function P(N,x,I){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ts(""+x,N.mode,I),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case R:return I=Lo(x.type,x.key,x.props,null,N.mode,I),Vi(I,x),I.return=N,I;case z:return x=Ss(x,N.mode,I),x.return=N,x;case X:return x=vl(x),P(N,x,I)}if(Ue(x)||se(x))return x=pl(x,N.mode,I,null),x.return=N,x;if(typeof x.then=="function")return P(N,Bo(x),I);if(x.$$typeof===F)return P(N,Ho(N,x),I);ko(N,x)}return null}function U(N,x,I,V){var ce=x!==null?x.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ce!==null?null:E(N,x,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case R:return I.key===ce?A(N,x,I,V):null;case z:return I.key===ce?w(N,x,I,V):null;case X:return I=vl(I),U(N,x,I,V)}if(Ue(I)||se(I))return ce!==null?null:H(N,x,I,V,null);if(typeof I.then=="function")return U(N,x,Bo(I),V);if(I.$$typeof===F)return U(N,x,Ho(N,I),V);ko(N,I)}return null}function q(N,x,I,V,ce){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return N=N.get(I)||null,E(x,N,""+V,ce);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return N=N.get(V.key===null?I:V.key)||null,A(x,N,V,ce);case z:return N=N.get(V.key===null?I:V.key)||null,w(x,N,V,ce);case X:return V=vl(V),q(N,x,I,V,ce)}if(Ue(V)||se(V))return N=N.get(I)||null,H(x,N,V,ce,null);if(typeof V.then=="function")return q(N,x,I,Bo(V),ce);if(V.$$typeof===F)return q(N,x,I,Ho(x,V),ce);ko(x,V)}return null}function ae(N,x,I,V){for(var ce=null,Re=null,re=x,ve=x=0,_e=null;re!==null&&ve<I.length;ve++){re.index>ve?(_e=re,re=null):_e=re.sibling;var Ne=U(N,re,I[ve],V);if(Ne===null){re===null&&(re=_e);break}e&&re&&Ne.alternate===null&&t(N,re),x=p(Ne,x,ve),Re===null?ce=Ne:Re.sibling=Ne,Re=Ne,re=_e}if(ve===I.length)return i(N,re),Ce&&fn(N,ve),ce;if(re===null){for(;ve<I.length;ve++)re=P(N,I[ve],V),re!==null&&(x=p(re,x,ve),Re===null?ce=re:Re.sibling=re,Re=re);return Ce&&fn(N,ve),ce}for(re=a(re);ve<I.length;ve++)_e=q(re,N,ve,I[ve],V),_e!==null&&(e&&_e.alternate!==null&&re.delete(_e.key===null?ve:_e.key),x=p(_e,x,ve),Re===null?ce=_e:Re.sibling=_e,Re=_e);return e&&re.forEach(function(el){return t(N,el)}),Ce&&fn(N,ve),ce}function de(N,x,I,V){if(I==null)throw Error(s(151));for(var ce=null,Re=null,re=x,ve=x=0,_e=null,Ne=I.next();re!==null&&!Ne.done;ve++,Ne=I.next()){re.index>ve?(_e=re,re=null):_e=re.sibling;var el=U(N,re,Ne.value,V);if(el===null){re===null&&(re=_e);break}e&&re&&el.alternate===null&&t(N,re),x=p(el,x,ve),Re===null?ce=el:Re.sibling=el,Re=el,re=_e}if(Ne.done)return i(N,re),Ce&&fn(N,ve),ce;if(re===null){for(;!Ne.done;ve++,Ne=I.next())Ne=P(N,Ne.value,V),Ne!==null&&(x=p(Ne,x,ve),Re===null?ce=Ne:Re.sibling=Ne,Re=Ne);return Ce&&fn(N,ve),ce}for(re=a(re);!Ne.done;ve++,Ne=I.next())Ne=q(re,N,ve,Ne.value,V),Ne!==null&&(e&&Ne.alternate!==null&&re.delete(Ne.key===null?ve:Ne.key),x=p(Ne,x,ve),Re===null?ce=Ne:Re.sibling=Ne,Re=Ne);return e&&re.forEach(function(a0){return t(N,a0)}),Ce&&fn(N,ve),ce}function ze(N,x,I,V){if(typeof I=="object"&&I!==null&&I.type===k&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case R:e:{for(var ce=I.key;x!==null;){if(x.key===ce){if(ce=I.type,ce===k){if(x.tag===7){i(N,x.sibling),V=f(x,I.props.children),V.return=N,N=V;break e}}else if(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===X&&vl(ce)===x.type){i(N,x.sibling),V=f(x,I.props),Vi(V,I),V.return=N,N=V;break e}i(N,x);break}else t(N,x);x=x.sibling}I.type===k?(V=pl(I.props.children,N.mode,V,I.key),V.return=N,N=V):(V=Lo(I.type,I.key,I.props,null,N.mode,V),Vi(V,I),V.return=N,N=V)}return T(N);case z:e:{for(ce=I.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===I.containerInfo&&x.stateNode.implementation===I.implementation){i(N,x.sibling),V=f(x,I.children||[]),V.return=N,N=V;break e}else{i(N,x);break}else t(N,x);x=x.sibling}V=Ss(I,N.mode,V),V.return=N,N=V}return T(N);case X:return I=vl(I),ze(N,x,I,V)}if(Ue(I))return ae(N,x,I,V);if(se(I)){if(ce=se(I),typeof ce!="function")throw Error(s(150));return I=ce.call(I),de(N,x,I,V)}if(typeof I.then=="function")return ze(N,x,Bo(I),V);if(I.$$typeof===F)return ze(N,x,Ho(N,I),V);ko(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,x!==null&&x.tag===6?(i(N,x.sibling),V=f(x,I),V.return=N,N=V):(i(N,x),V=Ts(I,N.mode,V),V.return=N,N=V),T(N)):i(N,x)}return function(N,x,I,V){try{Hi=0;var ce=ze(N,x,I,V);return Kl=null,ce}catch(re){if(re===Xl||re===zo)throw re;var Re=It(29,re,null,N.mode);return Re.lanes=V,Re.return=N,Re}finally{}}}var Sl=Pc(!0),Bc=Pc(!1),Hn=!1;function bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(we&2)!==0){var f=a.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),a.pending=t,t=Uo(e),Ac(e,null,i),t}return bo(e,a,t,i),Uo(e)}function zi(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,br(e,i)}}function Ls(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var f=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var T={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,i=i.next}while(i!==null);p===null?f=p=t:p=p.next=t}else f=p=t;i={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var qs=!1;function Pi(){if(qs){var e=Jl;if(e!==null)throw e}}function Bi(e,t,i,a){qs=!1;var f=e.updateQueue;Hn=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,w=A.next;A.next=null,T===null?p=w:T.next=w,T=A;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==T&&(E===null?H.firstBaseUpdate=w:E.next=w,H.lastBaseUpdate=A))}if(p!==null){var P=f.baseState;T=0,H=w=A=null,E=p;do{var U=E.lane&-536870913,q=U!==E.lane;if(q?(Ee&U)===U:(a&U)===U){U!==0&&U===Yl&&(qs=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ae=e,de=E;U=t;var ze=i;switch(de.tag){case 1:if(ae=de.payload,typeof ae=="function"){P=ae.call(ze,P,U);break e}P=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=de.payload,U=typeof ae=="function"?ae.call(ze,P,U):ae,U==null)break e;P=S({},P,U);break e;case 2:Hn=!0}}U=E.callback,U!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[U]:q.push(U))}else q={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(w=H=q,A=P):H=H.next=q,T|=U;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;q=E,E=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);H===null&&(A=P),f.baseState=A,f.firstBaseUpdate=w,f.lastBaseUpdate=H,p===null&&(f.shared.lanes=0),On|=T,e.lanes=T,e.memoizedState=P}}function kc(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Fc(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)kc(i[e],t)}var Ql=M(null),Fo=M(0);function Oc(e,t){e=_n,B(Fo,e),B(Ql,t),_n=e|t.baseLanes}function Gs(){B(Fo,_n),B(Ql,Ql.current)}function Hs(){_n=Fo.current,b(Ql),b(Fo)}var wt=M(null),Ft=null;function Pn(e){var t=e.alternate;B(We,We.current&1),B(wt,e),Ft===null&&(t===null||Ql.current!==null||t.memoizedState!==null)&&(Ft=e)}function Vs(e){B(We,We.current),B(wt,e),Ft===null&&(Ft=e)}function Yc(e){e.tag===22?(B(We,We.current),B(wt,e),Ft===null&&(Ft=e)):Bn()}function Bn(){B(We,We.current),B(wt,wt.current)}function bt(e){b(wt),Ft===e&&(Ft=null),b(We)}var We=M(0);function Oo(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Ou(i)||Yu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mn=0,ye=null,He=null,et=null,Yo=!1,Zl=!1,El=!1,Jo=0,ki=0,Wl=null,Zg=0;function Xe(){throw Error(s(321))}function zs(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Dt(e[i],t[i]))return!1;return!0}function Ps(e,t,i,a,f,p){return mn=p,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Df:tu,El=!1,p=i(a,f),El=!1,Zl&&(p=Xc(t,i,a,f)),Jc(e),p}function Jc(e){L.H=Yi;var t=He!==null&&He.next!==null;if(mn=0,et=He=ye=null,Yo=!1,ki=0,Wl=null,t)throw Error(s(300));e===null||tt||(e=e.dependencies,e!==null&&Go(e)&&(tt=!0))}function Xc(e,t,i,a){ye=e;var f=0;do{if(Zl&&(Wl=null),ki=0,Zl=!1,25<=f)throw Error(s(301));if(f+=1,et=He=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=If,p=t(i,a)}while(Zl);return p}function Wg(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Fi(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(ye.flags|=1024),t}function Bs(){var e=Jo!==0;return Jo=0,e}function ks(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Fs(e){if(Yo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yo=!1}mn=0,et=He=ye=null,Zl=!1,ki=Jo=0,Wl=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ye.memoizedState=et=e:et=et.next=e,et}function $e(){if(He===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=et===null?ye.memoizedState:et.next;if(t!==null)et=t,He=e;else{if(e===null)throw ye.alternate===null?Error(s(467)):Error(s(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},et===null?ye.memoizedState=et=e:et=et.next=e}return et}function Xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fi(e){var t=ki;return ki+=1,Wl===null&&(Wl=[]),e=Hc(Wl,e,t),t=ye,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Df:tu),e}function Ko(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fi(e);if(e.$$typeof===F)return dt(e)}throw Error(s(438,String(e)))}function Os(e){var t=null,i=ye.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ye.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Xo(),ye.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=le;return t.index++,i}function hn(e,t){return typeof t=="function"?t(e):t}function Qo(e){var t=$e();return Ys(t,He,e)}function Ys(e,t,i){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var f=e.baseQueue,p=a.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}t.baseQueue=f=p,a.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{t=f.next;var E=T=null,A=null,w=t,H=!1;do{var P=w.lane&-536870913;if(P!==w.lane?(Ee&P)===P:(mn&P)===P){var U=w.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),P===Yl&&(H=!0);else if((mn&U)===U){w=w.next,U===Yl&&(H=!0);continue}else P={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(E=A=P,T=p):A=A.next=P,ye.lanes|=U,On|=U;P=w.action,El&&i(p,P),p=w.hasEagerState?w.eagerState:i(p,P)}else U={lane:P,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(E=A=U,T=p):A=A.next=U,ye.lanes|=P,On|=P;w=w.next}while(w!==null&&w!==t);if(A===null?T=p:A.next=E,!Dt(p,e.memoizedState)&&(tt=!0,H&&(i=Jl,i!==null)))throw i;e.memoizedState=p,e.baseState=T,e.baseQueue=A,a.lastRenderedState=p}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Js(e){var t=$e(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,f=i.pending,p=t.memoizedState;if(f!==null){i.pending=null;var T=f=f.next;do p=e(p,T.action),T=T.next;while(T!==f);Dt(p,t.memoizedState)||(tt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,a]}function Kc(e,t,i){var a=ye,f=$e(),p=Ce;if(p){if(i===void 0)throw Error(s(407));i=i()}else i=t();var T=!Dt((He||f).memoizedState,i);if(T&&(f.memoizedState=i,tt=!0),f=f.queue,Qs(Wc.bind(null,a,f,e),[e]),f.getSnapshot!==t||T||et!==null&&et.memoizedState.tag&1){if(a.flags|=2048,$l(9,{destroy:void 0},Zc.bind(null,a,f,i,t),null),Pe===null)throw Error(s(349));p||(mn&127)!==0||Qc(a,t,i)}return i}function Qc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ye.updateQueue,t===null?(t=Xo(),ye.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Zc(e,t,i,a){t.value=i,t.getSnapshot=a,$c(t)&&jc(e)}function Wc(e,t,i){return i(function(){$c(t)&&jc(e)})}function $c(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Dt(e,i)}catch{return!0}}function jc(e){var t=dl(e,2);t!==null&&Rt(t,e,2)}function Xs(e){var t=St();if(typeof e=="function"){var i=e;if(e=i(),El){Zt(!0);try{i()}finally{Zt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function ef(e,t,i,a){return e.baseState=i,Ys(e,He,typeof a=="function"?a:hn)}function $g(e,t,i,a,f){if($o(e))throw Error(s(485));if(e=t.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};L.T!==null?i(!0):p.isTransition=!1,a(p),i=t.pending,i===null?(p.next=t.pending=p,tf(t,p)):(p.next=i.next,t.pending=i.next=p)}}function tf(e,t){var i=t.action,a=t.payload,f=e.state;if(t.isTransition){var p=L.T,T={};L.T=T;try{var E=i(f,a),A=L.S;A!==null&&A(T,E),nf(e,t,E)}catch(w){Ks(e,t,w)}finally{p!==null&&T.types!==null&&(p.types=T.types),L.T=p}}else try{p=i(f,a),nf(e,t,p)}catch(w){Ks(e,t,w)}}function nf(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){lf(e,t,a)},function(a){return Ks(e,t,a)}):lf(e,t,i)}function lf(e,t,i){t.status="fulfilled",t.value=i,of(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,tf(e,i)))}function Ks(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,of(t),t=t.next;while(t!==a)}e.action=null}function of(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function af(e,t){return t}function sf(e,t){if(Ce){var i=Pe.formState;if(i!==null){e:{var a=ye;if(Ce){if(Be){t:{for(var f=Be,p=kt;f.nodeType!==8;){if(!p){f=null;break t}if(f=Ot(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Be=Ot(f.nextSibling),a=f.data==="F!";break e}}qn(a)}a=!1}a&&(t=i[0])}}return i=St(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},i.queue=a,i=Mf.bind(null,ye,a),a.dispatch=i,a=Xs(!1),p=eu.bind(null,ye,!1,a.queue),a=St(),f={state:t,dispatch:null,action:e,pending:null},a.queue=f,i=$g.bind(null,ye,f,p,i),f.dispatch=i,a.memoizedState=e,[t,i,!1]}function uf(e){var t=$e();return rf(t,He,e)}function rf(e,t,i){if(t=Ys(e,t,af)[0],e=Qo(hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Fi(t)}catch(T){throw T===Xl?zo:T}else a=t;t=$e();var f=t.queue,p=f.dispatch;return i!==t.memoizedState&&(ye.flags|=2048,$l(9,{destroy:void 0},jg.bind(null,f,i),null)),[a,p,e]}function jg(e,t){e.action=t}function cf(e){var t=$e(),i=He;if(i!==null)return rf(t,i,e);$e(),t=t.memoizedState,i=$e();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function $l(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Xo(),ye.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function ff(){return $e().memoizedState}function Zo(e,t,i,a){var f=St();ye.flags|=e,f.memoizedState=$l(1|t,{destroy:void 0},i,a===void 0?null:a)}function Wo(e,t,i,a){var f=$e();a=a===void 0?null:a;var p=f.memoizedState.inst;He!==null&&a!==null&&zs(a,He.memoizedState.deps)?f.memoizedState=$l(t,p,i,a):(ye.flags|=e,f.memoizedState=$l(1|t,p,i,a))}function df(e,t){Zo(8390656,8,e,t)}function Qs(e,t){Wo(2048,8,e,t)}function ey(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Xo(),ye.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function pf(e){var t=$e().memoizedState;return ey({ref:t,nextImpl:e}),function(){if((we&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function mf(e,t){return Wo(4,2,e,t)}function hf(e,t){return Wo(4,4,e,t)}function gf(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yf(e,t,i){i=i!=null?i.concat([e]):null,Wo(4,4,gf.bind(null,t,e),i)}function Zs(){}function vf(e,t){var i=$e();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&zs(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Tf(e,t){var i=$e();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&zs(t,a[1]))return a[0];if(a=e(),El){Zt(!0);try{e()}finally{Zt(!1)}}return i.memoizedState=[a,t],a}function Ws(e,t,i){return i===void 0||(mn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Sd(),ye.lanes|=e,On|=e,i)}function Sf(e,t,i,a){return Dt(i,t)?i:Ql.current!==null?(e=Ws(e,i,a),Dt(e,t)||(tt=!0),e):(mn&42)===0||(mn&1073741824)!==0&&(Ee&261930)===0?(tt=!0,e.memoizedState=i):(e=Sd(),ye.lanes|=e,On|=e,t)}function Ef(e,t,i,a,f){var p=$.p;$.p=p!==0&&8>p?p:8;var T=L.T,E={};L.T=E,eu(e,!1,t,i);try{var A=f(),w=L.S;if(w!==null&&w(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=Qg(A,a);Oi(e,t,H,qt(e))}else Oi(e,t,a,qt(e))}catch(P){Oi(e,t,{then:function(){},status:"rejected",reason:P},qt())}finally{$.p=p,T!==null&&E.types!==null&&(T.types=E.types),L.T=T}}function ty(){}function $s(e,t,i,a){if(e.tag!==5)throw Error(s(476));var f=_f(e).queue;Ef(e,f,t,fe,i===null?ty:function(){return Cf(e),i(a)})}function _f(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:fe},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cf(e){var t=_f(e);t.next===null&&(t=e.alternate.memoizedState),Oi(e,t.next.queue,{},qt())}function js(){return dt(so)}function Af(){return $e().memoizedState}function xf(){return $e().memoizedState}function ny(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=qt();e=Vn(i);var a=zn(t,e,i);a!==null&&(Rt(a,t,i),zi(a,t,i)),t={cache:Ns()},e.payload=t;return}t=t.return}}function ly(e,t,i){var a=qt();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},$o(e)?Rf(t,i):(i=ys(e,t,i,a),i!==null&&(Rt(i,e,a),Nf(i,t,a)))}function Mf(e,t,i){var a=qt();Oi(e,t,i,a)}function Oi(e,t,i,a){var f={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if($o(e))Rf(t,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var T=t.lastRenderedState,E=p(T,i);if(f.hasEagerState=!0,f.eagerState=E,Dt(E,T))return bo(e,t,f,0),Pe===null&&wo(),!1}catch{}finally{}if(i=ys(e,t,f,a),i!==null)return Rt(i,e,a),Nf(i,t,a),!0}return!1}function eu(e,t,i,a){if(a={lane:2,revertLane:bu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$o(e)){if(t)throw Error(s(479))}else t=ys(e,i,a,2),t!==null&&Rt(t,e,2)}function $o(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Rf(e,t){Zl=Yo=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Nf(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,br(e,i)}}var Yi={readContext:dt,use:Ko,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Yi.useEffectEvent=Xe;var Df={readContext:dt,use:Ko,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:df,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Zo(4194308,4,gf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){Zo(4,2,e,t)},useMemo:function(e,t){var i=St();t=t===void 0?null:t;var a=e();if(El){Zt(!0);try{e()}finally{Zt(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=St();if(i!==void 0){var f=i(t);if(El){Zt(!0);try{i(t)}finally{Zt(!1)}}}else f=t;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=ly.bind(null,ye,e),[a.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Xs(e);var t=e.queue,i=Mf.bind(null,ye,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Zs,useDeferredValue:function(e,t){var i=St();return Ws(i,e,t)},useTransition:function(){var e=Xs(!1);return e=Ef.bind(null,ye,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ye,f=St();if(Ce){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Pe===null)throw Error(s(349));(Ee&127)!==0||Qc(a,t,i)}f.memoizedState=i;var p={value:i,getSnapshot:t};return f.queue=p,df(Wc.bind(null,a,p,e),[e]),a.flags|=2048,$l(9,{destroy:void 0},Zc.bind(null,a,p,i,t),null),i},useId:function(){var e=St(),t=Pe.identifierPrefix;if(Ce){var i=ln,a=nn;i=(a&~(1<<32-at(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Jo++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Zg++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:js,useFormState:sf,useActionState:sf,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=eu.bind(null,ye,!0,i),i.dispatch=t,[e,t]},useMemoCache:Os,useCacheRefresh:function(){return St().memoizedState=ny.bind(null,ye)},useEffectEvent:function(e){var t=St(),i={impl:e};return t.memoizedState=i,function(){if((we&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},tu={readContext:dt,use:Ko,useCallback:vf,useContext:dt,useEffect:Qs,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:hf,useMemo:Tf,useReducer:Qo,useRef:ff,useState:function(){return Qo(hn)},useDebugValue:Zs,useDeferredValue:function(e,t){var i=$e();return Sf(i,He.memoizedState,e,t)},useTransition:function(){var e=Qo(hn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Fi(e),t]},useSyncExternalStore:Kc,useId:Af,useHostTransitionStatus:js,useFormState:uf,useActionState:uf,useOptimistic:function(e,t){var i=$e();return ef(i,He,e,t)},useMemoCache:Os,useCacheRefresh:xf};tu.useEffectEvent=pf;var If={readContext:dt,use:Ko,useCallback:vf,useContext:dt,useEffect:Qs,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:hf,useMemo:Tf,useReducer:Js,useRef:ff,useState:function(){return Js(hn)},useDebugValue:Zs,useDeferredValue:function(e,t){var i=$e();return He===null?Ws(i,e,t):Sf(i,He.memoizedState,e,t)},useTransition:function(){var e=Js(hn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Fi(e),t]},useSyncExternalStore:Kc,useId:Af,useHostTransitionStatus:js,useFormState:cf,useActionState:cf,useOptimistic:function(e,t){var i=$e();return He!==null?ef(i,He,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Os,useCacheRefresh:xf};If.useEffectEvent=pf;function nu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var lu={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=qt(),f=Vn(a);f.payload=t,i!=null&&(f.callback=i),t=zn(e,f,a),t!==null&&(Rt(t,e,a),zi(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=qt(),f=Vn(a);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=zn(e,f,a),t!==null&&(Rt(t,e,a),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=qt(),a=Vn(i);a.tag=2,t!=null&&(a.callback=t),t=zn(e,a,i),t!==null&&(Rt(t,e,i),zi(t,e,i))}};function wf(e,t,i,a,f,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,T):t.prototype&&t.prototype.isPureReactComponent?!wi(i,a)||!wi(f,p):!0}function bf(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&lu.enqueueReplaceState(t,t.state,null)}function _l(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Uf(e){Io(e)}function Lf(e){console.error(e)}function qf(e){Io(e)}function jo(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Gf(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function iu(e,t,i){return i=Vn(i),i.tag=3,i.payload={element:null},i.callback=function(){jo(e,t)},i}function Hf(e){return e=Vn(e),e.tag=3,e}function Vf(e,t,i,a){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var p=a.value;e.payload=function(){return f(p)},e.callback=function(){Gf(t,i,a)}}var T=i.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Gf(t,i,a),typeof f!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function iy(e,t,i,a,f){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&Ol(t,i,f,!0),i=wt.current,i!==null){switch(i.tag){case 31:case 13:return Ft===null?fa():i.alternate===null&&Ke===0&&(Ke=3),i.flags&=-257,i.flags|=65536,i.lanes=f,a===Po?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),Du(e,a,f)),!1;case 22:return i.flags|=65536,a===Po?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),Du(e,a,f)),!1}throw Error(s(435,i.tag))}return Du(e,a,f),fa(),!1}if(Ce)return t=wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,a!==Cs&&(e=Error(s(422),{cause:a}),Li(zt(e,i)))):(a!==Cs&&(t=Error(s(423),{cause:a}),Li(zt(t,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=zt(a,i),f=iu(e.stateNode,a,f),Ls(e,f),Ke!==4&&(Ke=2)),!1;var p=Error(s(520),{cause:a});if(p=zt(p,i),ji===null?ji=[p]:ji.push(p),Ke!==4&&(Ke=2),t===null)return!0;a=zt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=iu(i.stateNode,a,e),Ls(i,e),!1;case 1:if(t=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yn===null||!Yn.has(p))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Hf(f),Vf(f,e,i,a),Ls(i,f),!1}i=i.return}while(i!==null);return!1}var ou=Error(s(461)),tt=!1;function pt(e,t,i,a){t.child=e===null?Bc(t,null,i,a):Sl(t,e.child,i,a)}function zf(e,t,i,a,f){i=i.render;var p=t.ref;if("ref"in a){var T={};for(var E in a)E!=="ref"&&(T[E]=a[E])}else T=a;return gl(t),a=Ps(e,t,i,T,p,f),E=Bs(),e!==null&&!tt?(ks(e,t,f),gn(e,t,f)):(Ce&&E&&Es(t),t.flags|=1,pt(e,t,a,f),t.child)}function Pf(e,t,i,a,f){if(e===null){var p=i.type;return typeof p=="function"&&!vs(p)&&p.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=p,Bf(e,t,p,a,f)):(e=Lo(i.type,null,a,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!pu(e,f)){var T=p.memoizedProps;if(i=i.compare,i=i!==null?i:wi,i(T,a)&&e.ref===t.ref)return gn(e,t,f)}return t.flags|=1,e=cn(p,a),e.ref=t.ref,e.return=t,t.child=e}function Bf(e,t,i,a,f){if(e!==null){var p=e.memoizedProps;if(wi(p,a)&&e.ref===t.ref)if(tt=!1,t.pendingProps=a=p,pu(e,f))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,gn(e,t,f)}return au(e,t,i,a,f)}function kf(e,t,i,a){var f=a.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,e!==null){for(a=t.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~p}else a=0,t.child=null;return Ff(e,t,p,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vo(t,p!==null?p.cachePool:null),p!==null?Oc(t,p):Gs(),Yc(t);else return a=t.lanes=536870912,Ff(e,t,p!==null?p.baseLanes|i:i,i,a)}else p!==null?(Vo(t,p.cachePool),Oc(t,p),Bn(),t.memoizedState=null):(e!==null&&Vo(t,null),Gs(),Bn());return pt(e,t,f,i),t.child}function Ji(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ff(e,t,i,a,f){var p=Is();return p=p===null?null:{parent:je._currentValue,pool:p},t.memoizedState={baseLanes:i,cachePool:p},e!==null&&Vo(t,null),Gs(),Yc(t),e!==null&&Ol(e,t,a,!0),t.childLanes=f,null}function ea(e,t){return t=na({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Of(e,t,i){return Sl(t,e.child,null,i),e=ea(t,t.pendingProps),e.flags|=2,bt(t),t.memoizedState=null,e}function oy(e,t,i){var a=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ce){if(a.mode==="hidden")return e=ea(t,a),t.lanes=536870912,Ji(null,e);if(Vs(t),(e=Be)?(e=np(e,kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:nn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},i=Mc(e),i.return=t,t.child=i,ft=t,Be=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return ea(t,a)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(Vs(t),f)if(t.flags&256)t.flags&=-257,t=Of(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(tt||Ol(e,t,i,!1),f=(i&e.childLanes)!==0,tt||f){if(a=Pe,a!==null&&(T=Ur(a,i),T!==0&&T!==p.retryLane))throw p.retryLane=T,dl(e,T),Rt(a,e,T),ou;fa(),t=Of(e,t,i)}else e=p.treeContext,Be=Ot(T.nextSibling),ft=t,Ce=!0,Ln=null,kt=!1,e!==null&&Dc(t,e),t=ea(t,a),t.flags|=4096;return t}return e=cn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ta(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function au(e,t,i,a,f){return gl(t),i=Ps(e,t,i,a,void 0,f),a=Bs(),e!==null&&!tt?(ks(e,t,f),gn(e,t,f)):(Ce&&a&&Es(t),t.flags|=1,pt(e,t,i,f),t.child)}function Yf(e,t,i,a,f,p){return gl(t),t.updateQueue=null,i=Xc(t,a,i,f),Jc(e),a=Bs(),e!==null&&!tt?(ks(e,t,p),gn(e,t,p)):(Ce&&a&&Es(t),t.flags|=1,pt(e,t,i,p),t.child)}function Jf(e,t,i,a,f){if(gl(t),t.stateNode===null){var p=Pl,T=i.contextType;typeof T=="object"&&T!==null&&(p=dt(T)),p=new i(a,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=lu,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=a,p.state=t.memoizedState,p.refs={},bs(t),T=i.contextType,p.context=typeof T=="object"&&T!==null?dt(T):Pl,p.state=t.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(nu(t,i,T,a),p.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&lu.enqueueReplaceState(p,p.state,null),Bi(t,a,p,f),Pi(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){p=t.stateNode;var E=t.memoizedProps,A=_l(i,E);p.props=A;var w=p.context,H=i.contextType;T=Pl,typeof H=="object"&&H!==null&&(T=dt(H));var P=i.getDerivedStateFromProps;H=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||w!==T)&&bf(t,p,a,T),Hn=!1;var U=t.memoizedState;p.state=U,Bi(t,a,p,f),Pi(),w=t.memoizedState,E||U!==w||Hn?(typeof P=="function"&&(nu(t,i,P,a),w=t.memoizedState),(A=Hn||wf(t,i,A,a,U,w,T))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=w),p.props=a,p.state=w,p.context=T,a=A):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,Us(e,t),T=t.memoizedProps,H=_l(i,T),p.props=H,P=t.pendingProps,U=p.context,w=i.contextType,A=Pl,typeof w=="object"&&w!==null&&(A=dt(w)),E=i.getDerivedStateFromProps,(w=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==P||U!==A)&&bf(t,p,a,A),Hn=!1,U=t.memoizedState,p.state=U,Bi(t,a,p,f),Pi();var q=t.memoizedState;T!==P||U!==q||Hn||e!==null&&e.dependencies!==null&&Go(e.dependencies)?(typeof E=="function"&&(nu(t,i,E,a),q=t.memoizedState),(H=Hn||wf(t,i,H,a,U,q,A)||e!==null&&e.dependencies!==null&&Go(e.dependencies))?(w||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,q,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,q,A)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=q),p.props=a,p.state=q,p.context=A,a=H):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),a=!1)}return p=a,ta(e,t),a=(t.flags&128)!==0,p||a?(p=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&a?(t.child=Sl(t,e.child,null,f),t.child=Sl(t,null,i,f)):pt(e,t,i,f),t.memoizedState=p.state,e=t.child):e=gn(e,t,f),e}function Xf(e,t,i,a){return ml(),t.flags|=256,pt(e,t,i,a),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(e){return{baseLanes:e,cachePool:qc()}}function ru(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Lt),e}function Kf(e,t,i){var a=t.pendingProps,f=!1,p=(t.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),T&&(f=!0,t.flags&=-129),T=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(f?Pn(t):Bn(),(e=Be)?(e=np(e,kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:nn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},i=Mc(e),i.return=t,t.child=i,ft=t,Be=null)):e=null,e===null)throw qn(t);return Yu(e)?t.lanes=32:t.lanes=536870912,null}var E=a.children;return a=a.fallback,f?(Bn(),f=t.mode,E=na({mode:"hidden",children:E},f),a=pl(a,f,i,null),E.return=t,a.return=t,E.sibling=a,t.child=E,a=t.child,a.memoizedState=uu(i),a.childLanes=ru(e,T,i),t.memoizedState=su,Ji(null,a)):(Pn(t),cu(t,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(p)t.flags&256?(Pn(t),t.flags&=-257,t=fu(e,t,i)):t.memoizedState!==null?(Bn(),t.child=e.child,t.flags|=128,t=null):(Bn(),E=a.fallback,f=t.mode,a=na({mode:"visible",children:a.children},f),E=pl(E,f,i,null),E.flags|=2,a.return=t,E.return=t,a.sibling=E,t.child=a,Sl(t,e.child,null,i),a=t.child,a.memoizedState=uu(i),a.childLanes=ru(e,T,i),t.memoizedState=su,t=Ji(null,a));else if(Pn(t),Yu(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var w=T.dgst;T=w,a=Error(s(419)),a.stack="",a.digest=T,Li({value:a,source:null,stack:null}),t=fu(e,t,i)}else if(tt||Ol(e,t,i,!1),T=(i&e.childLanes)!==0,tt||T){if(T=Pe,T!==null&&(a=Ur(T,i),a!==0&&a!==A.retryLane))throw A.retryLane=a,dl(e,a),Rt(T,e,a),ou;Ou(E)||fa(),t=fu(e,t,i)}else Ou(E)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Be=Ot(E.nextSibling),ft=t,Ce=!0,Ln=null,kt=!1,e!==null&&Dc(t,e),t=cu(t,a.children),t.flags|=4096);return t}return f?(Bn(),E=a.fallback,f=t.mode,A=e.child,w=A.sibling,a=cn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,w!==null?E=cn(w,E):(E=pl(E,f,i,null),E.flags|=2),E.return=t,a.return=t,a.sibling=E,t.child=a,Ji(null,a),a=t.child,E=e.child.memoizedState,E===null?E=uu(i):(f=E.cachePool,f!==null?(A=je._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=qc(),E={baseLanes:E.baseLanes|i,cachePool:f}),a.memoizedState=E,a.childLanes=ru(e,T,i),t.memoizedState=su,Ji(e.child,a)):(Pn(t),i=e.child,e=i.sibling,i=cn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(T=t.deletions,T===null?(t.deletions=[e],t.flags|=16):T.push(e)),t.child=i,t.memoizedState=null,i)}function cu(e,t){return t=na({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function na(e,t){return e=It(22,e,null,t),e.lanes=0,e}function fu(e,t,i){return Sl(t,e.child,null,i),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qf(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ms(e.return,t,i)}function du(e,t,i,a,f,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:f,treeForkCount:p}:(T.isBackwards=t,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=i,T.tailMode=f,T.treeForkCount=p)}function Zf(e,t,i){var a=t.pendingProps,f=a.revealOrder,p=a.tail;a=a.children;var T=We.current,E=(T&2)!==0;if(E?(T=T&1|2,t.flags|=128):T&=1,B(We,T),pt(e,t,a,i),a=Ce?Ui:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qf(e,i,t);else if(e.tag===19)Qf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=t.child,f=null;i!==null;)e=i.alternate,e!==null&&Oo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=t.child,t.child=null):(f=i.sibling,i.sibling=null),du(t,!1,f,i,p,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Oo(e)===null){t.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}du(t,!0,i,null,p,a);break;case"together":du(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function gn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ol(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=cn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=cn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function pu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Go(e)))}function ay(e,t,i){switch(t.tag){case 3:ue(t,t.stateNode.containerInfo),Gn(t,je,e.memoizedState.cache),ml();break;case 27:case 5:me(t);break;case 4:ue(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Vs(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Pn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Kf(e,t,i):(Pn(t),e=gn(e,t,i),e!==null?e.sibling:null);Pn(t);break;case 19:var f=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(Ol(e,t,i,!1),a=(i&t.childLanes)!==0),f){if(a)return Zf(e,t,i);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),B(We,We.current),a)break;return null;case 22:return t.lanes=0,kf(e,t,i,t.pendingProps);case 24:Gn(t,je,e.memoizedState.cache)}return gn(e,t,i)}function Wf(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!pu(e,i)&&(t.flags&128)===0)return tt=!1,ay(e,t,i);tt=(e.flags&131072)!==0}else tt=!1,Ce&&(t.flags&1048576)!==0&&Nc(t,Ui,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=vl(t.elementType),t.type=e,typeof e=="function")vs(e)?(a=_l(e,a),t.tag=1,t=Jf(null,t,e,a,i)):(t.tag=0,t=au(null,t,e,a,i));else{if(e!=null){var f=e.$$typeof;if(f===j){t.tag=11,t=zf(null,t,e,a,i);break e}else if(f===Q){t.tag=14,t=Pf(null,t,e,a,i);break e}}throw t=xe(e)||e,Error(s(306,t,""))}}return t;case 0:return au(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,f=_l(a,t.pendingProps),Jf(e,t,a,f,i);case 3:e:{if(ue(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var p=t.memoizedState;f=p.element,Us(e,t),Bi(t,a,null,i);var T=t.memoizedState;if(a=T.cache,Gn(t,je,a),a!==p.cache&&Rs(t,[je],i,!0),Pi(),a=T.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:T.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=Xf(e,t,a,i);break e}else if(a!==f){f=zt(Error(s(424)),t),Li(f),t=Xf(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Ot(e.firstChild),ft=t,Ce=!0,Ln=null,kt=!0,i=Bc(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ml(),a===f){t=gn(e,t,i);break e}pt(e,t,a,i)}t=t.child}return t;case 26:return ta(e,t),e===null?(i=up(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ce||(i=t.type,e=t.pendingProps,a=va(W.current).createElement(i),a[ct]=t,a[Et]=e,mt(a,i,e),st(a),t.stateNode=a):t.memoizedState=up(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&Ce&&(a=t.stateNode=op(t.type,t.pendingProps,W.current),ft=t,kt=!0,f=Be,Qn(t.type)?(Ju=f,Be=Ot(a.firstChild)):Be=f),pt(e,t,t.pendingProps.children,i),ta(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((f=a=Be)&&(a=Gy(a,t.type,t.pendingProps,kt),a!==null?(t.stateNode=a,ft=t,Be=Ot(a.firstChild),kt=!1,f=!0):f=!1),f||qn(t)),me(t),f=t.type,p=t.pendingProps,T=e!==null?e.memoizedProps:null,a=p.children,Bu(f,p)?a=null:T!==null&&Bu(f,T)&&(t.flags|=32),t.memoizedState!==null&&(f=Ps(e,t,Wg,null,null,i),so._currentValue=f),ta(e,t),pt(e,t,a,i),t.child;case 6:return e===null&&Ce&&((e=i=Be)&&(i=Hy(i,t.pendingProps,kt),i!==null?(t.stateNode=i,ft=t,Be=null,e=!0):e=!1),e||qn(t)),null;case 13:return Kf(e,t,i);case 4:return ue(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Sl(t,null,a,i):pt(e,t,a,i),t.child;case 11:return zf(e,t,t.type,t.pendingProps,i);case 7:return pt(e,t,t.pendingProps,i),t.child;case 8:return pt(e,t,t.pendingProps.children,i),t.child;case 12:return pt(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,Gn(t,t.type,a.value),pt(e,t,a.children,i),t.child;case 9:return f=t.type._context,a=t.pendingProps.children,gl(t),f=dt(f),a=a(f),t.flags|=1,pt(e,t,a,i),t.child;case 14:return Pf(e,t,t.type,t.pendingProps,i);case 15:return Bf(e,t,t.type,t.pendingProps,i);case 19:return Zf(e,t,i);case 31:return oy(e,t,i);case 22:return kf(e,t,i,t.pendingProps);case 24:return gl(t),a=dt(je),e===null?(f=Is(),f===null&&(f=Pe,p=Ns(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=i),f=p),t.memoizedState={parent:a,cache:f},bs(t),Gn(t,je,f)):((e.lanes&i)!==0&&(Us(e,t),Bi(t,null,null,i),Pi()),f=e.memoizedState,p=t.memoizedState,f.parent!==a?(f={parent:a,cache:a},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),Gn(t,je,a)):(a=p.cache,Gn(t,je,a),a!==f.cache&&Rs(t,[je],i,!0))),pt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function yn(e){e.flags|=4}function mu(e,t,i,a,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Ad())e.flags|=8192;else throw Tl=Po,ws}else e.flags&=-16777217}function $f(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pp(t))if(Ad())e.flags|=8192;else throw Tl=Po,ws}function la(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ir():536870912,e.lanes|=t,ni|=t)}function Xi(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function sy(e,t,i){var a=t.pendingProps;switch(_s(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pn(je),pe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Fl(t)?yn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,As())),ke(t),null;case 26:var f=t.type,p=t.memoizedState;return e===null?(yn(t),p!==null?(ke(t),$f(t,p)):(ke(t),mu(t,f,null,a,i))):p?p!==e.memoizedState?(yn(t),ke(t),$f(t,p)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&yn(t),ke(t),mu(t,f,e,a,i)),null;case 27:if(Ge(t),i=W.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&yn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return ke(t),null}e=D.current,Fl(t)?Ic(t):(e=op(f,a,i),t.stateNode=e,yn(t))}return ke(t),null;case 5:if(Ge(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&yn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return ke(t),null}if(p=D.current,Fl(t))Ic(t);else{var T=va(W.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?T.createElement(f,{is:a.is}):T.createElement(f)}}p[ct]=t,p[Et]=a;e:for(T=t.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}t.stateNode=p;e:switch(mt(p,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yn(t)}}return ke(t),mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&yn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=W.current,Fl(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,f=ft,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[ct]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||Kd(e.nodeValue,i)),e||qn(t,!0)}else e=va(e).createTextNode(a),e[ct]=t,t.stateNode=e}return ke(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=Fl(t),i!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ct]=t}else ml(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else i=As(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(bt(t),t):(bt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return ke(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Fl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ct]=t}else ml(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),f=!1}else f=As(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(bt(t),t):(bt(t),null)}return bt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==f&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),la(t,t.updateQueue),ke(t),null);case 4:return pe(),e===null&&Gu(t.stateNode.containerInfo),ke(t),null;case 10:return pn(t.type),ke(t),null;case 19:if(b(We),a=t.memoizedState,a===null)return ke(t),null;if(f=(t.flags&128)!==0,p=a.rendering,p===null)if(f)Xi(a,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Oo(e),p!==null){for(t.flags|=128,Xi(a,!1),e=p.updateQueue,t.updateQueue=e,la(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)xc(i,e),i=i.sibling;return B(We,We.current&1|2),Ce&&fn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ze()>ua&&(t.flags|=128,f=!0,Xi(a,!1),t.lanes=4194304)}else{if(!f)if(e=Oo(p),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,la(t,e),Xi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Ce)return ke(t),null}else 2*Ze()-a.renderingStartTime>ua&&i!==536870912&&(t.flags|=128,f=!0,Xi(a,!1),t.lanes=4194304);a.isBackwards?(p.sibling=t.child,t.child=p):(e=a.last,e!==null?e.sibling=p:t.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ze(),e.sibling=null,i=We.current,B(We,f?i&1|2:i&1),Ce&&fn(t,a.treeForkCount),e):(ke(t),null);case 22:case 23:return bt(t),Hs(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),i=t.updateQueue,i!==null&&la(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&b(yl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pn(je),ke(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function uy(e,t){switch(_s(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(je),pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ge(t),null;case 31:if(t.memoizedState!==null){if(bt(t),t.alternate===null)throw Error(s(340));ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return b(We),null;case 4:return pe(),null;case 10:return pn(t.type),null;case 22:case 23:return bt(t),Hs(),e!==null&&b(yl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(je),null;case 25:return null;default:return null}}function jf(e,t){switch(_s(t),t.tag){case 3:pn(je),pe();break;case 26:case 27:case 5:Ge(t);break;case 4:pe();break;case 31:t.memoizedState!==null&&bt(t);break;case 13:bt(t);break;case 19:b(We);break;case 10:pn(t.type);break;case 22:case 23:bt(t),Hs(),e!==null&&b(yl);break;case 24:pn(je)}}function Ki(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var f=a.next;i=f;do{if((i.tag&e)===e){a=void 0;var p=i.create,T=i.inst;a=p(),T.destroy=a}i=i.next}while(i!==f)}}catch(E){qe(t,t.return,E)}}function kn(e,t,i){try{var a=t.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&e)===e){var T=a.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,f=t;var A=i,w=E;try{w()}catch(H){qe(f,A,H)}}}a=a.next}while(a!==p)}}catch(H){qe(t,t.return,H)}}function ed(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Fc(t,i)}catch(a){qe(e,e.return,a)}}}function td(e,t,i){i.props=_l(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){qe(e,t,a)}}function Qi(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(f){qe(e,t,f)}}function on(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(f){qe(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){qe(e,t,f)}else i.current=null}function nd(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(f){qe(e,e.return,f)}}function hu(e,t,i){try{var a=e.stateNode;Iy(a,e.type,i,t),a[Et]=t}catch(f){qe(e,e.return,f)}}function ld(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=un));else if(a!==4&&(a===27&&Qn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,i),e=e.sibling;e!==null;)yu(e,t,i),e=e.sibling}function ia(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Qn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ia(e,t,i),e=e.sibling;e!==null;)ia(e,t,i),e=e.sibling}function id(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);mt(t,a,i),t[ct]=e,t[Et]=i}catch(p){qe(e,e.return,p)}}var vn=!1,nt=!1,vu=!1,od=typeof WeakSet=="function"?WeakSet:Set,ut=null;function ry(e,t){if(e=e.containerInfo,zu=xa,e=gc(e),fs(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var f=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var T=0,E=-1,A=-1,w=0,H=0,P=e,U=null;t:for(;;){for(var q;P!==i||f!==0&&P.nodeType!==3||(E=T+f),P!==p||a!==0&&P.nodeType!==3||(A=T+a),P.nodeType===3&&(T+=P.nodeValue.length),(q=P.firstChild)!==null;)U=P,P=q;for(;;){if(P===e)break t;if(U===i&&++w===f&&(E=T),U===p&&++H===a&&(A=T),(q=P.nextSibling)!==null)break;P=U,U=P.parentNode}P=q}i=E===-1||A===-1?null:{start:E,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Pu={focusedElem:e,selectionRange:i},xa=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=t,f=p.memoizedProps,p=p.memoizedState,a=i.stateNode;try{var ae=_l(i.type,f);e=a.getSnapshotBeforeUpdate(ae,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(de){qe(i,i.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Fu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function ad(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Sn(e,i),a&4&&Ki(5,i);break;case 1:if(Sn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(T){qe(i,i.return,T)}else{var f=_l(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(T){qe(i,i.return,T)}}a&64&&ed(i),a&512&&Qi(i,i.return);break;case 3:if(Sn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Fc(e,t)}catch(T){qe(i,i.return,T)}}break;case 27:t===null&&a&4&&id(i);case 26:case 5:Sn(e,i),t===null&&a&4&&nd(i),a&512&&Qi(i,i.return);break;case 12:Sn(e,i);break;case 31:Sn(e,i),a&4&&rd(e,i);break;case 13:Sn(e,i),a&4&&cd(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=vy.bind(null,i),Vy(e,i))));break;case 22:if(a=i.memoizedState!==null||vn,!a){t=t!==null&&t.memoizedState!==null||nt,f=vn;var p=nt;vn=a,(nt=t)&&!p?En(e,i,(i.subtreeFlags&8772)!==0):Sn(e,i),vn=f,nt=p}break;case 30:break;default:Sn(e,i)}}function sd(e){var t=e.alternate;t!==null&&(e.alternate=null,sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ka(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,Ct=!1;function Tn(e,t,i){for(i=i.child;i!==null;)ud(e,t,i),i=i.sibling}function ud(e,t,i){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(Qt,i)}catch{}switch(i.tag){case 26:nt||on(i,t),Tn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:nt||on(i,t);var a=Oe,f=Ct;Qn(i.type)&&(Oe=i.stateNode,Ct=!1),Tn(e,t,i),io(i.stateNode),Oe=a,Ct=f;break;case 5:nt||on(i,t);case 6:if(a=Oe,f=Ct,Oe=null,Tn(e,t,i),Oe=a,Ct=f,Oe!==null)if(Ct)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(i.stateNode)}catch(p){qe(i,t,p)}else try{Oe.removeChild(i.stateNode)}catch(p){qe(i,t,p)}break;case 18:Oe!==null&&(Ct?(e=Oe,ep(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ci(e)):ep(Oe,i.stateNode));break;case 4:a=Oe,f=Ct,Oe=i.stateNode.containerInfo,Ct=!0,Tn(e,t,i),Oe=a,Ct=f;break;case 0:case 11:case 14:case 15:kn(2,i,t),nt||kn(4,i,t),Tn(e,t,i);break;case 1:nt||(on(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&td(i,t,a)),Tn(e,t,i);break;case 21:Tn(e,t,i);break;case 22:nt=(a=nt)||i.memoizedState!==null,Tn(e,t,i),nt=a;break;default:Tn(e,t,i)}}function rd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ci(e)}catch(i){qe(t,t.return,i)}}}function cd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ci(e)}catch(i){qe(t,t.return,i)}}function cy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new od),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new od),t;default:throw Error(s(435,e.tag))}}function oa(e,t){var i=cy(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var f=Ty.bind(null,e,a);a.then(f,f)}})}function At(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var f=i[a],p=e,T=t,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Qn(E.type)){Oe=E.stateNode,Ct=!1;break e}break;case 5:Oe=E.stateNode,Ct=!1;break e;case 3:case 4:Oe=E.stateNode.containerInfo,Ct=!0;break e}E=E.return}if(Oe===null)throw Error(s(160));ud(p,T,f),Oe=null,Ct=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)fd(t,e),t=t.sibling}var $t=null;function fd(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),xt(e),a&4&&(kn(3,e,e.return),Ki(3,e),kn(5,e,e.return));break;case 1:At(t,e),xt(e),a&512&&(nt||i===null||on(i,i.return)),a&64&&vn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var f=$t;if(At(t,e),xt(e),a&512&&(nt||i===null||on(i,i.return)),a&4){var p=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":p=f.getElementsByTagName("title")[0],(!p||p[_i]||p[ct]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(a),f.head.insertBefore(p,f.querySelector("head > title"))),mt(p,a,i),p[ct]=e,st(p),a=p;break e;case"link":var T=fp("link","href",f).get(a+(i.href||""));if(T){for(var E=0;E<T.length;E++)if(p=T[E],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){T.splice(E,1);break t}}p=f.createElement(a),mt(p,a,i),f.head.appendChild(p);break;case"meta":if(T=fp("meta","content",f).get(a+(i.content||""))){for(E=0;E<T.length;E++)if(p=T[E],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){T.splice(E,1);break t}}p=f.createElement(a),mt(p,a,i),f.head.appendChild(p);break;default:throw Error(s(468,a))}p[ct]=e,st(p),a=p}e.stateNode=a}else dp(f,e.type,e.stateNode);else e.stateNode=cp(f,a,e.memoizedProps);else p!==a?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,a===null?dp(f,e.type,e.stateNode):cp(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&hu(e,e.memoizedProps,i.memoizedProps)}break;case 27:At(t,e),xt(e),a&512&&(nt||i===null||on(i,i.return)),i!==null&&a&4&&hu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(At(t,e),xt(e),a&512&&(nt||i===null||on(i,i.return)),e.flags&32){f=e.stateNode;try{Ul(f,"")}catch(ae){qe(e,e.return,ae)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,hu(e,f,i!==null?i.memoizedProps:f)),a&1024&&(vu=!0);break;case 6:if(At(t,e),xt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(ae){qe(e,e.return,ae)}}break;case 3:if(Ea=null,f=$t,$t=Ta(t.containerInfo),At(t,e),$t=f,xt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(ae){qe(e,e.return,ae)}vu&&(vu=!1,dd(e));break;case 4:a=$t,$t=Ta(e.stateNode.containerInfo),At(t,e),xt(e),$t=a;break;case 12:At(t,e),xt(e);break;case 31:At(t,e),xt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,oa(e,a)));break;case 13:At(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(sa=Ze()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,oa(e,a)));break;case 22:f=e.memoizedState!==null;var A=i!==null&&i.memoizedState!==null,w=vn,H=nt;if(vn=w||f,nt=H||A,At(t,e),nt=H,vn=w,xt(e),a&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(i===null||A||vn||nt||Cl(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){A=i=t;try{if(p=A.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var P=A.memoizedProps.style,U=P!=null&&P.hasOwnProperty("display")?P.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ae){qe(A,A.return,ae)}}}else if(t.tag===6){if(i===null){A=t;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(ae){qe(A,A.return,ae)}}}else if(t.tag===18){if(i===null){A=t;try{var q=A.stateNode;f?tp(q,!0):tp(A.stateNode,!1)}catch(ae){qe(A,A.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,oa(e,i))));break;case 19:At(t,e),xt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,oa(e,a)));break;case 30:break;case 21:break;default:At(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(ld(a)){i=a;break}a=a.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,p=gu(e);ia(e,p,f);break;case 5:var T=i.stateNode;i.flags&32&&(Ul(T,""),i.flags&=-33);var E=gu(e);ia(e,E,T);break;case 3:case 4:var A=i.stateNode.containerInfo,w=gu(e);yu(e,w,A);break;default:throw Error(s(161))}}catch(H){qe(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ad(e,t.alternate,t),t=t.sibling}function Cl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:kn(4,t,t.return),Cl(t);break;case 1:on(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&td(t,t.return,i),Cl(t);break;case 27:io(t.stateNode);case 26:case 5:on(t,t.return),Cl(t);break;case 22:t.memoizedState===null&&Cl(t);break;case 30:Cl(t);break;default:Cl(t)}e=e.sibling}}function En(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,f=e,p=t,T=p.flags;switch(p.tag){case 0:case 11:case 15:En(f,p,i),Ki(4,p);break;case 1:if(En(f,p,i),a=p,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(w){qe(a,a.return,w)}if(a=p,f=a.updateQueue,f!==null){var E=a.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)kc(A[f],E)}catch(w){qe(a,a.return,w)}}i&&T&64&&ed(p),Qi(p,p.return);break;case 27:id(p);case 26:case 5:En(f,p,i),i&&a===null&&T&4&&nd(p),Qi(p,p.return);break;case 12:En(f,p,i);break;case 31:En(f,p,i),i&&T&4&&rd(f,p);break;case 13:En(f,p,i),i&&T&4&&cd(f,p);break;case 22:p.memoizedState===null&&En(f,p,i),Qi(p,p.return);break;case 30:break;default:En(f,p,i)}t=t.sibling}}function Tu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&qi(i))}function Su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qi(e))}function jt(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pd(e,t,i,a),t=t.sibling}function pd(e,t,i,a){var f=t.flags;switch(t.tag){case 0:case 11:case 15:jt(e,t,i,a),f&2048&&Ki(9,t);break;case 1:jt(e,t,i,a);break;case 3:jt(e,t,i,a),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qi(e)));break;case 12:if(f&2048){jt(e,t,i,a),e=t.stateNode;try{var p=t.memoizedProps,T=p.id,E=p.onPostCommit;typeof E=="function"&&E(T,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){qe(t,t.return,A)}}else jt(e,t,i,a);break;case 31:jt(e,t,i,a);break;case 13:jt(e,t,i,a);break;case 23:break;case 22:p=t.stateNode,T=t.alternate,t.memoizedState!==null?p._visibility&2?jt(e,t,i,a):Zi(e,t):p._visibility&2?jt(e,t,i,a):(p._visibility|=2,jl(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),f&2048&&Tu(T,t);break;case 24:jt(e,t,i,a),f&2048&&Su(t.alternate,t);break;default:jt(e,t,i,a)}}function jl(e,t,i,a,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,T=t,E=i,A=a,w=T.flags;switch(T.tag){case 0:case 11:case 15:jl(p,T,E,A,f),Ki(8,T);break;case 23:break;case 22:var H=T.stateNode;T.memoizedState!==null?H._visibility&2?jl(p,T,E,A,f):Zi(p,T):(H._visibility|=2,jl(p,T,E,A,f)),f&&w&2048&&Tu(T.alternate,T);break;case 24:jl(p,T,E,A,f),f&&w&2048&&Su(T.alternate,T);break;default:jl(p,T,E,A,f)}t=t.sibling}}function Zi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,f=a.flags;switch(a.tag){case 22:Zi(i,a),f&2048&&Tu(a.alternate,a);break;case 24:Zi(i,a),f&2048&&Su(a.alternate,a);break;default:Zi(i,a)}t=t.sibling}}var Wi=8192;function ei(e,t,i){if(e.subtreeFlags&Wi)for(e=e.child;e!==null;)md(e,t,i),e=e.sibling}function md(e,t,i){switch(e.tag){case 26:ei(e,t,i),e.flags&Wi&&e.memoizedState!==null&&Zy(i,$t,e.memoizedState,e.memoizedProps);break;case 5:ei(e,t,i);break;case 3:case 4:var a=$t;$t=Ta(e.stateNode.containerInfo),ei(e,t,i),$t=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Wi,Wi=16777216,ei(e,t,i),Wi=a):ei(e,t,i));break;default:ei(e,t,i)}}function hd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function $i(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];ut=a,yd(a,e)}hd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gd(e),e=e.sibling}function gd(e){switch(e.tag){case 0:case 11:case 15:$i(e),e.flags&2048&&kn(9,e,e.return);break;case 3:$i(e);break;case 12:$i(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,aa(e)):$i(e);break;default:$i(e)}}function aa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];ut=a,yd(a,e)}hd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:kn(8,t,t.return),aa(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,aa(t));break;default:aa(t)}e=e.sibling}}function yd(e,t){for(;ut!==null;){var i=ut;switch(i.tag){case 0:case 11:case 15:kn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:qi(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,ut=a;else e:for(i=e;ut!==null;){a=ut;var f=a.sibling,p=a.return;if(sd(a),a===i){ut=null;break e}if(f!==null){f.return=p,ut=f;break e}ut=p}}}var fy={getCacheForType:function(e){var t=dt(je),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return dt(je).controller.signal}},dy=typeof WeakMap=="function"?WeakMap:Map,we=0,Pe=null,Te=null,Ee=0,Le=0,Ut=null,Fn=!1,ti=!1,Eu=!1,_n=0,Ke=0,On=0,Al=0,_u=0,Lt=0,ni=0,ji=null,Mt=null,Cu=!1,sa=0,vd=0,ua=1/0,ra=null,Yn=null,it=0,Jn=null,li=null,Cn=0,Au=0,xu=null,Td=null,eo=0,Mu=null;function qt(){return(we&2)!==0&&Ee!==0?Ee&-Ee:L.T!==null?bu():Lr()}function Sd(){if(Lt===0)if((Ee&536870912)===0||Ce){var e=yo;yo<<=1,(yo&3932160)===0&&(yo=262144),Lt=e}else Lt=536870912;return e=wt.current,e!==null&&(e.flags|=32),Lt}function Rt(e,t,i){(e===Pe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(ii(e,0),Xn(e,Ee,Lt,!1)),Ei(e,i),((we&2)===0||e!==Pe)&&(e===Pe&&((we&2)===0&&(Al|=i),Ke===4&&Xn(e,Ee,Lt,!1)),an(e))}function Ed(e,t,i){if((we&6)!==0)throw Error(s(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Si(e,t),f=a?hy(e,t):Nu(e,t,!0),p=a;do{if(f===0){ti&&!a&&Xn(e,t,0,!1);break}else{if(i=e.current.alternate,p&&!py(i)){f=Nu(e,t,!1),p=!1;continue}if(f===2){if(p=t,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){t=T;e:{var E=e;f=ji;var A=E.current.memoizedState.isDehydrated;if(A&&(ii(E,T).flags|=256),T=Nu(E,T,!1),T!==2){if(Eu&&!A){E.errorRecoveryDisabledLanes|=p,Al|=p,f=4;break e}p=Mt,Mt=f,p!==null&&(Mt===null?Mt=p:Mt.push.apply(Mt,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){ii(e,0),Xn(e,t,0,!0);break}e:{switch(a=e,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Xn(a,t,Lt,!Fn);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(f=sa+300-Ze(),10<f)){if(Xn(a,t,Lt,!Fn),To(a,0,!0)!==0)break e;Cn=t,a.timeoutHandle=$d(_d.bind(null,a,i,Mt,ra,Cu,t,Lt,Al,ni,Fn,p,"Throttled",-0,0),f);break e}_d(a,i,Mt,ra,Cu,t,Lt,Al,ni,Fn,p,null,-0,0)}}break}while(!0);an(e)}function _d(e,t,i,a,f,p,T,E,A,w,H,P,U,q){if(e.timeoutHandle=-1,P=t.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},md(t,p,P);var ae=(p&62914560)===p?sa-Ze():(p&4194048)===p?vd-Ze():0;if(ae=Wy(P,ae),ae!==null){Cn=p,e.cancelPendingCommit=ae(Id.bind(null,e,t,p,i,a,f,T,E,A,H,P,null,U,q)),Xn(e,p,T,!w);return}}Id(e,t,p,i,a,f,T,E,A)}function py(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var f=i[a],p=f.getSnapshot;f=f.value;try{if(!Dt(p(),f))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t,i,a){t&=~_u,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var f=t;0<f;){var p=31-at(f),T=1<<p;a[p]=-1,f&=~T}i!==0&&wr(e,i,t)}function ca(){return(we&6)===0?(to(0),!1):!0}function Ru(){if(Te!==null){if(Le===0)var e=Te.return;else e=Te,dn=hl=null,Fs(e),Kl=null,Hi=0,e=Te;for(;e!==null;)jf(e.alternate,e),e=e.return;Te=null}}function ii(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Uy(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Cn=0,Ru(),Pe=e,Te=i=cn(e.current,null),Ee=t,Le=0,Ut=null,Fn=!1,ti=Si(e,t),Eu=!1,ni=Lt=_u=Al=On=Ke=0,Mt=ji=null,Cu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var f=31-at(a),p=1<<f;t|=e[f],a&=~p}return _n=t,wo(),i}function Cd(e,t){ye=null,L.H=Yi,t===Xl||t===zo?(t=Vc(),Le=3):t===ws?(t=Vc(),Le=4):Le=t===ou?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,Te===null&&(Ke=1,jo(e,zt(t,e.current)))}function Ad(){var e=wt.current;return e===null?!0:(Ee&4194048)===Ee?Ft===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Ft:!1}function xd(){var e=L.H;return L.H=Yi,e===null?Yi:e}function Md(){var e=L.A;return L.A=fy,e}function fa(){Ke=4,Fn||(Ee&4194048)!==Ee&&wt.current!==null||(ti=!0),(On&134217727)===0&&(Al&134217727)===0||Pe===null||Xn(Pe,Ee,Lt,!1)}function Nu(e,t,i){var a=we;we|=2;var f=xd(),p=Md();(Pe!==e||Ee!==t)&&(ra=null,ii(e,t)),t=!1;var T=Ke;e:do try{if(Le!==0&&Te!==null){var E=Te,A=Ut;switch(Le){case 8:Ru(),T=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(t=!0);var w=Le;if(Le=0,Ut=null,oi(e,E,A,w),i&&ti){T=0;break e}break;default:w=Le,Le=0,Ut=null,oi(e,E,A,w)}}my(),T=Ke;break}catch(H){Cd(e,H)}while(!0);return t&&e.shellSuspendCounter++,dn=hl=null,we=a,L.H=f,L.A=p,Te===null&&(Pe=null,Ee=0,wo()),T}function my(){for(;Te!==null;)Rd(Te)}function hy(e,t){var i=we;we|=2;var a=xd(),f=Md();Pe!==e||Ee!==t?(ra=null,ua=Ze()+500,ii(e,t)):ti=Si(e,t);e:do try{if(Le!==0&&Te!==null){t=Te;var p=Ut;t:switch(Le){case 1:Le=0,Ut=null,oi(e,t,p,1);break;case 2:case 9:if(Gc(p)){Le=0,Ut=null,Nd(t);break}t=function(){Le!==2&&Le!==9||Pe!==e||(Le=7),an(e)},p.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Gc(p)?(Le=0,Ut=null,Nd(t)):(Le=0,Ut=null,oi(e,t,p,7));break;case 5:var T=null;switch(Te.tag){case 26:T=Te.memoizedState;case 5:case 27:var E=Te;if(T?pp(T):E.stateNode.complete){Le=0,Ut=null;var A=E.sibling;if(A!==null)Te=A;else{var w=E.return;w!==null?(Te=w,da(w)):Te=null}break t}}Le=0,Ut=null,oi(e,t,p,5);break;case 6:Le=0,Ut=null,oi(e,t,p,6);break;case 8:Ru(),Ke=6;break e;default:throw Error(s(462))}}gy();break}catch(H){Cd(e,H)}while(!0);return dn=hl=null,L.H=a,L.A=f,we=i,Te!==null?0:(Pe=null,Ee=0,wo(),Ke)}function gy(){for(;Te!==null&&!lt();)Rd(Te)}function Rd(e){var t=Wf(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?da(e):Te=t}function Nd(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Yf(i,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Yf(i,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Fs(t);default:jf(i,t),t=Te=xc(t,_n),t=Wf(i,t,_n)}e.memoizedProps=e.pendingProps,t===null?da(e):Te=t}function oi(e,t,i,a){dn=hl=null,Fs(t),Kl=null,Hi=0;var f=t.return;try{if(iy(e,f,t,i,Ee)){Ke=1,jo(e,zt(i,e.current)),Te=null;return}}catch(p){if(f!==null)throw Te=f,p;Ke=1,jo(e,zt(i,e.current)),Te=null;return}t.flags&32768?(Ce||a===1?e=!0:ti||(Ee&536870912)!==0?e=!1:(Fn=e=!0,(a===2||a===9||a===3||a===6)&&(a=wt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Dd(t,e)):da(t)}function da(e){var t=e;do{if((t.flags&32768)!==0){Dd(t,Fn);return}e=t.return;var i=sy(t.alternate,t,_n);if(i!==null){Te=i;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Ke===0&&(Ke=5)}function Dd(e,t){do{var i=uy(e.alternate,e);if(i!==null){i.flags&=32767,Te=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=i}while(e!==null);Ke=6,Te=null}function Id(e,t,i,a,f,p,T,E,A){e.cancelPendingCommit=null;do pa();while(it!==0);if((we&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(p=t.lanes|t.childLanes,p|=gs,Qh(e,i,p,T,E,A),e===Pe&&(Te=Pe=null,Ee=0),li=t,Jn=e,Cn=i,Au=p,xu=f,Td=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sy(ot,function(){return qd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=L.T,L.T=null,f=$.p,$.p=2,T=we,we|=4;try{ry(e,t,i)}finally{we=T,$.p=f,L.T=a}}it=1,wd(),bd(),Ud()}}function wd(){if(it===1){it=0;var e=Jn,t=li,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=L.T,L.T=null;var a=$.p;$.p=2;var f=we;we|=4;try{fd(t,e);var p=Pu,T=gc(e.containerInfo),E=p.focusedElem,A=p.selectionRange;if(T!==E&&E&&E.ownerDocument&&hc(E.ownerDocument.documentElement,E)){if(A!==null&&fs(E)){var w=A.start,H=A.end;if(H===void 0&&(H=w),"selectionStart"in E)E.selectionStart=w,E.selectionEnd=Math.min(H,E.value.length);else{var P=E.ownerDocument||document,U=P&&P.defaultView||window;if(U.getSelection){var q=U.getSelection(),ae=E.textContent.length,de=Math.min(A.start,ae),ze=A.end===void 0?de:Math.min(A.end,ae);!q.extend&&de>ze&&(T=ze,ze=de,de=T);var N=mc(E,de),x=mc(E,ze);if(N&&x&&(q.rangeCount!==1||q.anchorNode!==N.node||q.anchorOffset!==N.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var I=P.createRange();I.setStart(N.node,N.offset),q.removeAllRanges(),de>ze?(q.addRange(I),q.extend(x.node,x.offset)):(I.setEnd(x.node,x.offset),q.addRange(I))}}}}for(P=[],q=E;q=q.parentNode;)q.nodeType===1&&P.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<P.length;E++){var V=P[E];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}xa=!!zu,Pu=zu=null}finally{we=f,$.p=a,L.T=i}}e.current=t,it=2}}function bd(){if(it===2){it=0;var e=Jn,t=li,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=L.T,L.T=null;var a=$.p;$.p=2;var f=we;we|=4;try{ad(e,t.alternate,t)}finally{we=f,$.p=a,L.T=i}}it=3}}function Ud(){if(it===4||it===3){it=0,ht();var e=Jn,t=li,i=Cn,a=Td;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,li=Jn=null,Ld(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Yn=null),Ja(i),t=t.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(Qt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=L.T,f=$.p,$.p=2,L.T=null;try{for(var p=e.onRecoverableError,T=0;T<a.length;T++){var E=a[T];p(E.value,{componentStack:E.stack})}}finally{L.T=t,$.p=f}}(Cn&3)!==0&&pa(),an(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Mu?eo++:(eo=0,Mu=e):eo=0,to(0)}}function Ld(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qi(t)))}function pa(){return wd(),bd(),Ud(),qd()}function qd(){if(it!==5)return!1;var e=Jn,t=Au;Au=0;var i=Ja(Cn),a=L.T,f=$.p;try{$.p=32>i?32:i,L.T=null,i=xu,xu=null;var p=Jn,T=Cn;if(it=0,li=Jn=null,Cn=0,(we&6)!==0)throw Error(s(331));var E=we;if(we|=4,gd(p.current),pd(p,p.current,T,i),we=E,to(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(Qt,p)}catch{}return!0}finally{$.p=f,L.T=a,Ld(e,t)}}function Gd(e,t,i){t=zt(i,t),t=iu(e.stateNode,t,2),e=zn(e,t,2),e!==null&&(Ei(e,2),an(e))}function qe(e,t,i){if(e.tag===3)Gd(e,e,i);else for(;t!==null;){if(t.tag===3){Gd(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yn===null||!Yn.has(a))){e=zt(i,e),i=Hf(2),a=zn(t,i,2),a!==null&&(Vf(i,a,t,e),Ei(a,2),an(a));break}}t=t.return}}function Du(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new dy;var f=new Set;a.set(t,f)}else f=a.get(t),f===void 0&&(f=new Set,a.set(t,f));f.has(i)||(Eu=!0,f.add(i),e=yy.bind(null,e,t,i),t.then(e,e))}function yy(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Pe===e&&(Ee&i)===i&&(Ke===4||Ke===3&&(Ee&62914560)===Ee&&300>Ze()-sa?(we&2)===0&&ii(e,0):_u|=i,ni===Ee&&(ni=0)),an(e)}function Hd(e,t){t===0&&(t=Ir()),e=dl(e,t),e!==null&&(Ei(e,t),an(e))}function vy(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Hd(e,i)}function Ty(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Hd(e,i)}function Sy(e,t){return Ye(e,t)}var ma=null,ai=null,Iu=!1,ha=!1,wu=!1,Kn=0;function an(e){e!==ai&&e.next===null&&(ai===null?ma=ai=e:ai=ai.next=e),ha=!0,Iu||(Iu=!0,_y())}function to(e,t){if(!wu&&ha){wu=!0;do for(var i=!1,a=ma;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var p=0;else{var T=a.suspendedLanes,E=a.pingedLanes;p=(1<<31-at(42|e)+1)-1,p&=f&~(T&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,Bd(a,p))}else p=Ee,p=To(a,a===Pe?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Si(a,p)||(i=!0,Bd(a,p));a=a.next}while(i);wu=!1}}function Ey(){Vd()}function Vd(){ha=Iu=!1;var e=0;Kn!==0&&by()&&(e=Kn);for(var t=Ze(),i=null,a=ma;a!==null;){var f=a.next,p=zd(a,t);p===0?(a.next=null,i===null?ma=f:i.next=f,f===null&&(ai=i)):(i=a,(e!==0||(p&3)!==0)&&(ha=!0)),a=f}it!==0&&it!==5||to(e),Kn!==0&&(Kn=0)}function zd(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-at(p),E=1<<T,A=f[T];A===-1?((E&i)===0||(E&a)!==0)&&(f[T]=Kh(E,t)):A<=t&&(e.expiredLanes|=E),p&=~E}if(t=Pe,i=Ee,i=To(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Je(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Si(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&Je(a),Ja(i)){case 2:case 8:i=Tt;break;case 32:i=ot;break;case 268435456:i=Dn;break;default:i=ot}return a=Pd.bind(null,e),i=Ye(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&Je(a),e.callbackPriority=2,e.callbackNode=null,2}function Pd(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(pa()&&e.callbackNode!==i)return null;var a=Ee;return a=To(e,e===Pe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Ed(e,a,t),zd(e,Ze()),e.callbackNode!=null&&e.callbackNode===i?Pd.bind(null,e):null)}function Bd(e,t){if(pa())return null;Ed(e,t,!0)}function _y(){Ly(function(){(we&6)!==0?Ye(Nt,Ey):Vd()})}function bu(){if(Kn===0){var e=Yl;e===0&&(e=go,go<<=1,(go&261888)===0&&(go=256)),Kn=e}return Kn}function kd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Co(""+e)}function Fd(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Cy(e,t,i,a,f){if(t==="submit"&&i&&i.stateNode===f){var p=kd((f[Et]||null).action),T=a.submitter;T&&(t=(t=T[Et]||null)?kd(t.formAction):T.getAttribute("formAction"),t!==null&&(p=t,T=null));var E=new Ro("action","action",null,a,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Kn!==0){var A=T?Fd(f,T):new FormData(f);$s(i,{pending:!0,data:A,method:f.method,action:p},null,A)}}else typeof p=="function"&&(E.preventDefault(),A=T?Fd(f,T):new FormData(f),$s(i,{pending:!0,data:A,method:f.method,action:p},p,A))},currentTarget:f}]})}}for(var Uu=0;Uu<hs.length;Uu++){var Lu=hs[Uu],Ay=Lu.toLowerCase(),xy=Lu[0].toUpperCase()+Lu.slice(1);Wt(Ay,"on"+xy)}Wt(Tc,"onAnimationEnd"),Wt(Sc,"onAnimationIteration"),Wt(Ec,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Bg,"onTransitionRun"),Wt(kg,"onTransitionStart"),Wt(Fg,"onTransitionCancel"),Wt(_c,"onTransitionEnd"),wl("onMouseEnter",["mouseout","mouseover"]),wl("onMouseLeave",["mouseout","mouseover"]),wl("onPointerEnter",["pointerout","pointerover"]),wl("onPointerLeave",["pointerout","pointerover"]),ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ul("onBeforeInput",["compositionend","keypress","textInput","paste"]),ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Od(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],f=a.event;a=a.listeners;e:{var p=void 0;if(t)for(var T=a.length-1;0<=T;T--){var E=a[T],A=E.instance,w=E.currentTarget;if(E=E.listener,A!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=w;try{p(f)}catch(H){Io(H)}f.currentTarget=null,p=A}else for(T=0;T<a.length;T++){if(E=a[T],A=E.instance,w=E.currentTarget,E=E.listener,A!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=w;try{p(f)}catch(H){Io(H)}f.currentTarget=null,p=A}}}}function Se(e,t){var i=t[Xa];i===void 0&&(i=t[Xa]=new Set);var a=e+"__bubble";i.has(a)||(Yd(t,e,2,!1),i.add(a))}function qu(e,t,i){var a=0;t&&(a|=4),Yd(i,e,a,t)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[ga]){e[ga]=!0,Hr.forEach(function(i){i!=="selectionchange"&&(My.has(i)||qu(i,!1,e),qu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ga]||(t[ga]=!0,qu("selectionchange",!1,t))}}function Yd(e,t,i,a){switch(Sp(t)){case 2:var f=e0;break;case 8:f=t0;break;default:f=Wu}i=f.bind(null,t,i,e),f=void 0,!ns||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(t,i,{capture:!0,passive:f}):e.addEventListener(t,i,!0):f!==void 0?e.addEventListener(t,i,{passive:f}):e.addEventListener(t,i,!1)}function Hu(e,t,i,a,f){var p=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var E=a.stateNode.containerInfo;if(E===f)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;E!==null;){if(T=Nl(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=p=T;continue e}E=E.parentNode}}a=a.return}Qr(function(){var w=p,H=es(i),P=[];e:{var U=Cc.get(e);if(U!==void 0){var q=Ro,ae=e;switch(e){case"keypress":if(xo(i)===0)break e;case"keydown":case"keyup":q=Tg;break;case"focusin":ae="focus",q=as;break;case"focusout":ae="blur",q=as;break;case"beforeblur":case"afterblur":q=as;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=_g;break;case Tc:case Sc:case Ec:q=cg;break;case _c:q=Ag;break;case"scroll":case"scrollend":q=og;break;case"wheel":q=Mg;break;case"copy":case"cut":case"paste":q=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ec;break;case"toggle":case"beforetoggle":q=Ng}var de=(t&4)!==0,ze=!de&&(e==="scroll"||e==="scrollend"),N=de?U!==null?U+"Capture":null:U;de=[];for(var x=w,I;x!==null;){var V=x;if(I=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||I===null||N===null||(V=Ai(x,N),V!=null&&de.push(lo(x,V,I))),ze)break;x=x.return}0<de.length&&(U=new q(U,ae,null,i,H),P.push({event:U,listeners:de}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",U&&i!==ja&&(ae=i.relatedTarget||i.fromElement)&&(Nl(ae)||ae[Rl]))break e;if((q||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,q?(ae=i.relatedTarget||i.toElement,q=w,ae=ae?Nl(ae):null,ae!==null&&(ze=d(ae),de=ae.tag,ae!==ze||de!==5&&de!==27&&de!==6)&&(ae=null)):(q=null,ae=w),q!==ae)){if(de=$r,V="onMouseLeave",N="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(de=ec,V="onPointerLeave",N="onPointerEnter",x="pointer"),ze=q==null?U:Ci(q),I=ae==null?U:Ci(ae),U=new de(V,x+"leave",q,i,H),U.target=ze,U.relatedTarget=I,V=null,Nl(H)===w&&(de=new de(N,x+"enter",ae,i,H),de.target=I,de.relatedTarget=ze,V=de),ze=V,q&&ae)t:{for(de=Ry,N=q,x=ae,I=0,V=N;V;V=de(V))I++;V=0;for(var ce=x;ce;ce=de(ce))V++;for(;0<I-V;)N=de(N),I--;for(;0<V-I;)x=de(x),V--;for(;I--;){if(N===x||x!==null&&N===x.alternate){de=N;break t}N=de(N),x=de(x)}de=null}else de=null;q!==null&&Jd(P,U,q,de,!1),ae!==null&&ze!==null&&Jd(P,ze,ae,de,!0)}}e:{if(U=w?Ci(w):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var Re=uc;else if(ac(U))if(rc)Re=Vg;else{Re=Gg;var re=qg}else q=U.nodeName,!q||q.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?w&&$a(w.elementType)&&(Re=uc):Re=Hg;if(Re&&(Re=Re(e,w))){sc(P,Re,i,H);break e}re&&re(e,U,w),e==="focusout"&&w&&U.type==="number"&&w.memoizedProps.value!=null&&Wa(U,"number",U.value)}switch(re=w?Ci(w):window,e){case"focusin":(ac(re)||re.contentEditable==="true")&&(Hl=re,ds=w,bi=null);break;case"focusout":bi=ds=Hl=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,yc(P,i,H);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":yc(P,i,H)}var ve;if(us)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Gl?ic(e,i)&&(_e="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(_e="onCompositionStart");_e&&(tc&&i.locale!=="ko"&&(Gl||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Gl&&(ve=Zr()):(bn=H,ls="value"in bn?bn.value:bn.textContent,Gl=!0)),re=ya(w,_e),0<re.length&&(_e=new jr(_e,e,null,i,H),P.push({event:_e,listeners:re}),ve?_e.data=ve:(ve=oc(i),ve!==null&&(_e.data=ve)))),(ve=Ig?wg(e,i):bg(e,i))&&(_e=ya(w,"onBeforeInput"),0<_e.length&&(re=new jr("onBeforeInput","beforeinput",null,i,H),P.push({event:re,listeners:_e}),re.data=ve)),Cy(P,e,w,i,H)}Od(P,t)})}function lo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ya(e,t){for(var i=t+"Capture",a=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ai(e,i),f!=null&&a.unshift(lo(e,f,p)),f=Ai(e,t),f!=null&&a.push(lo(e,f,p))),e.tag===3)return a;e=e.return}return[]}function Ry(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jd(e,t,i,a,f){for(var p=t._reactName,T=[];i!==null&&i!==a;){var E=i,A=E.alternate,w=E.stateNode;if(E=E.tag,A!==null&&A===a)break;E!==5&&E!==26&&E!==27||w===null||(A=w,f?(w=Ai(i,p),w!=null&&T.unshift(lo(i,w,A))):f||(w=Ai(i,p),w!=null&&T.push(lo(i,w,A)))),i=i.return}T.length!==0&&e.push({event:t,listeners:T})}var Ny=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function Xd(e){return(typeof e=="string"?e:""+e).replace(Ny,`
`).replace(Dy,"")}function Kd(e,t){return t=Xd(t),Xd(e)===t}function Ve(e,t,i,a,f,p){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ul(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ul(e,""+a);break;case"className":Eo(e,"class",a);break;case"tabIndex":Eo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(e,i,a);break;case"style":Xr(e,a,p);break;case"data":if(t!=="object"){Eo(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Co(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(t!=="input"&&Ve(e,t,"name",f.name,f,null),Ve(e,t,"formEncType",f.formEncType,f,null),Ve(e,t,"formMethod",f.formMethod,f,null),Ve(e,t,"formTarget",f.formTarget,f,null)):(Ve(e,t,"encType",f.encType,f,null),Ve(e,t,"method",f.method,f,null),Ve(e,t,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Co(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=un);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(i=a.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Co(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":Se("beforetoggle",e),Se("toggle",e),So(e,"popover",a);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":So(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=lg.get(i)||i,So(e,i,a))}}function Vu(e,t,i,a,f,p){switch(i){case"style":Xr(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(i=a.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Ul(e,a):(typeof a=="number"||typeof a=="bigint")&&Ul(e,""+a);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),t=i.slice(2,f?i.length-7:void 0),p=e[Et]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(t,p,f),typeof a=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,f);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):So(e,i,a)}}}function mt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var a=!1,f=!1,p;for(p in i)if(i.hasOwnProperty(p)){var T=i[p];if(T!=null)switch(p){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ve(e,t,p,T,i,null)}}f&&Ve(e,t,"srcSet",i.srcSet,i,null),a&&Ve(e,t,"src",i.src,i,null);return;case"input":Se("invalid",e);var E=p=T=f=null,A=null,w=null;for(a in i)if(i.hasOwnProperty(a)){var H=i[a];if(H!=null)switch(a){case"name":f=H;break;case"type":T=H;break;case"checked":A=H;break;case"defaultChecked":w=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,t));break;default:Ve(e,t,a,H,i,null)}}Fr(e,p,E,A,w,T,f,!1);return;case"select":Se("invalid",e),a=T=p=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":T=E;break;case"multiple":a=E;default:Ve(e,t,f,E,i,null)}t=p,i=T,e.multiple=!!a,t!=null?bl(e,!!a,t,!1):i!=null&&bl(e,!!a,i,!0);return;case"textarea":Se("invalid",e),p=f=a=null;for(T in i)if(i.hasOwnProperty(T)&&(E=i[T],E!=null))switch(T){case"value":a=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ve(e,t,T,E,i,null)}Yr(e,a,f,p);return;case"option":for(A in i)if(i.hasOwnProperty(A)&&(a=i[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ve(e,t,A,a,i,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(a=0;a<no.length;a++)Se(no[a],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in i)if(i.hasOwnProperty(w)&&(a=i[w],a!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ve(e,t,w,a,i,null)}return;default:if($a(t)){for(H in i)i.hasOwnProperty(H)&&(a=i[H],a!==void 0&&Vu(e,t,H,a,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(a=i[E],a!=null&&Ve(e,t,E,a,i,null))}function Iy(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,E=null,A=null,w=null,H=null;for(q in i){var P=i[q];if(i.hasOwnProperty(q)&&P!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":A=P;default:a.hasOwnProperty(q)||Ve(e,t,q,null,a,P)}}for(var U in a){var q=a[U];if(P=i[U],a.hasOwnProperty(U)&&(q!=null||P!=null))switch(U){case"type":p=q;break;case"name":f=q;break;case"checked":w=q;break;case"defaultChecked":H=q;break;case"value":T=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,t));break;default:q!==P&&Ve(e,t,U,q,a,P)}}Za(e,T,E,A,w,H,p,f);return;case"select":q=T=E=U=null;for(p in i)if(A=i[p],i.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":q=A;default:a.hasOwnProperty(p)||Ve(e,t,p,null,a,A)}for(f in a)if(p=a[f],A=i[f],a.hasOwnProperty(f)&&(p!=null||A!=null))switch(f){case"value":U=p;break;case"defaultValue":E=p;break;case"multiple":T=p;default:p!==A&&Ve(e,t,f,p,a,A)}t=E,i=T,a=q,U!=null?bl(e,!!i,U,!1):!!a!=!!i&&(t!=null?bl(e,!!i,t,!0):bl(e,!!i,i?[]:"",!1));return;case"textarea":q=U=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ve(e,t,E,null,a,f)}for(T in a)if(f=a[T],p=i[T],a.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":U=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Ve(e,t,T,f,a,p)}Or(e,U,q);return;case"option":for(var ae in i)if(U=i[ae],i.hasOwnProperty(ae)&&U!=null&&!a.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Ve(e,t,ae,null,a,U)}for(A in a)if(U=a[A],q=i[A],a.hasOwnProperty(A)&&U!==q&&(U!=null||q!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ve(e,t,A,U,a,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in i)U=i[de],i.hasOwnProperty(de)&&U!=null&&!a.hasOwnProperty(de)&&Ve(e,t,de,null,a,U);for(w in a)if(U=a[w],q=i[w],a.hasOwnProperty(w)&&U!==q&&(U!=null||q!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:Ve(e,t,w,U,a,q)}return;default:if($a(t)){for(var ze in i)U=i[ze],i.hasOwnProperty(ze)&&U!==void 0&&!a.hasOwnProperty(ze)&&Vu(e,t,ze,void 0,a,U);for(H in a)U=a[H],q=i[H],!a.hasOwnProperty(H)||U===q||U===void 0&&q===void 0||Vu(e,t,H,U,a,q);return}}for(var N in i)U=i[N],i.hasOwnProperty(N)&&U!=null&&!a.hasOwnProperty(N)&&Ve(e,t,N,null,a,U);for(P in a)U=a[P],q=i[P],!a.hasOwnProperty(P)||U===q||U==null&&q==null||Ve(e,t,P,U,a,q)}function Qd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var f=i[a],p=f.transferSize,T=f.initiatorType,E=f.duration;if(p&&E&&Qd(T)){for(T=0,E=f.responseEnd,a+=1;a<i.length;a++){var A=i[a],w=A.startTime;if(w>E)break;var H=A.transferSize,P=A.initiatorType;H&&Qd(P)&&(A=A.responseEnd,T+=H*(A<E?1:(E-w)/(A-w)))}if(--a,t+=8*(p+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zu=null,Pu=null;function va(e){return e.nodeType===9?e:e.ownerDocument}function Zd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=null;function by(){var e=window.event;return e&&e.type==="popstate"?e===ku?!1:(ku=e,!0):(ku=null,!1)}var $d=typeof setTimeout=="function"?setTimeout:void 0,Uy=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,Ly=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(qy)}:$d;function qy(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function ep(e,t){var i=t,a=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(f),ci(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")io(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,io(i);for(var p=i.firstChild;p;){var T=p.nextSibling,E=p.nodeName;p[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=T}}else i==="body"&&io(e.ownerDocument.body);i=f}while(i);ci(t)}function tp(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function Fu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Fu(i),Ka(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Gy(e,t,i,a){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[_i])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Ot(e.nextSibling),e===null)break}return null}function Hy(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ot(e.nextSibling),e===null))return null;return e}function np(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ot(e.nextSibling),e===null))return null;return e}function Ou(e){return e.data==="$?"||e.data==="$~"}function Yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vy(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ju=null;function lp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Ot(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function ip(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function op(e,t,i){switch(t=va(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function io(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ka(e)}var Yt=new Map,ap=new Set;function Ta(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var An=$.d;$.d={f:zy,r:Py,D:By,C:ky,L:Fy,m:Oy,X:Jy,S:Yy,M:Xy};function zy(){var e=An.f(),t=ca();return e||t}function Py(e){var t=Dl(e);t!==null&&t.tag===5&&t.type==="form"?Cf(t):An.r(e)}var si=typeof document>"u"?null:document;function sp(e,t,i){var a=si;if(a&&typeof t=="string"&&t){var f=Ht(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),ap.has(f)||(ap.add(f),e={rel:e,crossOrigin:i,href:t},a.querySelector(f)===null&&(t=a.createElement("link"),mt(t,"link",e),st(t),a.head.appendChild(t)))}}function By(e){An.D(e),sp("dns-prefetch",e,null)}function ky(e,t){An.C(e,t),sp("preconnect",e,t)}function Fy(e,t,i){An.L(e,t,i);var a=si;if(a&&e&&t){var f='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Ht(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Ht(i.imageSizes)+'"]')):f+='[href="'+Ht(e)+'"]';var p=f;switch(t){case"style":p=ui(e);break;case"script":p=ri(e)}Yt.has(p)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Yt.set(p,e),a.querySelector(f)!==null||t==="style"&&a.querySelector(oo(p))||t==="script"&&a.querySelector(ao(p))||(t=a.createElement("link"),mt(t,"link",e),st(t),a.head.appendChild(t)))}}function Oy(e,t){An.m(e,t);var i=si;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+Ht(a)+'"][href="'+Ht(e)+'"]',p=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ri(e)}if(!Yt.has(p)&&(e=S({rel:"modulepreload",href:e},t),Yt.set(p,e),i.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ao(p)))return}a=i.createElement("link"),mt(a,"link",e),st(a),i.head.appendChild(a)}}}function Yy(e,t,i){An.S(e,t,i);var a=si;if(a&&e){var f=Il(a).hoistableStyles,p=ui(e);t=t||"default";var T=f.get(p);if(!T){var E={loading:0,preload:null};if(T=a.querySelector(oo(p)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Yt.get(p))&&Xu(e,i);var A=T=a.createElement("link");st(A),mt(A,"link",e),A._p=new Promise(function(w,H){A.onload=w,A.onerror=H}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sa(T,t,a)}T={type:"stylesheet",instance:T,count:1,state:E},f.set(p,T)}}}function Jy(e,t){An.X(e,t);var i=si;if(i&&e){var a=Il(i).hoistableScripts,f=ri(e),p=a.get(f);p||(p=i.querySelector(ao(f)),p||(e=S({src:e,async:!0},t),(t=Yt.get(f))&&Ku(e,t),p=i.createElement("script"),st(p),mt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(f,p))}}function Xy(e,t){An.M(e,t);var i=si;if(i&&e){var a=Il(i).hoistableScripts,f=ri(e),p=a.get(f);p||(p=i.querySelector(ao(f)),p||(e=S({src:e,async:!0,type:"module"},t),(t=Yt.get(f))&&Ku(e,t),p=i.createElement("script"),st(p),mt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(f,p))}}function up(e,t,i,a){var f=(f=W.current)?Ta(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ui(i.href),i=Il(f).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ui(i.href);var p=Il(f).hoistableStyles,T=p.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=f.querySelector(oo(e)))&&!p._p&&(T.instance=p,T.state.loading=5),Yt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Yt.set(e,i),p||Ky(f,e,i,T.state))),t&&a===null)throw Error(s(528,""));return T}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ri(i),i=Il(f).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ui(e){return'href="'+Ht(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function rp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ky(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),mt(t,"link",i),st(t),e.head.appendChild(t))}function ri(e){return'[src="'+Ht(e)+'"]'}function ao(e){return"script[async]"+e}function cp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ht(i.href)+'"]');if(a)return t.instance=a,st(a),a;var f=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),st(a),mt(a,"style",f),Sa(a,i.precedence,e),t.instance=a;case"stylesheet":f=ui(i.href);var p=e.querySelector(oo(f));if(p)return t.state.loading|=4,t.instance=p,st(p),p;a=rp(i),(f=Yt.get(f))&&Xu(a,f),p=(e.ownerDocument||e).createElement("link"),st(p);var T=p;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),mt(p,"link",a),t.state.loading|=4,Sa(p,i.precedence,e),t.instance=p;case"script":return p=ri(i.src),(f=e.querySelector(ao(p)))?(t.instance=f,st(f),f):(a=i,(f=Yt.get(p))&&(a=S({},i),Ku(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),st(f),mt(f,"link",a),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Sa(a,i.precedence,e));return t.instance}function Sa(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,p=f,T=0;T<a.length;T++){var E=a[T];if(E.dataset.precedence===t)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ea=null;function fp(e,t,i){if(Ea===null){var a=new Map,f=Ea=new Map;f.set(i,a)}else f=Ea,a=f.get(i),a||(a=new Map,f.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var p=i[f];if(!(p[_i]||p[ct]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(t)||"";T=e+T;var E=a.get(T);E?E.push(p):a.set(T,[p])}}return a}function dp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Qy(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zy(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ui(a.href),p=t.querySelector(oo(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_a.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=p,st(p);return}p=t.ownerDocument||t,a=rp(a),(f=Yt.get(f))&&Xu(a,f),p=p.createElement("link"),st(p);var T=p;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),mt(p,"link",a),i.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=_a.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Qu=0;function Wy(e,t){return e.stylesheets&&e.count===0&&Aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&Qu===0&&(Qu=62500*wy());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Qu?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function _a(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ca=null;function Aa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ca=new Map,t.forEach($y,e),Ca=null,_a.call(e))}function $y(e,t){if(!(t.state.loading&4)){var i=Ca.get(e);if(i)var a=i.get(null);else{i=new Map,Ca.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(i.set(T.dataset.precedence,T),a=T)}a&&i.set(null,a)}f=t.instance,T=f.getAttribute("data-precedence"),p=i.get(T)||a,p===a&&i.set(null,f),i.set(T,f),this.count++,a=_a.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var so={$$typeof:F,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function jy(e,t,i,a,f,p,T,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function mp(e,t,i,a,f,p,T,E,A,w,H,P){return e=new jy(e,t,i,T,A,w,H,P,E),t=1,p===!0&&(t|=24),p=It(3,null,null,t),e.current=p,p.stateNode=e,t=Ns(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:a,isDehydrated:i,cache:t},bs(p),e}function hp(e){return e?(e=Pl,e):Pl}function gp(e,t,i,a,f,p){f=hp(f),a.context===null?a.context=f:a.pendingContext=f,a=Vn(t),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=zn(e,a,t),i!==null&&(Rt(i,e,t),zi(i,e,t))}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Zu(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function vp(e){if(e.tag===13||e.tag===31){var t=dl(e,67108864);t!==null&&Rt(t,e,67108864),Zu(e,67108864)}}function Tp(e){if(e.tag===13||e.tag===31){var t=qt();t=Ya(t);var i=dl(e,t);i!==null&&Rt(i,e,t),Zu(e,t)}}var xa=!0;function e0(e,t,i,a){var f=L.T;L.T=null;var p=$.p;try{$.p=2,Wu(e,t,i,a)}finally{$.p=p,L.T=f}}function t0(e,t,i,a){var f=L.T;L.T=null;var p=$.p;try{$.p=8,Wu(e,t,i,a)}finally{$.p=p,L.T=f}}function Wu(e,t,i,a){if(xa){var f=$u(a);if(f===null)Hu(e,t,a,Ma,i),Ep(e,a);else if(l0(f,e,t,i,a))a.stopPropagation();else if(Ep(e,a),t&4&&-1<n0.indexOf(e)){for(;f!==null;){var p=Dl(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=sl(p.pendingLanes);if(T!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-at(T);E.entanglements[1]|=A,T&=~A}an(p),(we&6)===0&&(ua=Ze()+500,to(0))}}break;case 31:case 13:E=dl(p,2),E!==null&&Rt(E,p,2),ca(),Zu(p,2)}if(p=$u(a),p===null&&Hu(e,t,a,Ma,i),p===f)break;f=p}f!==null&&a.stopPropagation()}else Hu(e,t,a,null,i)}}function $u(e){return e=es(e),ju(e)}var Ma=null;function ju(e){if(Ma=null,e=Nl(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=m(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ma=e,null}function Sp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case Nt:return 2;case Tt:return 8;case ot:case Nn:return 32;case Dn:return 268435456;default:return 32}default:return 32}}var er=!1,Zn=null,Wn=null,$n=null,uo=new Map,ro=new Map,jn=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ep(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(t.pointerId)}}function co(e,t,i,a,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:p,targetContainers:[f]},t!==null&&(t=Dl(t),t!==null&&vp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function l0(e,t,i,a,f){switch(t){case"focusin":return Zn=co(Zn,e,t,i,a,f),!0;case"dragenter":return Wn=co(Wn,e,t,i,a,f),!0;case"mouseover":return $n=co($n,e,t,i,a,f),!0;case"pointerover":var p=f.pointerId;return uo.set(p,co(uo.get(p)||null,e,t,i,a,f)),!0;case"gotpointercapture":return p=f.pointerId,ro.set(p,co(ro.get(p)||null,e,t,i,a,f)),!0}return!1}function _p(e){var t=Nl(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=m(i),t!==null){e.blockedOn=t,qr(e.priority,function(){Tp(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,qr(e.priority,function(){Tp(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=$u(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);ja=a,i.target.dispatchEvent(a),ja=null}else return t=Dl(i),t!==null&&vp(t),e.blockedOn=i,!1;t.shift()}return!0}function Cp(e,t,i){Ra(e)&&i.delete(t)}function i0(){er=!1,Zn!==null&&Ra(Zn)&&(Zn=null),Wn!==null&&Ra(Wn)&&(Wn=null),$n!==null&&Ra($n)&&($n=null),uo.forEach(Cp),ro.forEach(Cp)}function Na(e,t){e.blockedOn===t&&(e.blockedOn=null,er||(er=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,i0)))}var Da=null;function Ap(e){Da!==e&&(Da=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Da===e&&(Da=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],f=e[t+2];if(typeof a!="function"){if(ju(a||i)===null)continue;break}var p=Dl(i);p!==null&&(e.splice(t,3),t-=3,$s(p,{pending:!0,data:f,method:i.method,action:a},a,f))}}))}function ci(e){function t(A){return Na(A,e)}Zn!==null&&Na(Zn,e),Wn!==null&&Na(Wn,e),$n!==null&&Na($n,e),uo.forEach(t),ro.forEach(t);for(var i=0;i<jn.length;i++){var a=jn[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<jn.length&&(i=jn[0],i.blockedOn===null);)_p(i),i.blockedOn===null&&jn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var f=i[a],p=i[a+1],T=f[Et]||null;if(typeof p=="function")T||Ap(i);else if(T){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Et]||null)E=T.formAction;else if(ju(f)!==null)continue}else E=T.action;typeof E=="function"?i[a+1]=E:(i.splice(a,3),a-=3),Ap(i)}}}function xp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function tr(e){this._internalRoot=e}Ia.prototype.render=tr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,a=qt();gp(i,a,e,t,null,null)},Ia.prototype.unmount=tr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),ca(),t[Rl]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lr();e={blockedOn:null,target:e,priority:t};for(var i=0;i<jn.length&&t!==0&&t<jn[i].priority;i++);jn.splice(i,0,e),i===0&&_p(e)}};var Mp=n.version;if(Mp!=="19.2.0")throw Error(s(527,Mp,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var o0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{Qt=wa.inject(o0),be=wa}catch{}}return po.createRoot=function(e,t){if(!r(e))throw Error(s(299));var i=!1,a="",f=Uf,p=Lf,T=qf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(T=t.onRecoverableError)),t=mp(e,1,!1,null,null,i,a,null,f,p,T,xp),e[Rl]=t.current,Gu(e),new tr(t)},po.hydrateRoot=function(e,t,i){if(!r(e))throw Error(s(299));var a=!1,f="",p=Uf,T=Lf,E=qf,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(A=i.formState)),t=mp(e,1,!0,t,i??null,a,f,A,p,T,E,xp),t.context=hp(null),i=t.current,a=qt(),a=Ya(a),f=Vn(a),f.callback=null,zn(i,f,a),i=a,t.current.lanes=i,Ei(t,i),an(t),e[Rl]=t.current,Gu(e),new Ia(t)},po.version="19.2.0",po}var Gp;function g0(){if(Gp)return ir.exports;Gp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),ir.exports=h0(),ir.exports}var y0=g0();const v0=yh(y0);let T0,S0;function E0(){return{geminiUrl:T0,vertexUrl:S0}}function _0(l,n,o,s){var r,d;if(!l?.baseUrl){const m=E0();return n?(r=m.vertexUrl)!==null&&r!==void 0?r:o:(d=m.geminiUrl)!==null&&d!==void 0?d:s}return l.baseUrl}class Mn{}function ne(l,n){const o=/\{([^}]+)\}/g;return l.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const d=n[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(l,n,o){for(let d=0;d<n.length-1;d++){const m=n[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in l))if(Array.isArray(o))l[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(l[g])){const y=l[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,n.slice(d+1),o[h])}else for(const h of y)c(h,n.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in l||(l[g]=[{}]);const y=l[g];c(y[0],n.slice(d+1),o);return}(!l[m]||typeof l[m]!="object")&&(l[m]={}),l=l[m]}const s=n[n.length-1],r=l[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[s]=o}function u(l,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return l;for(let s=0;s<n.length;s++){if(typeof l!="object"||l===null)return o;const r=n[s];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in l){const m=l[d];return Array.isArray(m)?m.map(g=>u(g,n.slice(s+1),o)):o}else return o}else l=l[r]}return l}catch(s){if(s instanceof TypeError)return o;throw s}}function C0(l,n){for(const[o,s]of Object.entries(n)){const r=o.split("."),d=s.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}rr(l,r,d,0,m)}}function rr(l,n,o,s,r){if(s>=n.length||typeof l!="object"||l===null)return;const d=n[s];if(d.endsWith("[]")){const m=d.slice(0,-2),g=l;if(m in g&&Array.isArray(g[m]))for(const y of g[m])rr(y,n,o,s+1,r)}else if(d==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const m=l,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const S=[];for(const _ of o.slice(s))_==="*"?S.push(h):S.push(_);c(m,S,v)}for(const h of g)delete m[h]}}else{const m=l;d in m&&rr(m[d],n,o,s+1,r)}}function Tr(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}function A0(l){const n={},o=u(l,["operationName"]);o!=null&&c(n,["operationName"],o);const s=u(l,["resourceName"]);return s!=null&&c(n,["_url","resourceName"],s),n}function x0(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const m=u(l,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],R0(m)),n}function M0(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const m=u(l,["response"]);return m!=null&&c(n,["response"],N0(m)),n}function R0(l){const n={},o=u(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>D0(m))),c(n,["generatedVideos"],d)}const s=u(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function N0(l){const n={},o=u(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>I0(m))),c(n,["generatedVideos"],d)}const s=u(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function D0(l){const n={},o=u(l,["video"]);return o!=null&&c(n,["video"],G0(o)),n}function I0(l){const n={},o=u(l,["_self"]);return o!=null&&c(n,["video"],H0(o)),n}function w0(l){const n={},o=u(l,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function b0(l){const n={},o=u(l,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function U0(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const m=u(l,["response"]);return m!=null&&c(n,["response"],L0(m)),n}function L0(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["parent"]);s!=null&&c(n,["parent"],s);const r=u(l,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function vh(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const m=u(l,["response"]);return m!=null&&c(n,["response"],q0(m)),n}function q0(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["parent"]);s!=null&&c(n,["parent"],s);const r=u(l,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function G0(l){const n={},o=u(l,["uri"]);o!=null&&c(n,["uri"],o);const s=u(l,["encodedVideo"]);s!=null&&c(n,["videoBytes"],Tr(s));const r=u(l,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function H0(l){const n={},o=u(l,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=u(l,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],Tr(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}var Hp;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hp||(Hp={}));var Vp;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(Vp||(Vp={}));var zp;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(zp||(zp={}));var Qe;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(Qe||(Qe={}));var Pp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Pp||(Pp={}));var Bp;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bp||(Bp={}));var kp;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(kp||(kp={}));var Fp;(function(l){l.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",l.HTTP_IN_QUERY="HTTP_IN_QUERY",l.HTTP_IN_HEADER="HTTP_IN_HEADER",l.HTTP_IN_PATH="HTTP_IN_PATH",l.HTTP_IN_BODY="HTTP_IN_BODY",l.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fp||(Fp={}));var Op;(function(l){l.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",l.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",l.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",l.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Op||(Op={}));var Yp;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Yp||(Yp={}));var Jp;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(Jp||(Jp={}));var Xp;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(Xp||(Xp={}));var Kp;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(Kp||(Kp={}));var Qp;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(Qp||(Qp={}));var Zp;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Zp||(Zp={}));var Wp;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wp||(Wp={}));var $p;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})($p||($p={}));var jp;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jp||(jp={}));var qa;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(qa||(qa={}));var em;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(em||(em={}));var tm;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(tm||(tm={}));var nm;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nm||(nm={}));var cr;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cr||(cr={}));var lm;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V",l.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lm||(lm={}));var im;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(im||(im={}));var om;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(om||(om={}));var am;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(am||(am={}));var sm;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sm||(sm={}));var um;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(um||(um={}));var rm;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(rm||(rm={}));var cm;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(cm||(cm={}));var fm;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(fm||(fm={}));var dm;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dm||(dm={}));var pm;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pm||(pm={}));var mm;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mm||(mm={}));var hm;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hm||(hm={}));var gm;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(gm||(gm={}));var ym;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(ym||(ym={}));var vm;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(vm||(vm={}));var Tm;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(Tm||(Tm={}));var Sm;(function(l){l.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",l.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Sm||(Sm={}));var Em;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.STATE_PENDING="STATE_PENDING",l.STATE_ACTIVE="STATE_ACTIVE",l.STATE_FAILED="STATE_FAILED"})(Em||(Em={}));var _m;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(_m||(_m={}));var Cm;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(Cm||(Cm={}));var Am;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Am||(Am={}));var xm;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(xm||(xm={}));var Mm;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mm||(Mm={}));var Rm;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rm||(Rm={}));var Nm;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(Nm||(Nm={}));var Dm;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Dm||(Dm={}));var Im;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Im||(Im={}));var wm;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(wm||(wm={}));var fi;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(fi||(fi={}));class fr{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class mo{get text(){var n,o,s,r,d,m,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const _ of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[R,z]of Object.entries(_))R!=="text"&&R!=="thought"&&(z!==null||z!==void 0)&&S.push(R);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,h+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var n,o,s,r,d,m,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,R]of Object.entries(S))_!=="inlineData"&&(R!==null||R!==void 0)&&v.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,s,r,d,m,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(h?.length!==0)return h}get executableCode(){var n,o,s,r,d,m,g,y,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,s,r,d,m,g,y,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.output}}class bm{}class Um{}class V0{}class z0{}class P0{}class B0{}class Lm{}class qm{}class Gm{}class k0{}class Ga{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new Ga;let r;const d=n;return o?r=M0(d):r=x0(d),Object.assign(s,r),s}}class Hm{}class Vm{}class zm{}class F0{}class O0{}class Y0{}class Sr{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new Sr,d=U0(n);return Object.assign(s,d),s}}class J0{}class X0{}class K0{}class Pm{}class Q0{get text(){var n,o,s;let r="",d=!1;const m=[];for(const g of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var n,o,s;let r="";const d=[];for(const m of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Z0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Er{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new Er,d=vh(n);return Object.assign(s,d),s}}function De(l,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Th(l,n){const o=De(l,n);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function Sh(l){return Array.isArray(l)?l.map(n=>Ha(n)):[Ha(l)]}function Ha(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function Eh(l){const n=Ha(l);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function _h(l){const n=Ha(l);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Bm(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function Ch(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(n=>Bm(n)):[Bm(l)]}function dr(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function km(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function Fm(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function yt(l){if(l==null)throw new Error("ContentUnion is required");return dr(l)?l:{role:"user",parts:Ch(l)}}function _r(l,n){if(!n)return[];if(l.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=yt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(l.isVertexAI()){const o=yt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>yt(o)):[yt(n)]}function Jt(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(km(l)||Fm(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yt(l)]}const n=[],o=[],s=dr(l[0]);for(const r of l){const d=dr(r);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(r);else{if(km(r)||Fm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||n.push({role:"user",parts:Ch(o)}),n}function W0(l,n){l.includes("null")&&(n.nullable=!0);const o=l.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(Qe).includes(o[0].toUpperCase())?o[0].toUpperCase():Qe.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(Qe).includes(s.toUpperCase())?s.toUpperCase():Qe.TYPE_UNSPECIFIED})}}function di(l){const n={},o=["items"],s=["anyOf"],r=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=l.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,l=d[1]):d[1].type==="null"&&(n.nullable=!0,l=d[0])),l.type instanceof Array&&W0(l.type,n);for(const[m,g]of Object.entries(l))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(Qe).includes(g.toUpperCase())?g.toUpperCase():Qe.TYPE_UNSPECIFIED}else if(o.includes(m))n[m]=di(g);else if(s.includes(m)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(di(h))}n[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=di(v);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=g}return n}function Cr(l){return di(l)}function Ar(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function xr(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function hi(l){if(l.functionDeclarations)for(const n of l.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=di(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=di(n.response));return l}function gi(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of l)n.push(o);return n}function $0(l,n,o,s=1){const r=!n.startsWith(`${o}/`)&&n.split("/").length===s;return l.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${l.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}`:r?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${n}`:n:r?`${o}/${n}`:n}function Rn(l,n){if(typeof n!="string")throw new Error("name must be a string");return $0(l,n,"cachedContents")}function Ah(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function ll(l){return Tr(l)}function j0(l){return l!=null&&typeof l=="object"&&"name"in l}function ev(l){return l!=null&&typeof l=="object"&&"video"in l}function tv(l){return l!=null&&typeof l=="object"&&"uri"in l}function xh(l){var n;let o;if(j0(l)&&(o=l.name),!(tv(l)&&(o=l.uri,o===void 0))&&!(ev(l)&&(o=(n=l.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Mh(l,n){let o;return l.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function Rh(l){for(const n of["models","tunedModels","publisherModels"])if(nv(l,n))return l[n];return[]}function nv(l,n){return l!==null&&typeof l=="object"&&n in l}function lv(l,n={}){const o=l,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function iv(l,n={}){const o=[],s=new Set;for(const r of l){const d=r.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const m=lv(r,n);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Nh(l,n){let o;if(typeof n=="string")if(l.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function ov(l){if(typeof l!="string")return l;const n=l;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Dh(l){if(typeof l!="object"||l===null)return{};const n=l,o=n.inlinedResponses;if(typeof o!="object"||o===null)return l;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return l;let d=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),l}function yi(l,n){const o=n;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ih(l){const n=l;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}function av(l){const n={},o=u(l,["responsesFile"]);o!=null&&c(n,["fileName"],o);const s=u(l,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>Hv(m))),c(n,["inlinedResponses"],d)}const r=u(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["inlinedEmbedContentResponses"],d)}return n}function sv(l){const n={},o=u(l,["predictionsFormat"]);o!=null&&c(n,["format"],o);const s=u(l,["gcsDestination","outputUriPrefix"]);s!=null&&c(n,["gcsUri"],s);const r=u(l,["bigqueryDestination","outputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function uv(l){const n={},o=u(l,["format"]);o!=null&&c(n,["predictionsFormat"],o);const s=u(l,["gcsUri"]);s!=null&&c(n,["gcsDestination","outputUriPrefix"],s);const r=u(l,["bigqueryUri"]);if(r!=null&&c(n,["bigqueryDestination","outputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Ua(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata","displayName"]);s!=null&&c(n,["displayName"],s);const r=u(l,["metadata","state"]);r!=null&&c(n,["state"],Ih(r));const d=u(l,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const m=u(l,["metadata","endTime"]);m!=null&&c(n,["endTime"],m);const g=u(l,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const y=u(l,["metadata","model"]);y!=null&&c(n,["model"],y);const h=u(l,["metadata","output"]);return h!=null&&c(n,["dest"],av(Dh(h))),n}function pr(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(l,["state"]);r!=null&&c(n,["state"],Ih(r));const d=u(l,["error"]);d!=null&&c(n,["error"],d);const m=u(l,["createTime"]);m!=null&&c(n,["createTime"],m);const g=u(l,["startTime"]);g!=null&&c(n,["startTime"],g);const y=u(l,["endTime"]);y!=null&&c(n,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(n,["updateTime"],h);const v=u(l,["model"]);v!=null&&c(n,["model"],v);const S=u(l,["inputConfig"]);S!=null&&c(n,["src"],rv(S));const _=u(l,["outputConfig"]);_!=null&&c(n,["dest"],sv(Dh(_)));const R=u(l,["completionStats"]);return R!=null&&c(n,["completionStats"],R),n}function rv(l){const n={},o=u(l,["instancesFormat"]);o!=null&&c(n,["format"],o);const s=u(l,["gcsSource","uris"]);s!=null&&c(n,["gcsUri"],s);const r=u(l,["bigquerySource","inputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function cv(l,n){const o={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(n,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(n,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Gv(l,m))),c(o,["requests","requests"],d)}return o}function fv(l){const n={},o=u(l,["format"]);o!=null&&c(n,["instancesFormat"],o);const s=u(l,["gcsUri"]);s!=null&&c(n,["gcsSource","uris"],s);const r=u(l,["bigqueryUri"]);if(r!=null&&c(n,["bigquerySource","inputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function dv(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function pv(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yi(l,s)),o}function mv(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yi(l,s)),o}function hv(l){const n={},o=u(l,["content"]);o!=null&&c(n,["content"],o);const s=u(l,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],gv(s));const r=u(l,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const d=u(l,["finishReason"]);d!=null&&c(n,["finishReason"],d);const m=u(l,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=u(l,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(l,["index"]);y!=null&&c(n,["index"],y);const h=u(l,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=u(l,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(R=>R)),c(n,["safetyRatings"],_)}const S=u(l,["urlContextMetadata"]);return S!=null&&c(n,["urlContextMetadata"],S),n}function gv(l){const n={},o=u(l,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["citations"],s)}return n}function wh(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Ov(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function yv(l,n){const o={},s=u(l,["displayName"]);if(n!==void 0&&s!=null&&c(n,["batch","displayName"],s),u(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function vv(l,n){const o={},s=u(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(l,["dest"]);return n!==void 0&&r!=null&&c(n,["outputConfig"],uv(ov(r))),o}function Om(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],cv(l,Nh(l,r)));const d=u(n,["config"]);return d!=null&&yv(d,o),o}function Tv(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],De(l,s));const r=u(n,["src"]);r!=null&&c(o,["inputConfig"],fv(Nh(l,r)));const d=u(n,["config"]);return d!=null&&vv(d,o),o}function Sv(l,n){const o={},s=u(l,["displayName"]);return n!==void 0&&s!=null&&c(n,["batch","displayName"],s),o}function Ev(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],Nv(l,r));const d=u(n,["config"]);return d!=null&&Sv(d,o),o}function _v(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yi(l,s)),o}function Cv(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yi(l,s)),o}function Av(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);return d!=null&&c(n,["error"],d),n}function xv(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);return d!=null&&c(n,["error"],d),n}function Mv(l,n){const o={},s=u(n,["contents"]);if(s!=null){let d=_r(l,s);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["requests[]","request","content"],d)}const r=u(n,["config"]);return r!=null&&(c(o,["_self"],Rv(r,o)),C0(o,{"requests[].*":"requests[].request.*"})),o}function Rv(l,n){const o={},s=u(l,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const r=u(l,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const d=u(l,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Nv(l,n){const o={},s=u(n,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(n,["inlinedRequests"]);return r!=null&&c(o,["requests"],Mv(l,r)),o}function Dv(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Iv(l,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],wh(yt(r)));const d=u(n,["temperature"]);d!=null&&c(s,["temperature"],d);const m=u(n,["topP"]);m!=null&&c(s,["topP"],m);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const S=u(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const _=u(n,["logprobs"]);_!=null&&c(s,["logprobs"],_);const R=u(n,["presencePenalty"]);R!=null&&c(s,["presencePenalty"],R);const z=u(n,["frequencyPenalty"]);z!=null&&c(s,["frequencyPenalty"],z);const k=u(n,["seed"]);k!=null&&c(s,["seed"],k);const Y=u(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const G=u(n,["responseSchema"]);G!=null&&c(s,["responseSchema"],Cr(G));const O=u(n,["responseJsonSchema"]);if(O!=null&&c(s,["responseJsonSchema"],O),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(n,["safetySettings"]);if(o!==void 0&&F!=null){let se=F;Array.isArray(se)&&(se=se.map(Ae=>Yv(Ae))),c(o,["safetySettings"],se)}const j=u(n,["tools"]);if(o!==void 0&&j!=null){let se=gi(j);Array.isArray(se)&&(se=se.map(Ae=>Jv(hi(Ae)))),c(o,["tools"],se)}const J=u(n,["toolConfig"]);if(o!==void 0&&J!=null&&c(o,["toolConfig"],J),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(n,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],Rn(l,te));const Q=u(n,["responseModalities"]);Q!=null&&c(s,["responseModalities"],Q);const X=u(n,["mediaResolution"]);X!=null&&c(s,["mediaResolution"],X);const K=u(n,["speechConfig"]);if(K!=null&&c(s,["speechConfig"],Ar(K)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(n,["thinkingConfig"]);le!=null&&c(s,["thinkingConfig"],le);const oe=u(n,["imageConfig"]);return oe!=null&&c(s,["imageConfig"],oe),s}function wv(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>hv(h))),c(n,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const d=u(l,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const m=u(l,["responseId"]);m!=null&&c(n,["responseId"],m);const g=u(l,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function bv(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yi(l,s)),o}function Uv(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yi(l,s)),o}function Lv(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function qv(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function Gv(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["request","model"],De(l,s));const r=u(n,["contents"]);if(r!=null){let g=Jt(r);Array.isArray(g)&&(g=g.map(y=>wh(y))),c(o,["request","contents"],g)}const d=u(n,["metadata"]);d!=null&&c(o,["metadata"],d);const m=u(n,["config"]);return m!=null&&c(o,["request","generationConfig"],Iv(l,m,u(o,["request"],{}))),o}function Hv(l){const n={},o=u(l,["response"]);o!=null&&c(n,["response"],wv(o));const s=u(l,["error"]);return s!=null&&c(n,["error"],s),n}function Vv(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);if(n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),u(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function zv(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const d=u(l,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function Pv(l){const n={},o=u(l,["config"]);return o!=null&&Vv(o,n),n}function Bv(l){const n={},o=u(l,["config"]);return o!=null&&zv(o,n),n}function kv(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Ua(m))),c(n,["batchJobs"],d)}return n}function Fv(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>pr(m))),c(n,["batchJobs"],d)}return n}function Ov(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],Dv(d));const m=u(l,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],dv(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const v=u(l,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function Yv(l){const n={},o=u(l,["category"]);if(o!=null&&c(n,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(l,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function Jv(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["computerUse"]);r!=null&&c(n,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=u(l,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(n,["googleMaps"],Lv(g));const y=u(l,["googleSearch"]);y!=null&&c(n,["googleSearch"],qv(y));const h=u(l,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}var xn;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents",l.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",l.PAGED_ITEM_DOCUMENTS="documents"})(xn||(xn={}));class xl{constructor(n,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,r)}init(n,o,s){var r,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}class Xv extends Mn{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new xl(xn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=Om(this.apiClient,n),s=o._url,r=ne("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const R=S.request;R.systemInstruction=_,S.request=R}h.push(S)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const d=this.getGcsUri(n),m=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${r}`;else if(m)s.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Tv(this.apiClient,n);return g=ne("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>pr(v))}else{const h=Om(this.apiClient,n);return g=ne("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ua(v))}}async createEmbeddingsInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ev(this.apiClient,n);return d=ne("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Ua(y))}}async get(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Uv(this.apiClient,n);return g=ne("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>pr(v))}else{const h=bv(this.apiClient,n);return g=ne("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ua(v))}}async cancel(n){var o,s,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=mv(this.apiClient,n);m=ne("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=pv(this.apiClient,n);m=ne("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Bv(n);return g=ne("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=Fv(v),_=new Pm;return Object.assign(_,S),_})}else{const h=Pv(n);return g=ne("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=kv(v),_=new Pm;return Object.assign(_,S),_})}}async delete(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Cv(this.apiClient,n);return g=ne("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>xv(v))}else{const h=_v(this.apiClient,n);return g=ne("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>Av(v))}}}function Kv(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Ym(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>hT(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function Qv(l,n){const o={},s=u(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(l,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const d=u(l,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const m=u(l,["contents"]);if(n!==void 0&&m!=null){let v=Jt(m);Array.isArray(v)&&(v=v.map(S=>Ym(S))),c(n,["contents"],v)}const g=u(l,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],Ym(yt(g)));const y=u(l,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>gT(S))),c(n,["tools"],v)}const h=u(l,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],h),u(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Zv(l,n){const o={},s=u(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(l,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const d=u(l,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const m=u(l,["contents"]);if(n!==void 0&&m!=null){let S=Jt(m);Array.isArray(S)&&(S=S.map(_=>_)),c(n,["contents"],S)}const g=u(l,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],yt(g));const y=u(l,["tools"]);if(n!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>yT(_))),c(n,["tools"],S)}const h=u(l,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const v=u(l,["kmsKeyName"]);return n!==void 0&&v!=null&&c(n,["encryption_spec","kmsKeyName"],v),o}function Wv(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Th(l,s));const r=u(n,["config"]);return r!=null&&Qv(r,o),o}function $v(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Th(l,s));const r=u(n,["config"]);return r!=null&&Zv(r,o),o}function jv(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],Rn(l,s)),o}function eT(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],Rn(l,s)),o}function tT(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function nT(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function lT(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function iT(l){const n={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(n,["description"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["parameters"]);r!=null&&c(n,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=u(l,["response"]);m!=null&&c(n,["response"],m);const g=u(l,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function oT(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],Rn(l,s)),o}function aT(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],Rn(l,s)),o}function sT(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function uT(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function rT(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function cT(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function fT(l){const n={},o=u(l,["config"]);return o!=null&&rT(o,n),n}function dT(l){const n={},o=u(l,["config"]);return o!=null&&cT(o,n),n}function pT(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["cachedContents"],d)}return n}function mT(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["cachedContents"],d)}return n}function hT(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],lT(d));const m=u(l,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],Kv(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const v=u(l,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function gT(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["computerUse"]);r!=null&&c(n,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=u(l,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(n,["googleMaps"],sT(g));const y=u(l,["googleSearch"]);y!=null&&c(n,["googleSearch"],uT(y));const h=u(l,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function yT(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>iT(_))),c(n,["functionDeclarations"],S)}const s=u(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(l,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(l,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=u(l,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function vT(l,n){const o={},s=u(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(l,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function TT(l,n){const o={},s=u(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(l,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function ST(l,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],Rn(l,s));const r=u(n,["config"]);return r!=null&&vT(r,o),o}function ET(l,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],Rn(l,s));const r=u(n,["config"]);return r!=null&&TT(r,o),o}class _T extends Mn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new xl(xn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$v(this.apiClient,n);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=Wv(this.apiClient,n);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=aT(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=oT(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eT(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=nT(v),_=new Vm;return Object.assign(_,S),_})}else{const h=jv(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=tT(v),_=new Vm;return Object.assign(_,S),_})}}async update(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ET(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=ST(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=dT(n);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=mT(v),_=new zm;return Object.assign(_,S),_})}else{const h=fT(n);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=pT(v),_=new zm;return Object.assign(_,S),_})}}}function Jm(l){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&l[n],s=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(l){return this instanceof Fe?(this.v=l,this):new Fe(l)}function pi(l,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(l,n||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(R){return function(z){return Promise.resolve(z).then(R,S)}}function g(R,z){s[R]&&(r[R]=function(k){return new Promise(function(Y,G){d.push([R,k,Y,G])>1||y(R,k)})},z&&(r[R]=z(r[R])))}function y(R,z){try{h(s[R](z))}catch(k){_(d[0][3],k)}}function h(R){R.value instanceof Fe?Promise.resolve(R.value.v).then(v,S):_(d[0][2],R)}function v(R){y("next",R)}function S(R){y("throw",R)}function _(R,z){R(z),d.shift(),d.length&&y(d[0][0],d[0][1])}}function ho(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],o;return n?n.call(l):(l=typeof Jm=="function"?Jm(l):l[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(d){o[d]=l[d]&&function(m){return new Promise(function(g,y){m=l[d](m),r(g,y,m.done,m.value)})}}function r(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}function CT(l){var n;if(l.candidates==null||l.candidates.length===0)return!1;const o=(n=l.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:bh(o)}function bh(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const n of l.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function AT(l){if(l.length!==0){for(const n of l)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Xm(l){if(l===void 0||l.length===0)return[];const n=[],o=l.length;let s=0;for(;s<o;)if(l[s].role==="user")n.push(l[s]),s++;else{const r=[];let d=!0;for(;s<o&&l[s].role==="model";)r.push(l[s]),d&&!bh(l[s])&&(d=!1),s++;d?n.push(...r):n.pop()}return n}class xT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new MT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class MT{constructor(n,o,s,r={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),AT(d)}async sendMessage(n){var o;await this.sendPromise;const s=yt(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await r,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(S))!==null&&g!==void 0?g:[]);const R=h?[h]:[];this.recordHistory(s,R,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var o;await this.sendPromise;const s=yt(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,s)}getHistory(n=!1){const o=n?Xm(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var s,r;return pi(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var S=!0,_=ho(n),R;R=yield Fe(_.next()),m=R.done,!m;S=!0){h=R.value,S=!1;const z=h;if(CT(z)){const k=(r=(s=z.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content;k!==void 0&&v.push(k)}yield yield Fe(z)}}catch(z){g={error:z}}finally{try{!S&&!m&&(y=_.return)&&(yield Fe(y.call(_)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(n,o,s){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Xm(s)):this.history.push(n),this.history.push(...r)}}class za extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,za.prototype)}}function RT(l){const n={},o=u(l,["file"]);return o!=null&&c(n,["file"],o),n}function NT(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function DT(l){const n={},o=u(l,["name"]);return o!=null&&c(n,["_url","file"],xh(o)),n}function IT(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function wT(l){const n={},o=u(l,["name"]);return o!=null&&c(n,["_url","file"],xh(o)),n}function bT(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function UT(l){const n={},o=u(l,["config"]);return o!=null&&bT(o,n),n}function LT(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["files"],d)}return n}class qT extends Mn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new xl(xn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UT(n);return d=ne("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=LT(y),v=new J0;return Object.assign(v,h),v})}}async createInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RT(n);return d=ne("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=NT(y),v=new X0;return Object.assign(v,h),v})}}async get(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wT(n);return d=ne("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DT(n);return d=ne("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=IT(y),v=new K0;return Object.assign(v,h),v})}}}function La(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function GT(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>WT(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function HT(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function VT(l){const n={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(n,["description"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["parameters"]);r!=null&&c(n,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=u(l,["response"]);m!=null&&c(n,["response"],m);const g=u(l,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function zT(l){const n={},o=u(l,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=u(l,["responseJsonSchema"]);s!=null&&c(n,["responseJsonSchema"],s);const r=u(l,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const d=u(l,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const m=u(l,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=u(l,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=u(l,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=u(l,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=u(l,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const S=u(l,["presencePenalty"]);S!=null&&c(n,["presencePenalty"],S);const _=u(l,["responseLogprobs"]);_!=null&&c(n,["responseLogprobs"],_);const R=u(l,["responseMimeType"]);R!=null&&c(n,["responseMimeType"],R);const z=u(l,["responseModalities"]);z!=null&&c(n,["responseModalities"],z);const k=u(l,["responseSchema"]);k!=null&&c(n,["responseSchema"],k);const Y=u(l,["routingConfig"]);Y!=null&&c(n,["routingConfig"],Y);const G=u(l,["seed"]);G!=null&&c(n,["seed"],G);const O=u(l,["speechConfig"]);O!=null&&c(n,["speechConfig"],Uh(O));const F=u(l,["stopSequences"]);F!=null&&c(n,["stopSequences"],F);const j=u(l,["temperature"]);j!=null&&c(n,["temperature"],j);const J=u(l,["thinkingConfig"]);J!=null&&c(n,["thinkingConfig"],J);const te=u(l,["topK"]);te!=null&&c(n,["topK"],te);const Q=u(l,["topP"]);if(Q!=null&&c(n,["topP"],Q),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function PT(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function BT(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function kT(l,n){const o={},s=u(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(l,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=u(l,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(l,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(l,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=u(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],xr(S));const _=u(l,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const R=u(l,["enableAffectiveDialog"]);n!==void 0&&R!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],R);const z=u(l,["systemInstruction"]);n!==void 0&&z!=null&&c(n,["setup","systemInstruction"],GT(yt(z)));const k=u(l,["tools"]);if(n!==void 0&&k!=null){let te=gi(k);Array.isArray(te)&&(te=te.map(Q=>jT(hi(Q)))),c(n,["setup","tools"],te)}const Y=u(l,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],$T(Y));const G=u(l,["inputAudioTranscription"]);n!==void 0&&G!=null&&c(n,["setup","inputAudioTranscription"],G);const O=u(l,["outputAudioTranscription"]);n!==void 0&&O!=null&&c(n,["setup","outputAudioTranscription"],O);const F=u(l,["realtimeInputConfig"]);n!==void 0&&F!=null&&c(n,["setup","realtimeInputConfig"],F);const j=u(l,["contextWindowCompression"]);n!==void 0&&j!=null&&c(n,["setup","contextWindowCompression"],j);const J=u(l,["proactivity"]);return n!==void 0&&J!=null&&c(n,["setup","proactivity"],J),o}function FT(l,n){const o={},s=u(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],zT(s));const r=u(l,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=u(l,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(l,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(l,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=u(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],Uh(xr(S)));const _=u(l,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const R=u(l,["enableAffectiveDialog"]);n!==void 0&&R!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],R);const z=u(l,["systemInstruction"]);n!==void 0&&z!=null&&c(n,["setup","systemInstruction"],yt(z));const k=u(l,["tools"]);if(n!==void 0&&k!=null){let te=gi(k);Array.isArray(te)&&(te=te.map(Q=>eS(hi(Q)))),c(n,["setup","tools"],te)}const Y=u(l,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],Y);const G=u(l,["inputAudioTranscription"]);n!==void 0&&G!=null&&c(n,["setup","inputAudioTranscription"],G);const O=u(l,["outputAudioTranscription"]);n!==void 0&&O!=null&&c(n,["setup","outputAudioTranscription"],O);const F=u(l,["realtimeInputConfig"]);n!==void 0&&F!=null&&c(n,["setup","realtimeInputConfig"],F);const j=u(l,["contextWindowCompression"]);n!==void 0&&j!=null&&c(n,["setup","contextWindowCompression"],j);const J=u(l,["proactivity"]);return n!==void 0&&J!=null&&c(n,["setup","proactivity"],J),o}function OT(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],De(l,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],kT(r,o)),o}function YT(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],De(l,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],FT(r,o)),o}function JT(l){const n={},o=u(l,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function XT(l){const n={},o=u(l,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["weightedPrompts"],s)}return n}function KT(l){const n={},o=u(l,["media"]);if(o!=null){let h=Sh(o);Array.isArray(h)&&(h=h.map(v=>La(v))),c(n,["mediaChunks"],h)}const s=u(l,["audio"]);s!=null&&c(n,["audio"],La(_h(s)));const r=u(l,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const d=u(l,["video"]);d!=null&&c(n,["video"],La(Eh(d)));const m=u(l,["text"]);m!=null&&c(n,["text"],m);const g=u(l,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(l,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function QT(l){const n={},o=u(l,["media"]);if(o!=null){let h=Sh(o);Array.isArray(h)&&(h=h.map(v=>v)),c(n,["mediaChunks"],h)}const s=u(l,["audio"]);s!=null&&c(n,["audio"],_h(s));const r=u(l,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const d=u(l,["video"]);d!=null&&c(n,["video"],Eh(d));const m=u(l,["text"]);m!=null&&c(n,["text"],m);const g=u(l,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(l,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function ZT(l){const n={},o=u(l,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const s=u(l,["serverContent"]);s!=null&&c(n,["serverContent"],s);const r=u(l,["toolCall"]);r!=null&&c(n,["toolCall"],r);const d=u(l,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const m=u(l,["usageMetadata"]);m!=null&&c(n,["usageMetadata"],tS(m));const g=u(l,["goAway"]);g!=null&&c(n,["goAway"],g);const y=u(l,["sessionResumptionUpdate"]);return y!=null&&c(n,["sessionResumptionUpdate"],y),n}function WT(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],HT(d));const m=u(l,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],La(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const v=u(l,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function $T(l){const n={},o=u(l,["handle"]);if(o!=null&&c(n,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Uh(l){const n={},o=u(l,["languageCode"]);o!=null&&c(n,["languageCode"],o);const s=u(l,["voiceConfig"]);if(s!=null&&c(n,["voiceConfig"],s),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function jT(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["computerUse"]);r!=null&&c(n,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=u(l,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(n,["googleMaps"],PT(g));const y=u(l,["googleSearch"]);y!=null&&c(n,["googleSearch"],BT(y));const h=u(l,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function eS(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>VT(_))),c(n,["functionDeclarations"],S)}const s=u(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(l,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(l,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=u(l,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function tS(l){const n={},o=u(l,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const s=u(l,["cachedContentTokenCount"]);s!=null&&c(n,["cachedContentTokenCount"],s);const r=u(l,["candidatesTokenCount"]);r!=null&&c(n,["responseTokenCount"],r);const d=u(l,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const m=u(l,["thoughtsTokenCount"]);m!=null&&c(n,["thoughtsTokenCount"],m);const g=u(l,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const y=u(l,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(z=>z)),c(n,["promptTokensDetails"],R)}const h=u(l,["cacheTokensDetails"]);if(h!=null){let R=h;Array.isArray(R)&&(R=R.map(z=>z)),c(n,["cacheTokensDetails"],R)}const v=u(l,["candidatesTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(z=>z)),c(n,["responseTokensDetails"],R)}const S=u(l,["toolUsePromptTokensDetails"]);if(S!=null){let R=S;Array.isArray(R)&&(R=R.map(z=>z)),c(n,["toolUsePromptTokensDetails"],R)}const _=u(l,["trafficType"]);return _!=null&&c(n,["trafficType"],_),n}function nS(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function lS(l){const n={},o=u(l,["content"]);o!=null&&c(n,["content"],o);const s=u(l,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],iS(s));const r=u(l,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const d=u(l,["finishReason"]);d!=null&&c(n,["finishReason"],d);const m=u(l,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=u(l,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(l,["index"]);y!=null&&c(n,["index"],y);const h=u(l,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=u(l,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(R=>R)),c(n,["safetyRatings"],_)}const S=u(l,["urlContextMetadata"]);return S!=null&&c(n,["urlContextMetadata"],S),n}function iS(l){const n={},o=u(l,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["citations"],s)}return n}function oS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["contents"]);if(r!=null){let d=Jt(r);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["contents"],d)}return o}function aS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(n,["tokensInfo"],r)}return n}function sS(l){const n={},o=u(l,["values"]);o!=null&&c(n,["values"],o);const s=u(l,["statistics"]);return s!=null&&c(n,["statistics"],uS(s)),n}function uS(l){const n={},o=u(l,["truncated"]);o!=null&&c(n,["truncated"],o);const s=u(l,["token_count"]);return s!=null&&c(n,["tokenCount"],s),n}function Pa(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>pE(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function rS(l){const n={},o=u(l,["controlType"]);o!=null&&c(n,["controlType"],o);const s=u(l,["enableControlImageComputation"]);return s!=null&&c(n,["computeControl"],s),n}function cS(l){const n={};if(u(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function fS(l,n){const o={},s=u(l,["systemInstruction"]);n!==void 0&&s!=null&&c(n,["systemInstruction"],yt(s));const r=u(l,["tools"]);if(n!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>Vh(g))),c(n,["tools"],m)}const d=u(l,["generationConfig"]);return n!==void 0&&d!=null&&c(n,["generationConfig"],eE(d)),o}function dS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["contents"]);if(r!=null){let m=Jt(r);Array.isArray(m)&&(m=m.map(g=>Pa(g))),c(o,["contents"],m)}const d=u(n,["config"]);return d!=null&&cS(d),o}function pS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["contents"]);if(r!=null){let m=Jt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const d=u(n,["config"]);return d!=null&&fS(d,o),o}function mS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["totalTokens"]);s!=null&&c(n,["totalTokens"],s);const r=u(l,["cachedContentTokenCount"]);return r!=null&&c(n,["cachedContentTokenCount"],r),n}function hS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["totalTokens"]);return s!=null&&c(n,["totalTokens"],s),n}function gS(l,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],De(l,s)),o}function yS(l,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],De(l,s)),o}function vS(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function TS(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function SS(l,n){const o={},s=u(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(l,["negativePrompt"]);n!==void 0&&r!=null&&c(n,["parameters","negativePrompt"],r);const d=u(l,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const m=u(l,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=u(l,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=u(l,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=u(l,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=u(l,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const _=u(l,["includeRaiReason"]);n!==void 0&&_!=null&&c(n,["parameters","includeRaiReason"],_);const R=u(l,["language"]);n!==void 0&&R!=null&&c(n,["parameters","language"],R);const z=u(l,["outputMimeType"]);n!==void 0&&z!=null&&c(n,["parameters","outputOptions","mimeType"],z);const k=u(l,["outputCompressionQuality"]);n!==void 0&&k!=null&&c(n,["parameters","outputOptions","compressionQuality"],k);const Y=u(l,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const G=u(l,["labels"]);n!==void 0&&G!=null&&c(n,["labels"],G);const O=u(l,["editMode"]);n!==void 0&&O!=null&&c(n,["parameters","editMode"],O);const F=u(l,["baseSteps"]);return n!==void 0&&F!=null&&c(n,["parameters","editConfig","baseSteps"],F),o}function ES(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>TE(y))),c(o,["instances[0]","referenceImages"],g)}const m=u(n,["config"]);return m!=null&&SS(m,o),o}function _S(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>Ba(d))),c(n,["generatedImages"],r)}return n}function CS(l,n){const o={},s=u(l,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const r=u(l,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const d=u(l,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function AS(l,n){const o={},s=u(l,["taskType"]);n!==void 0&&s!=null&&c(n,["instances[]","task_type"],s);const r=u(l,["title"]);n!==void 0&&r!=null&&c(n,["instances[]","title"],r);const d=u(l,["outputDimensionality"]);n!==void 0&&d!=null&&c(n,["parameters","outputDimensionality"],d);const m=u(l,["mimeType"]);n!==void 0&&m!=null&&c(n,["instances[]","mimeType"],m);const g=u(l,["autoTruncate"]);return n!==void 0&&g!=null&&c(n,["parameters","autoTruncate"],g),o}function xS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["contents"]);if(r!=null){let g=_r(l,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=u(n,["config"]);d!=null&&CS(d,o);const m=u(n,["model"]);return m!==void 0&&c(o,["requests[]","model"],De(l,m)),o}function MS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["contents"]);if(r!=null){let m=_r(l,r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["instances[]","content"],m)}const d=u(n,["config"]);return d!=null&&AS(d,o),o}function RS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["embeddings"],d)}const r=u(l,["metadata"]);return r!=null&&c(n,["metadata"],r),n}function NS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>sS(m))),c(n,["embeddings"],d)}const r=u(l,["metadata"]);return r!=null&&c(n,["metadata"],r),n}function DS(l){const n={},o=u(l,["endpoint"]);o!=null&&c(n,["name"],o);const s=u(l,["deployedModelId"]);return s!=null&&c(n,["deployedModelId"],s),n}function IS(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function wS(l){const n={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(n,["description"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["parameters"]);r!=null&&c(n,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=u(l,["response"]);m!=null&&c(n,["response"],m);const g=u(l,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function bS(l,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Pa(yt(r)));const d=u(n,["temperature"]);d!=null&&c(s,["temperature"],d);const m=u(n,["topP"]);m!=null&&c(s,["topP"],m);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const S=u(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const _=u(n,["logprobs"]);_!=null&&c(s,["logprobs"],_);const R=u(n,["presencePenalty"]);R!=null&&c(s,["presencePenalty"],R);const z=u(n,["frequencyPenalty"]);z!=null&&c(s,["frequencyPenalty"],z);const k=u(n,["seed"]);k!=null&&c(s,["seed"],k);const Y=u(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const G=u(n,["responseSchema"]);G!=null&&c(s,["responseSchema"],Cr(G));const O=u(n,["responseJsonSchema"]);if(O!=null&&c(s,["responseJsonSchema"],O),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(n,["safetySettings"]);if(o!==void 0&&F!=null){let se=F;Array.isArray(se)&&(se=se.map(Ae=>SE(Ae))),c(o,["safetySettings"],se)}const j=u(n,["tools"]);if(o!==void 0&&j!=null){let se=gi(j);Array.isArray(se)&&(se=se.map(Ae=>ME(hi(Ae)))),c(o,["tools"],se)}const J=u(n,["toolConfig"]);if(o!==void 0&&J!=null&&c(o,["toolConfig"],J),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(n,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],Rn(l,te));const Q=u(n,["responseModalities"]);Q!=null&&c(s,["responseModalities"],Q);const X=u(n,["mediaResolution"]);X!=null&&c(s,["mediaResolution"],X);const K=u(n,["speechConfig"]);if(K!=null&&c(s,["speechConfig"],Ar(K)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(n,["thinkingConfig"]);le!=null&&c(s,["thinkingConfig"],le);const oe=u(n,["imageConfig"]);return oe!=null&&c(s,["imageConfig"],oe),s}function US(l,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],yt(r));const d=u(n,["temperature"]);d!=null&&c(s,["temperature"],d);const m=u(n,["topP"]);m!=null&&c(s,["topP"],m);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const S=u(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const _=u(n,["logprobs"]);_!=null&&c(s,["logprobs"],_);const R=u(n,["presencePenalty"]);R!=null&&c(s,["presencePenalty"],R);const z=u(n,["frequencyPenalty"]);z!=null&&c(s,["frequencyPenalty"],z);const k=u(n,["seed"]);k!=null&&c(s,["seed"],k);const Y=u(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const G=u(n,["responseSchema"]);G!=null&&c(s,["responseSchema"],Cr(G));const O=u(n,["responseJsonSchema"]);O!=null&&c(s,["responseJsonSchema"],O);const F=u(n,["routingConfig"]);F!=null&&c(s,["routingConfig"],F);const j=u(n,["modelSelectionConfig"]);j!=null&&c(s,["modelConfig"],j);const J=u(n,["safetySettings"]);if(o!==void 0&&J!=null){let L=J;Array.isArray(L)&&(L=L.map($=>$)),c(o,["safetySettings"],L)}const te=u(n,["tools"]);if(o!==void 0&&te!=null){let L=gi(te);Array.isArray(L)&&(L=L.map($=>Vh(hi($)))),c(o,["tools"],L)}const Q=u(n,["toolConfig"]);o!==void 0&&Q!=null&&c(o,["toolConfig"],Q);const X=u(n,["labels"]);o!==void 0&&X!=null&&c(o,["labels"],X);const K=u(n,["cachedContent"]);o!==void 0&&K!=null&&c(o,["cachedContent"],Rn(l,K));const le=u(n,["responseModalities"]);le!=null&&c(s,["responseModalities"],le);const oe=u(n,["mediaResolution"]);oe!=null&&c(s,["mediaResolution"],oe);const se=u(n,["speechConfig"]);se!=null&&c(s,["speechConfig"],Hh(Ar(se)));const Ae=u(n,["audioTimestamp"]);Ae!=null&&c(s,["audioTimestamp"],Ae);const xe=u(n,["thinkingConfig"]);xe!=null&&c(s,["thinkingConfig"],xe);const Ue=u(n,["imageConfig"]);return Ue!=null&&c(s,["imageConfig"],Ue),s}function Km(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["contents"]);if(r!=null){let m=Jt(r);Array.isArray(m)&&(m=m.map(g=>Pa(g))),c(o,["contents"],m)}const d=u(n,["config"]);return d!=null&&c(o,["generationConfig"],bS(l,d,o)),o}function Qm(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["contents"]);if(r!=null){let m=Jt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const d=u(n,["config"]);return d!=null&&c(o,["generationConfig"],US(l,d,o)),o}function Zm(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>lS(h))),c(n,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const d=u(l,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const m=u(l,["responseId"]);m!=null&&c(n,["responseId"],m);const g=u(l,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function Wm(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),c(n,["candidates"],h)}const r=u(l,["createTime"]);r!=null&&c(n,["createTime"],r);const d=u(l,["modelVersion"]);d!=null&&c(n,["modelVersion"],d);const m=u(l,["promptFeedback"]);m!=null&&c(n,["promptFeedback"],m);const g=u(l,["responseId"]);g!=null&&c(n,["responseId"],g);const y=u(l,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function LS(l,n){const o={};if(u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(l,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(l,["aspectRatio"]);n!==void 0&&r!=null&&c(n,["parameters","aspectRatio"],r);const d=u(l,["guidanceScale"]);if(n!==void 0&&d!=null&&c(n,["parameters","guidanceScale"],d),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(l,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const g=u(l,["personGeneration"]);n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g);const y=u(l,["includeSafetyAttributes"]);n!==void 0&&y!=null&&c(n,["parameters","includeSafetyAttributes"],y);const h=u(l,["includeRaiReason"]);n!==void 0&&h!=null&&c(n,["parameters","includeRaiReason"],h);const v=u(l,["language"]);n!==void 0&&v!=null&&c(n,["parameters","language"],v);const S=u(l,["outputMimeType"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","mimeType"],S);const _=u(l,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&c(n,["parameters","outputOptions","compressionQuality"],_),u(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=u(l,["imageSize"]);if(n!==void 0&&R!=null&&c(n,["parameters","sampleImageSize"],R),u(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function qS(l,n){const o={},s=u(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(l,["negativePrompt"]);n!==void 0&&r!=null&&c(n,["parameters","negativePrompt"],r);const d=u(l,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const m=u(l,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=u(l,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=u(l,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=u(l,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=u(l,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const _=u(l,["includeRaiReason"]);n!==void 0&&_!=null&&c(n,["parameters","includeRaiReason"],_);const R=u(l,["language"]);n!==void 0&&R!=null&&c(n,["parameters","language"],R);const z=u(l,["outputMimeType"]);n!==void 0&&z!=null&&c(n,["parameters","outputOptions","mimeType"],z);const k=u(l,["outputCompressionQuality"]);n!==void 0&&k!=null&&c(n,["parameters","outputOptions","compressionQuality"],k);const Y=u(l,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const G=u(l,["labels"]);n!==void 0&&G!=null&&c(n,["labels"],G);const O=u(l,["imageSize"]);n!==void 0&&O!=null&&c(n,["parameters","sampleImageSize"],O);const F=u(l,["enhancePrompt"]);return n!==void 0&&F!=null&&c(n,["parameters","enhancePrompt"],F),o}function GS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["config"]);return d!=null&&LS(d,o),o}function HS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["config"]);return d!=null&&qS(d,o),o}function VS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>ZS(m))),c(n,["generatedImages"],d)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],qh(r)),n}function zS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>Ba(m))),c(n,["generatedImages"],d)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Gh(r)),n}function PS(l,n){const o={},s=u(l,["numberOfVideos"]);if(n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s),u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(l,["durationSeconds"]);if(n!==void 0&&r!=null&&c(n,["parameters","durationSeconds"],r),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(l,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const m=u(l,["resolution"]);n!==void 0&&m!=null&&c(n,["parameters","resolution"],m);const g=u(l,["personGeneration"]);if(n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g),u(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(l,["negativePrompt"]);n!==void 0&&y!=null&&c(n,["parameters","negativePrompt"],y);const h=u(l,["enhancePrompt"]);if(n!==void 0&&h!=null&&c(n,["parameters","enhancePrompt"],h),u(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(l,["lastFrame"]);n!==void 0&&v!=null&&c(n,["instances[0]","lastFrame"],ka(v));const S=u(l,["referenceImages"]);if(n!==void 0&&S!=null){let _=S;Array.isArray(_)&&(_=_.map(R=>zE(R))),c(n,["instances[0]","referenceImages"],_)}if(u(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function BS(l,n){const o={},s=u(l,["numberOfVideos"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(l,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const d=u(l,["fps"]);n!==void 0&&d!=null&&c(n,["parameters","fps"],d);const m=u(l,["durationSeconds"]);n!==void 0&&m!=null&&c(n,["parameters","durationSeconds"],m);const g=u(l,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const y=u(l,["aspectRatio"]);n!==void 0&&y!=null&&c(n,["parameters","aspectRatio"],y);const h=u(l,["resolution"]);n!==void 0&&h!=null&&c(n,["parameters","resolution"],h);const v=u(l,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=u(l,["pubsubTopic"]);n!==void 0&&S!=null&&c(n,["parameters","pubsubTopic"],S);const _=u(l,["negativePrompt"]);n!==void 0&&_!=null&&c(n,["parameters","negativePrompt"],_);const R=u(l,["enhancePrompt"]);n!==void 0&&R!=null&&c(n,["parameters","enhancePrompt"],R);const z=u(l,["generateAudio"]);n!==void 0&&z!=null&&c(n,["parameters","generateAudio"],z);const k=u(l,["lastFrame"]);n!==void 0&&k!=null&&c(n,["instances[0]","lastFrame"],en(k));const Y=u(l,["referenceImages"]);if(n!==void 0&&Y!=null){let F=Y;Array.isArray(F)&&(F=F.map(j=>PE(j))),c(n,["instances[0]","referenceImages"],F)}const G=u(l,["mask"]);n!==void 0&&G!=null&&c(n,["instances[0]","mask"],VE(G));const O=u(l,["compressionQuality"]);return n!==void 0&&O!=null&&c(n,["parameters","compressionQuality"],O),o}function kS(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const m=u(l,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],JS(m)),n}function FS(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const m=u(l,["response"]);return m!=null&&c(n,["response"],XS(m)),n}function OS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["image"]);d!=null&&c(o,["instances[0]","image"],ka(d));const m=u(n,["video"]);m!=null&&c(o,["instances[0]","video"],zh(m));const g=u(n,["source"]);g!=null&&KS(g,o);const y=u(n,["config"]);return y!=null&&PS(y,o),o}function YS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["image"]);d!=null&&c(o,["instances[0]","image"],en(d));const m=u(n,["video"]);m!=null&&c(o,["instances[0]","video"],Ph(m));const g=u(n,["source"]);g!=null&&QS(g,o);const y=u(n,["config"]);return y!=null&&BS(y,o),o}function JS(l){const n={},o=u(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>$S(m))),c(n,["generatedVideos"],d)}const s=u(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function XS(l){const n={},o=u(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>jS(m))),c(n,["generatedVideos"],d)}const s=u(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function KS(l,n){const o={},s=u(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(l,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],ka(r));const d=u(l,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],zh(d)),o}function QS(l,n){const o={},s=u(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(l,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],en(r));const d=u(l,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Ph(d)),o}function ZS(l){const n={},o=u(l,["_self"]);o!=null&&c(n,["image"],oE(o));const s=u(l,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const r=u(l,["_self"]);return r!=null&&c(n,["safetyAttributes"],qh(r)),n}function Ba(l){const n={},o=u(l,["_self"]);o!=null&&c(n,["image"],Lh(o));const s=u(l,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const r=u(l,["_self"]);r!=null&&c(n,["safetyAttributes"],Gh(r));const d=u(l,["prompt"]);return d!=null&&c(n,["enhancedPrompt"],d),n}function WS(l){const n={},o=u(l,["_self"]);o!=null&&c(n,["mask"],Lh(o));const s=u(l,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(n,["labels"],r)}return n}function $S(l){const n={},o=u(l,["video"]);return o!=null&&c(n,["video"],GE(o)),n}function jS(l){const n={},o=u(l,["_self"]);return o!=null&&c(n,["video"],HE(o)),n}function eE(l){const n={},o=u(l,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=u(l,["responseJsonSchema"]);s!=null&&c(n,["responseJsonSchema"],s);const r=u(l,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const d=u(l,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const m=u(l,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=u(l,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=u(l,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=u(l,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=u(l,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const S=u(l,["presencePenalty"]);S!=null&&c(n,["presencePenalty"],S);const _=u(l,["responseLogprobs"]);_!=null&&c(n,["responseLogprobs"],_);const R=u(l,["responseMimeType"]);R!=null&&c(n,["responseMimeType"],R);const z=u(l,["responseModalities"]);z!=null&&c(n,["responseModalities"],z);const k=u(l,["responseSchema"]);k!=null&&c(n,["responseSchema"],k);const Y=u(l,["routingConfig"]);Y!=null&&c(n,["routingConfig"],Y);const G=u(l,["seed"]);G!=null&&c(n,["seed"],G);const O=u(l,["speechConfig"]);O!=null&&c(n,["speechConfig"],Hh(O));const F=u(l,["stopSequences"]);F!=null&&c(n,["stopSequences"],F);const j=u(l,["temperature"]);j!=null&&c(n,["temperature"],j);const J=u(l,["thinkingConfig"]);J!=null&&c(n,["thinkingConfig"],J);const te=u(l,["topK"]);te!=null&&c(n,["topK"],te);const Q=u(l,["topP"]);if(Q!=null&&c(n,["topP"],Q),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function tE(l,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],De(l,s)),o}function nE(l,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],De(l,s)),o}function lE(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function iE(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function oE(l){const n={},o=u(l,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],ll(o));const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Lh(l){const n={},o=u(l,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=u(l,["bytesBase64Encoded"]);s!=null&&c(n,["imageBytes"],ll(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function ka(l){const n={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(l,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],ll(o));const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function en(l){const n={},o=u(l,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=u(l,["imageBytes"]);s!=null&&c(n,["bytesBase64Encoded"],ll(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function aE(l,n,o){const s={},r=u(n,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=u(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=u(n,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Mh(l,g)),s}function sE(l,n,o){const s={},r=u(n,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=u(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=u(n,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Mh(l,g)),s}function uE(l,n){const o={},s=u(n,["config"]);return s!=null&&aE(l,s,o),o}function rE(l,n){const o={},s=u(n,["config"]);return s!=null&&sE(l,s,o),o}function cE(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["_self"]);if(r!=null){let d=Rh(r);Array.isArray(d)&&(d=d.map(m=>mr(m))),c(n,["models"],d)}return n}function fE(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["_self"]);if(r!=null){let d=Rh(r);Array.isArray(d)&&(d=d.map(m=>hr(m))),c(n,["models"],d)}return n}function dE(l){const n={},o=u(l,["maskMode"]);o!=null&&c(n,["maskMode"],o);const s=u(l,["segmentationClasses"]);s!=null&&c(n,["maskClasses"],s);const r=u(l,["maskDilation"]);return r!=null&&c(n,["dilation"],r),n}function mr(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(l,["description"]);r!=null&&c(n,["description"],r);const d=u(l,["version"]);d!=null&&c(n,["version"],d);const m=u(l,["_self"]);m!=null&&c(n,["tunedModelInfo"],RE(m));const g=u(l,["inputTokenLimit"]);g!=null&&c(n,["inputTokenLimit"],g);const y=u(l,["outputTokenLimit"]);y!=null&&c(n,["outputTokenLimit"],y);const h=u(l,["supportedGenerationMethods"]);return h!=null&&c(n,["supportedActions"],h),n}function hr(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(l,["description"]);r!=null&&c(n,["description"],r);const d=u(l,["versionId"]);d!=null&&c(n,["version"],d);const m=u(l,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(_=>DS(_))),c(n,["endpoints"],S)}const g=u(l,["labels"]);g!=null&&c(n,["labels"],g);const y=u(l,["_self"]);y!=null&&c(n,["tunedModelInfo"],NE(y));const h=u(l,["defaultCheckpointId"]);h!=null&&c(n,["defaultCheckpointId"],h);const v=u(l,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>_)),c(n,["checkpoints"],S)}return n}function pE(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],IS(d));const m=u(l,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],nS(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const v=u(l,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function mE(l){const n={},o=u(l,["productImage"]);return o!=null&&c(n,["image"],en(o)),n}function hE(l,n){const o={},s=u(l,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(l,["baseSteps"]);n!==void 0&&r!=null&&c(n,["parameters","editConfig","baseSteps"],r);const d=u(l,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const m=u(l,["seed"]);n!==void 0&&m!=null&&c(n,["parameters","seed"],m);const g=u(l,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const y=u(l,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const h=u(l,["addWatermark"]);n!==void 0&&h!=null&&c(n,["parameters","addWatermark"],h);const v=u(l,["outputMimeType"]);n!==void 0&&v!=null&&c(n,["parameters","outputOptions","mimeType"],v);const S=u(l,["outputCompressionQuality"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","compressionQuality"],S);const _=u(l,["enhancePrompt"]);n!==void 0&&_!=null&&c(n,["parameters","enhancePrompt"],_);const R=u(l,["labels"]);return n!==void 0&&R!=null&&c(n,["labels"],R),o}function gE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["source"]);r!=null&&vE(r,o);const d=u(n,["config"]);return d!=null&&hE(d,o),o}function yE(l){const n={},o=u(l,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Ba(r))),c(n,["generatedImages"],s)}return n}function vE(l,n){const o={},s=u(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(l,["personImage"]);n!==void 0&&r!=null&&c(n,["instances[0]","personImage","image"],en(r));const d=u(l,["productImages"]);if(n!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>mE(g))),c(n,["instances[0]","productImages"],m)}return o}function TE(l){const n={},o=u(l,["referenceImage"]);o!=null&&c(n,["referenceImage"],en(o));const s=u(l,["referenceId"]);s!=null&&c(n,["referenceId"],s);const r=u(l,["referenceType"]);r!=null&&c(n,["referenceType"],r);const d=u(l,["maskImageConfig"]);d!=null&&c(n,["maskImageConfig"],dE(d));const m=u(l,["controlImageConfig"]);m!=null&&c(n,["controlImageConfig"],rS(m));const g=u(l,["styleImageConfig"]);g!=null&&c(n,["styleImageConfig"],g);const y=u(l,["subjectImageConfig"]);return y!=null&&c(n,["subjectImageConfig"],y),n}function qh(l){const n={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=u(l,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const r=u(l,["contentType"]);return r!=null&&c(n,["contentType"],r),n}function Gh(l){const n={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=u(l,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const r=u(l,["contentType"]);return r!=null&&c(n,["contentType"],r),n}function SE(l){const n={},o=u(l,["category"]);if(o!=null&&c(n,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(l,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function EE(l){const n={},o=u(l,["image"]);return o!=null&&c(n,["image"],en(o)),n}function _E(l,n){const o={},s=u(l,["mode"]);n!==void 0&&s!=null&&c(n,["parameters","mode"],s);const r=u(l,["maxPredictions"]);n!==void 0&&r!=null&&c(n,["parameters","maxPredictions"],r);const d=u(l,["confidenceThreshold"]);n!==void 0&&d!=null&&c(n,["parameters","confidenceThreshold"],d);const m=u(l,["maskDilation"]);n!==void 0&&m!=null&&c(n,["parameters","maskDilation"],m);const g=u(l,["binaryColorThreshold"]);n!==void 0&&g!=null&&c(n,["parameters","binaryColorThreshold"],g);const y=u(l,["labels"]);return n!==void 0&&y!=null&&c(n,["labels"],y),o}function CE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["source"]);r!=null&&xE(r,o);const d=u(n,["config"]);return d!=null&&_E(d,o),o}function AE(l){const n={},o=u(l,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>WS(r))),c(n,["generatedMasks"],s)}return n}function xE(l,n){const o={},s=u(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(l,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],en(r));const d=u(l,["scribbleImage"]);return n!==void 0&&d!=null&&c(n,["instances[0]","scribble"],EE(d)),o}function Hh(l){const n={},o=u(l,["languageCode"]);o!=null&&c(n,["languageCode"],o);const s=u(l,["voiceConfig"]);if(s!=null&&c(n,["voiceConfig"],s),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function ME(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["computerUse"]);r!=null&&c(n,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=u(l,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(n,["googleMaps"],lE(g));const y=u(l,["googleSearch"]);y!=null&&c(n,["googleSearch"],iE(y));const h=u(l,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function Vh(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>wS(_))),c(n,["functionDeclarations"],S)}const s=u(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const d=u(l,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(l,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(l,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=u(l,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function RE(l){const n={},o=u(l,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=u(l,["createTime"]);s!=null&&c(n,["createTime"],s);const r=u(l,["updateTime"]);return r!=null&&c(n,["updateTime"],r),n}function NE(l){const n={},o=u(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const s=u(l,["createTime"]);s!=null&&c(n,["createTime"],s);const r=u(l,["updateTime"]);return r!=null&&c(n,["updateTime"],r),n}function DE(l,n){const o={},s=u(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(l,["description"]);n!==void 0&&r!=null&&c(n,["description"],r);const d=u(l,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function IE(l,n){const o={},s=u(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(l,["description"]);n!==void 0&&r!=null&&c(n,["description"],r);const d=u(l,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function wE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","name"],De(l,s));const r=u(n,["config"]);return r!=null&&DE(r,o),o}function bE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["config"]);return r!=null&&IE(r,o),o}function UE(l,n){const o={},s=u(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(l,["safetyFilterLevel"]);n!==void 0&&r!=null&&c(n,["parameters","safetySetting"],r);const d=u(l,["personGeneration"]);n!==void 0&&d!=null&&c(n,["parameters","personGeneration"],d);const m=u(l,["includeRaiReason"]);n!==void 0&&m!=null&&c(n,["parameters","includeRaiReason"],m);const g=u(l,["outputMimeType"]);n!==void 0&&g!=null&&c(n,["parameters","outputOptions","mimeType"],g);const y=u(l,["outputCompressionQuality"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","compressionQuality"],y);const h=u(l,["enhanceInputImage"]);n!==void 0&&h!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(l,["imagePreservationFactor"]);n!==void 0&&v!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=u(l,["labels"]);n!==void 0&&S!=null&&c(n,["labels"],S);const _=u(l,["numberOfImages"]);n!==void 0&&_!=null&&c(n,["parameters","sampleCount"],_);const R=u(l,["mode"]);return n!==void 0&&R!=null&&c(n,["parameters","mode"],R),o}function LE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],De(l,s));const r=u(n,["image"]);r!=null&&c(o,["instances[0]","image"],en(r));const d=u(n,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=u(n,["config"]);return m!=null&&UE(m,o),o}function qE(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>Ba(d))),c(n,["generatedImages"],r)}return n}function GE(l){const n={},o=u(l,["uri"]);o!=null&&c(n,["uri"],o);const s=u(l,["encodedVideo"]);s!=null&&c(n,["videoBytes"],ll(s));const r=u(l,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function HE(l){const n={},o=u(l,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=u(l,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],ll(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function VE(l){const n={},o=u(l,["image"]);o!=null&&c(n,["_self"],en(o));const s=u(l,["maskMode"]);return s!=null&&c(n,["maskMode"],s),n}function zE(l){const n={},o=u(l,["image"]);o!=null&&c(n,["image"],ka(o));const s=u(l,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function PE(l){const n={},o=u(l,["image"]);o!=null&&c(n,["image"],en(o));const s=u(l,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function zh(l){const n={},o=u(l,["uri"]);o!=null&&c(n,["uri"],o);const s=u(l,["videoBytes"]);s!=null&&c(n,["encodedVideo"],ll(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["encoding"],r),n}function Ph(l){const n={},o=u(l,["uri"]);o!=null&&c(n,["gcsUri"],o);const s=u(l,["videoBytes"]);s!=null&&c(n,["bytesBase64Encoded"],ll(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}const BE="Content-Type",kE="X-Server-Timeout",FE="User-Agent",gr="x-goog-api-client",OE="1.29.0",YE=`google-genai-sdk/${OE}`,JE="v1beta1",XE="v1beta",$m=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class KE{constructor(n){var o,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:JE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:XE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[m,g]of Object.entries(n.queryParams))r.searchParams.append(m,String(g));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),n.abortSignal),this.unaryApiCall(r,d,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[r,d]of Object.entries(o))typeof d=="object"?s[r]=Object.assign(Object.assign({},s[r]),d):d!==void 0&&(s[r]=d);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),n.abortSignal),this.streamApiCall(r,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s,r){if(o&&o.timeout||r){const d=new AbortController,m=d.signal;if(o.timeout&&o?.timeout>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),n.signal=m}return o&&o.extraBody!==null&&QE(n,o.extraBody),n.headers=await this.getHeadersInternal(o,s),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await jm(r),new fr(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await jm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){var o;return pi(this,arguments,function*(){const r=(o=n?.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Fe(r.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const _=JSON.parse(JSON.stringify(S.error)),R=_.status,z=_.code,k=`got status: ${R}. ${JSON.stringify(S)}`;if(z>=400&&z<600)throw new za({message:k,status:z})}}catch(S){if(S.name==="ApiError")throw S}m+=h;let v=m.match($m);for(;v;){const S=v[1];try{const _=new Response(S,{headers:n?.headers,status:n?.status,statusText:n?.statusText});yield yield Fe(new fr(_)),m=m.slice(v[0].length),v=m.match($m)}catch(_){throw new Error(`exception parsing stream chunk ${S}. ${_}`)}}}}finally{r.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=YE+" "+this.clientOptions.userAgentExtra;return n[FE]=o,n[gr]=o,n[BE]="application/json",n}async getHeadersInternal(n,o){const s=new Headers;if(n&&n.headers){for(const[r,d]of Object.entries(n.headers))s.append(r,d);n.timeout&&n.timeout>0&&s.append(kE,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(n){var o;let s="";return typeof n=="string"&&(s=n.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(n,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,m=await d.stat(n);r.sizeBytes=String(m.size);const g=(s=o?.mimeType)!==null&&s!==void 0?s:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(n),v=ne("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o?.httpOptions);return d.upload(n,S,this)}async uploadFileToFileSearchStore(n,o,s){var r;const d=this.clientOptions.uploader,m=await d.stat(o),g=String(m.size),y=(r=s?.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(o),S={};s?.customMetadata&&(S.customMetadata=s.customMetadata),s?.chunkingConfig&&(S.chunkingConfig=s.chunkingConfig);const _=await this.fetchUploadUrl(h,g,y,v,S,s?.httpOptions);return d.uploadToFileSearchStore(o,_,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,s,r,d,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:n,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h?.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function jm(l){var n;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let s;!((n=l.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await l.json():s={error:{message:await l.text(),code:l.status,status:l.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new za({message:r,status:o}):new Error(r)}}function QE(l,n){if(!n||Object.keys(n).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const d=JSON.parse(l.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=s(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=s(o,n);l.body=JSON.stringify(r)}const ZE="mcp_used/unknown";let WE=!1;function Bh(l){for(const n of l)if($E(n)||typeof n=="object"&&"inputSchema"in n)return!0;return WE}function kh(l){var n;const o=(n=l[gr])!==null&&n!==void 0?n:"";l[gr]=(o+` ${ZE}`).trimStart()}function $E(l){return l!==null&&typeof l=="object"&&l instanceof Mr}function jE(l,n=100){return pi(this,arguments,function*(){let s,r=0;for(;r<n;){const d=yield Fe(l.listTools({cursor:s}));for(const m of d.tools)yield yield Fe(m),r++;if(!d.nextCursor)break;s=d.nextCursor}})}class Mr{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new Mr(n,o)}async initialize(){var n,o,s,r;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,ho(jE(v))),h;h=await y.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const S=r;m.push(S);const _=S.name;if(d[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);d[_]=v}}catch(S){o={error:S}}finally{try{!g&&!n&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),iv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await r.callTool({name:s.name,arguments:s.args},void 0,d);o.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return o}}async function e_(l,n,o){const s=new Z0;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),n(s)}class t_{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=i_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(F=>{h=F}),S=n.callbacks,_=function(){h({})},R=this.apiClient,z={onopen:_,onmessage:F=>{e_(R,S.onmessage,F)},onerror:(o=S?.onerror)!==null&&o!==void 0?o:function(F){},onclose:(s=S?.onclose)!==null&&s!==void 0?s:function(F){}},k=this.webSocketFactory.create(y,l_(m),z);k.connect(),await v;const O={setup:{model:De(this.apiClient,n.model)}};return k.send(JSON.stringify(O)),new n_(k,this.apiClient)}}class n_{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=XT(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=JT(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(fi.PLAY)}pause(){this.sendPlaybackControl(fi.PAUSE)}stop(){this.sendPlaybackControl(fi.STOP)}resetContext(){this.sendPlaybackControl(fi.RESET_CONTEXT)}close(){this.conn.close()}}function l_(l){const n={};return l.forEach((o,s)=>{n[s]=o}),n}function i_(l){const n=new Headers;for(const[o,s]of Object.entries(l))n.append(o,s);return n}const o_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function a_(l,n,o){const s=new Q0;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(l.isVertexAI()){const m=ZT(d);Object.assign(s,m)}else Object.assign(s,d);n(s)}class s_{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new t_(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,r,d,m,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&Bh(n.config.tools)&&kh(S);const _=f_(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const K=this.apiClient.getApiKey();let le="BidiGenerateContent",oe="key";K?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",oe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${le}?${oe}=${K}`}let R=()=>{};const z=new Promise(K=>{R=K}),k=n.callbacks,Y=function(){var K;(K=k?.onopen)===null||K===void 0||K.call(k),R({})},G=this.apiClient,O={onopen:Y,onmessage:K=>{a_(G,k.onmessage,K)},onerror:(o=k?.onerror)!==null&&o!==void 0?o:function(K){},onclose:(s=k?.onclose)!==null&&s!==void 0?s:function(K){}},F=this.webSocketFactory.create(v,c_(_),O);F.connect(),await z;let j=De(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const K=this.apiClient.getProject(),le=this.apiClient.getLocation();j=`projects/${K}/locations/${le}/`+j}let J={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[qa.AUDIO]}:n.config.responseModalities=[qa.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Q=[];for(const K of te)if(this.isCallableTool(K)){const le=K;Q.push(await le.tool())}else Q.push(K);Q.length>0&&(n.config.tools=Q);const X={model:j,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?J=YT(this.apiClient,X):J=OT(this.apiClient,X),delete J.config,F.send(JSON.stringify(J)),new r_(F,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const u_={turnComplete:!0};class r_{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Jt(o.turns),n.isVertexAI()||(s=s.map(r=>Pa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(o_)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},u_),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:QT(n)}:o={realtimeInput:KT(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function c_(l){const n={};return l.forEach((o,s)=>{n[s]=o}),n}function f_(l){const n=new Headers;for(const[o,s]of Object.entries(l))n.append(o,s);return n}const eh=10;function th(l){var n,o,s;if(!((n=l?.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const m of(o=l?.tools)!==null&&o!==void 0?o:[])if(mi(m)){r=!0;break}if(!r)return!0;const d=(s=l?.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function mi(l){return"callTool"in l&&typeof l.callTool=="function"}function d_(l){var n,o,s;return(s=(o=(n=l.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>mi(r)))!==null&&s!==void 0?s:!1}function nh(l){var n;const o=[];return!((n=l?.config)===null||n===void 0)&&n.tools&&l.config.tools.forEach((s,r)=>{if(mi(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function lh(l){var n;return!(!((n=l?.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}class p_ extends Mn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,r,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!d_(o)||th(o.config))return await this.generateContentInternal(y);const h=nh(o);if(h.length>0){const k=h.map(Y=>`tools[${Y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,S;const _=Jt(y.contents),R=(d=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:eh;let z=0;for(;z<R&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,Y=[];for(const G of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(mi(G)){const F=await G.callTool(v.functionCalls);Y.push(...F)}z++,S={role:"user",parts:Y},y.contents=Jt(y.contents),y.contents.push(k),y.contents.push(S),lh(y.config)&&(_.push(k),_.push(S))}return lh(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),th(o.config)){const r=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(r)}const s=nh(o);if(s.length>0){const r=s.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let d;const m=[];if(s?.generatedImages)for(const y of s.generatedImages)y&&y?.safetyAttributes&&((r=y?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y?.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new xl(xn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,d,m,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,r;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const m=await Promise.all(d.map(async y=>mi(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(g.config.tools=m,n.config&&n.config.tools&&Bh(n.config.tools)){const y=(r=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),kh(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,s,r;const d=new Map;for(const m of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(mi(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(n){var o,s,r;const d=(r=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:eh;let m=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,v,S){var _,R;return pi(this,arguments,function*(){for(var z,k,Y,G;g<d;){m&&(g++,m=!1);const J=yield Fe(h.processParamsMaybeAddMcpUsage(S)),te=yield Fe(h.generateContentStreamInternal(J)),Q=[],X=[];try{for(var O=!0,F=(k=void 0,ho(te)),j;j=yield Fe(F.next()),z=j.done,!z;O=!0){G=j.value,O=!1;const K=G;if(yield yield Fe(K),K.candidates&&(!((_=K.candidates[0])===null||_===void 0)&&_.content)){X.push(K.candidates[0].content);for(const le of(R=K.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<d&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(le.functionCall.name)){const oe=yield Fe(v.get(le.functionCall.name).callTool([le.functionCall]));Q.push(...oe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(K){k={error:K}}finally{try{!O&&!z&&(Y=F.return)&&(yield Fe(Y.call(F)))}finally{if(k)throw k.error}}if(Q.length>0){m=!0;const K=new mo;K.candidates=[{content:{role:"user",parts:Q}}],yield yield Fe(K);const le=[];le.push(...X),le.push({role:"user",parts:Q});const oe=Jt(S.contents).concat(le);S.contents=oe}else break}})})(this,y,n)}async generateContentInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Qm(this.apiClient,n);return g=ne("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=Wm(v),_=new mo;return Object.assign(_,S),_})}else{const h=Km(this.apiClient,n);return g=ne("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=Zm(v),_=new mo;return Object.assign(_,S),_})}}async generateContentStreamInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Qm(this.apiClient,n);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(S){return pi(this,arguments,function*(){var _,R,z,k;try{for(var Y=!0,G=ho(S),O;O=yield Fe(G.next()),_=O.done,!_;Y=!0){k=O.value,Y=!1;const F=k,j=Wm(yield Fe(F.json()));j.sdkHttpResponse={headers:F.headers};const J=new mo;Object.assign(J,j),yield yield Fe(J)}}catch(F){R={error:F}}finally{try{!Y&&!_&&(z=G.return)&&(yield Fe(z.call(G)))}finally{if(R)throw R.error}}})})}else{const h=Km(this.apiClient,n);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(S){return pi(this,arguments,function*(){var _,R,z,k;try{for(var Y=!0,G=ho(S),O;O=yield Fe(G.next()),_=O.done,!_;Y=!0){k=O.value,Y=!1;const F=k,j=Zm(yield Fe(F.json()));j.sdkHttpResponse={headers:F.headers};const J=new mo;Object.assign(J,j),yield yield Fe(J)}}catch(F){R={error:F}}finally{try{!Y&&!_&&(z=G.return)&&(yield Fe(z.call(G)))}finally{if(R)throw R.error}}})})}}async embedContent(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=MS(this.apiClient,n);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=NS(v),_=new bm;return Object.assign(_,S),_})}else{const h=xS(this.apiClient,n);return g=ne("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=RS(v),_=new bm;return Object.assign(_,S),_})}}async generateImagesInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=HS(this.apiClient,n);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=zS(v),_=new Um;return Object.assign(_,S),_})}else{const h=GS(this.apiClient,n);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=VS(v),_=new Um;return Object.assign(_,S),_})}}async editImageInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=ES(this.apiClient,n);return d=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=_S(y),v=new V0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,n);return d=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=qE(y),v=new z0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=gE(this.apiClient,n);return d=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=yE(y),v=new P0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=CE(this.apiClient,n);return d=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=AE(y),v=new B0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nE(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>hr(v))}else{const h=tE(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>mr(v))}}async listInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=rE(this.apiClient,n);return g=ne("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=fE(v),_=new Lm;return Object.assign(_,S),_})}else{const h=uE(this.apiClient,n);return g=ne("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=cE(v),_=new Lm;return Object.assign(_,S),_})}}async update(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bE(this.apiClient,n);return g=ne("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>hr(v))}else{const h=wE(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>mr(v))}}async delete(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=yS(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=TS(v),_=new qm;return Object.assign(_,S),_})}else{const h=gS(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=vS(v),_=new qm;return Object.assign(_,S),_})}}async countTokens(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pS(this.apiClient,n);return g=ne("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=hS(v),_=new Gm;return Object.assign(_,S),_})}else{const h=dS(this.apiClient,n);return g=ne("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=mS(v),_=new Gm;return Object.assign(_,S),_})}}async computeTokens(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=oS(this.apiClient,n);return d=ne("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=aS(y),v=new k0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=YS(this.apiClient,n);return g=ne("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>{const S=FS(v),_=new Ga;return Object.assign(_,S),_})}else{const h=OS(this.apiClient,n);return g=ne("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const S=kS(v),_=new Ga;return Object.assign(_,S),_})}}}class m_ extends Mn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=b0(n);return g=ne("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m}else{const h=w0(n);return g=ne("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=A0(n);return d=ne("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function h_(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function g_(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>A_(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function y_(l,n,o){const s={},r=u(n,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const m=u(n,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const g=u(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],C_(l,g));const y=u(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function v_(l,n){const o={},s=u(n,["config"]);return s!=null&&c(o,["config"],y_(l,s,o)),o}function T_(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function S_(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function E_(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function __(l,n){const o={},s=u(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(l,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=u(l,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(l,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(l,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=u(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],xr(S));const _=u(l,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const R=u(l,["enableAffectiveDialog"]);n!==void 0&&R!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],R);const z=u(l,["systemInstruction"]);n!==void 0&&z!=null&&c(n,["setup","systemInstruction"],g_(yt(z)));const k=u(l,["tools"]);if(n!==void 0&&k!=null){let te=gi(k);Array.isArray(te)&&(te=te.map(Q=>M_(hi(Q)))),c(n,["setup","tools"],te)}const Y=u(l,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],x_(Y));const G=u(l,["inputAudioTranscription"]);n!==void 0&&G!=null&&c(n,["setup","inputAudioTranscription"],G);const O=u(l,["outputAudioTranscription"]);n!==void 0&&O!=null&&c(n,["setup","outputAudioTranscription"],O);const F=u(l,["realtimeInputConfig"]);n!==void 0&&F!=null&&c(n,["setup","realtimeInputConfig"],F);const j=u(l,["contextWindowCompression"]);n!==void 0&&j!=null&&c(n,["setup","contextWindowCompression"],j);const J=u(l,["proactivity"]);return n!==void 0&&J!=null&&c(n,["setup","proactivity"],J),o}function C_(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],De(l,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],__(r,o)),o}function A_(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],T_(d));const m=u(l,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],h_(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const v=u(l,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function x_(l){const n={},o=u(l,["handle"]);if(o!=null&&c(n,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function M_(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["computerUse"]);r!=null&&c(n,["computerUse"],r);const d=u(l,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=u(l,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(n,["googleMaps"],S_(g));const y=u(l,["googleSearch"]);y!=null&&c(n,["googleSearch"],E_(y));const h=u(l,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function R_(l){const n=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const s=l[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(d=>`${o}.${d}`);n.push(...r)}else n.push(o)}return n.join(",")}function N_(l,n){let o=null;const s=l.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(l.bidiGenerateContentSetup=d,o=d):delete l.bidiGenerateContentSetup}else s!==void 0&&delete l.bidiGenerateContentSetup;const r=l.fieldMask;if(o){const d=R_(o);if(Array.isArray(n?.lockAdditionalFields)&&n?.lockAdditionalFields.length===0)d?l.fieldMask=d:delete l.fieldMask;else if(n?.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?l.fieldMask=y.join(","):delete l.fieldMask}else delete l.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?l.fieldMask=r.join(","):delete l.fieldMask;return l}class D_ extends Mn{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=v_(this.apiClient,n);d=ne("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=N_(g,n.config);return r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}function I_(l,n){const o={},s=u(l,["displayName"]);return n!==void 0&&s!=null&&c(n,["displayName"],s),o}function w_(l){const n={},o=u(l,["config"]);return o!=null&&I_(o,n),n}function b_(l,n){const o={},s=u(l,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function U_(l){const n={},o=u(l,["name"]);o!=null&&c(n,["_url","name"],o);const s=u(l,["config"]);return s!=null&&b_(s,n),n}function L_(l){const n={},o=u(l,["name"]);return o!=null&&c(n,["_url","name"],o),n}function q_(l,n){const o={},s=u(l,["customMetadata"]);if(n!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["customMetadata"],d)}const r=u(l,["chunkingConfig"]);return n!==void 0&&r!=null&&c(n,["chunkingConfig"],r),o}function G_(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const m=u(l,["response"]);return m!=null&&c(n,["response"],V_(m)),n}function H_(l){const n={},o=u(l,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=u(l,["fileName"]);s!=null&&c(n,["fileName"],s);const r=u(l,["config"]);return r!=null&&q_(r,n),n}function V_(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["parent"]);s!=null&&c(n,["parent"],s);const r=u(l,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function z_(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function P_(l){const n={},o=u(l,["config"]);return o!=null&&z_(o,n),n}function B_(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["fileSearchStores"],d)}return n}function k_(l,n){const o={},s=u(l,["mimeType"]);n!==void 0&&s!=null&&c(n,["mimeType"],s);const r=u(l,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const d=u(l,["customMetadata"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(n,["customMetadata"],g)}const m=u(l,["chunkingConfig"]);return n!==void 0&&m!=null&&c(n,["chunkingConfig"],m),o}function F_(l){const n={},o=u(l,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=u(l,["config"]);return s!=null&&k_(s,n),n}function O_(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Y_(l,n){const o={},s=u(l,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function J_(l){const n={},o=u(l,["name"]);o!=null&&c(n,["_url","name"],o);const s=u(l,["config"]);return s!=null&&Y_(s,n),n}function X_(l){const n={},o=u(l,["name"]);return o!=null&&c(n,["_url","name"],o),n}function K_(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function Q_(l){const n={},o=u(l,["parent"]);o!=null&&c(n,["_url","parent"],o);const s=u(l,["config"]);return s!=null&&K_(s,n),n}function Z_(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["documents"],d)}return n}class W_ extends Mn{constructor(n){super(),this.apiClient=n,this.list=async o=>new xl(xn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=X_(n);return d=ne("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=J_(n);r=ne("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Q_(n);return d=ne("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Z_(y),v=new F0;return Object.assign(v,h),v})}}}class $_ extends Mn{constructor(n,o=new W_(n)){super(),this.apiClient=n,this.documents=o,this.list=async(s={})=>new xl(xn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=w_(n);return d=ne("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=L_(n);return d=ne("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=U_(n);r=ne("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=P_(n);return d=ne("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=B_(y),v=new O0;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=F_(n);return d=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=O_(y),v=new Y0;return Object.assign(v,h),v})}}async importFile(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=H_(n);return d=ne("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=G_(y),v=new Sr;return Object.assign(v,h),v})}}}function j_(l,n){const o={},s=u(l,["name"]);return s!=null&&c(o,["_url","name"],s),o}function eC(l,n){const o={},s=u(l,["name"]);return s!=null&&c(o,["_url","name"],s),o}function tC(l,n,o){const s={};if(u(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(l,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&c(n,["displayName"],r),u(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(l,["epochCount"]);n!==void 0&&d!=null&&c(n,["tuningTask","hyperparameters","epochCount"],d);const m=u(l,["learningRateMultiplier"]);if(m!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(l,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(l,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(l,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function nC(l,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const R=u(l,["validationDataset"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec"],ih(R))}else if(r==="PREFERENCE_TUNING"){const R=u(l,["validationDataset"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec"],ih(R))}const d=u(l,["tunedModelDisplayName"]);n!==void 0&&d!=null&&c(n,["tunedModelDisplayName"],d);const m=u(l,["description"]);n!==void 0&&m!=null&&c(n,["description"],m);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const R=u(l,["epochCount"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],R)}else if(g==="PREFERENCE_TUNING"){const R=u(l,["epochCount"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],R)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const R=u(l,["learningRateMultiplier"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],R)}else if(y==="PREFERENCE_TUNING"){const R=u(l,["learningRateMultiplier"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],R)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const R=u(l,["exportLastCheckpointOnly"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],R)}else if(h==="PREFERENCE_TUNING"){const R=u(l,["exportLastCheckpointOnly"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],R)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const R=u(l,["adapterSize"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],R)}else if(v==="PREFERENCE_TUNING"){const R=u(l,["adapterSize"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],R)}if(u(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(l,["labels"]);n!==void 0&&S!=null&&c(n,["labels"],S);const _=u(l,["beta"]);return n!==void 0&&_!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],_),s}function lC(l,n){const o={},s=u(l,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(l,["trainingDataset"]);d!=null&&mC(d);const m=u(l,["config"]);return m!=null&&tC(m,o),o}function iC(l,n){const o={},s=u(l,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(l,["trainingDataset"]);d!=null&&hC(d,o,n);const m=u(l,["config"]);return m!=null&&nC(m,o,n),o}function oC(l,n){const o={},s=u(l,["name"]);return s!=null&&c(o,["_url","name"],s),o}function aC(l,n){const o={},s=u(l,["name"]);return s!=null&&c(o,["_url","name"],s),o}function sC(l,n,o){const s={},r=u(l,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const d=u(l,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const m=u(l,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),s}function uC(l,n,o){const s={},r=u(l,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const d=u(l,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const m=u(l,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),s}function rC(l,n){const o={},s=u(l,["config"]);return s!=null&&sC(s,o),o}function cC(l,n){const o={},s=u(l,["config"]);return s!=null&&uC(s,o),o}function fC(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(l,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Fh(g))),c(o,["tuningJobs"],m)}return o}function dC(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(l,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>yr(g))),c(o,["tuningJobs"],m)}return o}function pC(l,n){const o={},s=u(l,["name"]);s!=null&&c(o,["model"],s);const r=u(l,["name"]);return r!=null&&c(o,["endpoint"],r),o}function mC(l,n){const o={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(l,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function hC(l,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(l,["gcsUri"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(l,["gcsUri"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=u(l,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=u(l,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Fh(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["state"]);d!=null&&c(o,["state"],Ah(d));const m=u(l,["createTime"]);m!=null&&c(o,["createTime"],m);const g=u(l,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(l,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(l,["description"]);v!=null&&c(o,["description"],v);const S=u(l,["baseModel"]);S!=null&&c(o,["baseModel"],S);const _=u(l,["_self"]);return _!=null&&c(o,["tunedModel"],pC(_)),o}function yr(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["state"]);d!=null&&c(o,["state"],Ah(d));const m=u(l,["createTime"]);m!=null&&c(o,["createTime"],m);const g=u(l,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(l,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(l,["error"]);v!=null&&c(o,["error"],v);const S=u(l,["description"]);S!=null&&c(o,["description"],S);const _=u(l,["baseModel"]);_!=null&&c(o,["baseModel"],_);const R=u(l,["tunedModel"]);R!=null&&c(o,["tunedModel"],R);const z=u(l,["preTunedModel"]);z!=null&&c(o,["preTunedModel"],z);const k=u(l,["supervisedTuningSpec"]);k!=null&&c(o,["supervisedTuningSpec"],k);const Y=u(l,["preferenceOptimizationSpec"]);Y!=null&&c(o,["preferenceOptimizationSpec"],Y);const G=u(l,["tuningDataStats"]);G!=null&&c(o,["tuningDataStats"],G);const O=u(l,["encryptionSpec"]);O!=null&&c(o,["encryptionSpec"],O);const F=u(l,["partnerModelTuningSpec"]);F!=null&&c(o,["partnerModelTuningSpec"],F);const j=u(l,["customBaseModel"]);j!=null&&c(o,["customBaseModel"],j);const J=u(l,["experiment"]);J!=null&&c(o,["experiment"],J);const te=u(l,["labels"]);te!=null&&c(o,["labels"],te);const Q=u(l,["outputUri"]);Q!=null&&c(o,["outputUri"],Q);const X=u(l,["pipelineJob"]);X!=null&&c(o,["pipelineJob"],X);const K=u(l,["serviceAccount"]);K!=null&&c(o,["serviceAccount"],K);const le=u(l,["tunedModelDisplayName"]);le!=null&&c(o,["tunedModelDisplayName"],le);const oe=u(l,["veoTuningSpec"]);return oe!=null&&c(o,["veoTuningSpec"],oe),o}function gC(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["metadata"]);d!=null&&c(o,["metadata"],d);const m=u(l,["done"]);m!=null&&c(o,["done"],m);const g=u(l,["error"]);return g!=null&&c(o,["error"],g),o}function ih(l,n){const o={},s=u(l,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(l,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}class yC extends Mn{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new xl(xn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:cr.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=aC(n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>yr(v))}else{const h=oC(n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>Fh(v))}}async listInternal(n){var o,s,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=cC(n);return g=ne("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=dC(v),_=new Hm;return Object.assign(_,S),_})}else{const h=rC(n);return g=ne("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const S=fC(v),_=new Hm;return Object.assign(_,S),_})}}async cancel(n){var o,s,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=eC(n);m=ne("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=j_(n);m=ne("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=iC(n,n);return d=ne("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>yr(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lC(n);return d=ne("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>gC(y))}}}class vC{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const TC=1024*1024*8,SC=3,EC=1e3,_C=2,Va="x-goog-upload-status";async function CC(l,n,o){var s;const r=await Oh(l,n,o),d=await r?.json();if(((s=r?.headers)===null||s===void 0?void 0:s[Va])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function AC(l,n,o){var s;const r=await Oh(l,n,o),d=await r?.json();if(((s=r?.headers)===null||s===void 0?void 0:s[Va])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=vh(d),g=new Er;return Object.assign(g,m),g}async function Oh(l,n,o){var s,r;let d=0,m=0,g=new fr(new Response),y="upload";for(d=l.size;m<d;){const h=Math.min(TC,d-m),v=l.slice(m,m+h);m+h>=d&&(y+=", finalize");let S=0,_=EC;for(;S<SC&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((s=g?.headers)===null||s===void 0)&&s[Va]));)S++,await MC(_),_=_*_C;if(m+=h,((r=g?.headers)===null||r===void 0?void 0:r[Va])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function xC(l){return{size:l.size,type:l.type}}function MC(l){return new Promise(n=>setTimeout(n,l))}class RC{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await CC(n,o,s)}async uploadToFileSearchStore(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await AC(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await xC(n)}}class NC{create(n,o,s){return new DC(n,o,s)}}class DC{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const oh="x-goog-api-key";class IC{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(oh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(oh,this.apiKey)}}}const wC="gl-node/";class bC{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=_0(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const r=new IC(this.apiKey);this.apiClient=new KE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:wC+"web",uploader:new RC,downloader:new vC}),this.models=new p_(this.apiClient),this.live=new s_(this.apiClient,r,new NC),this.batches=new Xv(this.apiClient),this.chats=new xT(this.models,this.apiClient),this.caches=new _T(this.apiClient),this.files=new qT(this.apiClient),this.operations=new m_(this.apiClient),this.authTokens=new D_(this.apiClient),this.tunings=new yC(this.apiClient),this.fileSearchStores=new $_(this.apiClient)}}var ah={};let ur=null;const UC=()=>{if(!ur){if(!ah.API_KEY)throw new Error("API_KEY environment variable not set");ur=new bC({apiKey:ah.API_KEY})}return ur},LC={type:Qe.ARRAY,items:{type:Qe.OBJECT,properties:{box:{type:Qe.OBJECT,description:"Bounding box of the face, normalized from 0 to 1.",properties:{x:{type:Qe.NUMBER,description:"Top-left corner x-coordinate."},y:{type:Qe.NUMBER,description:"Top-left corner y-coordinate."},width:{type:Qe.NUMBER},height:{type:Qe.NUMBER}},required:["x","y","width","height"]},landmarks:{type:Qe.OBJECT,description:"Key facial landmarks, normalized from 0 to 1.",properties:{left_pupil:{type:Qe.OBJECT,properties:{x:{type:Qe.NUMBER},y:{type:Qe.NUMBER}},required:["x","y"]},right_pupil:{type:Qe.OBJECT,properties:{x:{type:Qe.NUMBER},y:{type:Qe.NUMBER}},required:["x","y"]}},required:["left_pupil","right_pupil"]}},required:["box","landmarks"]}},qC=async l=>{try{const s=(await UC().models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:l}},{text:"Analyze this image to find all human faces. For each face, provide a bounding box and precise landmarks for the center of the left_pupil and right_pupil. The landmarks are critical for alignment and must be as accurate as possible. The landmarks must be from the subject's perspective (e.g., 'left_pupil' is the person's own left pupil). Return the data as a JSON array of objects. Each object must have a 'box' property (with normalized x, y, width, height) and a 'landmarks' property (with 'left_pupil' and 'right_pupil', each with normalized x, y). All coordinates must be normalized from 0.0 to 1.0. If no faces are found, you must return an empty array."}]},config:{responseMimeType:"application/json",responseSchema:LC}})).text.trim(),r=JSON.parse(s);return Array.isArray(r)?r.map((d,m)=>({...d,id:`face-${Date.now()}-${m}`})):[]}catch(n){throw console.error("Error analyzing image with Gemini:",n),new Error("Failed to detect faces in the image.")}},GC="FaceMovieCreatorDB",HC=1,nl="projectState",Rr="currentProject",Nr=()=>new Promise((l,n)=>{const o=indexedDB.open(GC,HC);o.onerror=()=>n(o.error),o.onsuccess=()=>l(o.result),o.onupgradeneeded=s=>{const r=s.target.result;r.objectStoreNames.contains(nl)||r.createObjectStore(nl)}}),sh=async l=>{const n=await Nr();return new Promise((o,s)=>{const m=n.transaction([nl],"readwrite").objectStore(nl).put(l,Rr);m.onsuccess=()=>o(),m.onerror=()=>s(m.error)})},uh=async()=>{const l=await Nr();return new Promise((n,o)=>{const d=l.transaction([nl],"readonly").objectStore(nl).get(Rr);d.onsuccess=()=>n(d.result),d.onerror=()=>o(d.error)})},VC=async()=>{const l=await Nr();return new Promise((n,o)=>{const d=l.transaction([nl],"readwrite").objectStore(nl).delete(Rr);d.onsuccess=()=>n(),d.onerror=()=>o(d.error)})},Yh=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l-3.75 3.75M12 9.75l3.75 3.75M3 17.25V21h18v-3.75m-18 0V12a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 12v5.25"})}),zC=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),rh=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),PC=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Dr=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),BC=l=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008zM12 15a.75.75 0 01-.75-.75V12a.75.75 0 011.5 0v2.25A.75.75 0 0112 15z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H4.5a.75.75 0 01-.75-.75zM16.5 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H17.25a.75.75 0 01-.75-.75z"})]}),kC=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9h16.5m-16.5 6.75h16.5"})}),ch=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),fh=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...l,children:C.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.648c1.295.742 1.295 2.545 0 3.286L7.279 20.99c-1.25.718-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"})}),FC=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...l,children:C.jsx("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V5.25zm7.5 0a.75.75 0 01.75-.75h1.5a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75h-1.5a.75.75 0 01-.75-.75V5.25z",clipRule:"evenodd"})}),Jh=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),OC=l=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.991 3.844l.018-.018a2.25 2.25 0 003.183 0l3.422-3.422a2.25 2.25 0 000-3.183l-3.422-3.422a2.25 2.25 0 00-3.183 0l-3.422 3.422a2.25 2.25 0 000 3.183l3.422 3.422z"})]}),YC=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),JC=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),dh=l=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),XC=l=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...l,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),KC=({onImagesUploaded:l,isProcessing:n,onSaveProject:o,onLoadProject:s,onNewProject:r,hasImages:d})=>{const[m,g]=ee.useState(!1),[y,h]=ee.useState(null),[v,S]=ee.useState("Reading Files..."),_=ee.useRef(null),R=J=>new Promise((te,Q)=>{const X=new FileReader;X.onload=()=>{typeof X.result=="string"?te(X.result.split(",")[1]):Q(new Error("Failed to read file as base64"))},X.onerror=K=>Q(K),X.readAsDataURL(J)}),z=ee.useCallback(async J=>{if(!J||J.length===0)return;const te=Array.from(J);h(0),S("Reading Files...");const Q=[];for(let X=0;X<te.length;X++){let K=te[X];if(K.type==="image/heic"||K.type==="image/heif"||/\.heic$/i.test(K.name)||/\.heif$/i.test(K.name))try{S(`Converting ${K.name}...`);const oe=await heic2any({blob:K,toType:"image/jpeg",quality:.92}),se=Array.isArray(oe)?oe[0]:oe;K=new File([se],K.name.replace(/\.(heic|heif)$/i,".jpg"),{type:"image/jpeg"})}catch(oe){console.error(`Failed to convert HEIC file ${K.name}:`,oe),alert(`Could not convert HEIC file: ${K.name}. It might be a format that is not supported (e.g. HEVC-encoded video).`),h(Math.round((X+1)/te.length*100));continue}if(!K.type.startsWith("image/")){console.warn(`Skipping non-image file: ${K.name}`),h(Math.round((X+1)/te.length*100));continue}S(`Processing ${K.name}...`);try{const oe=await R(K);Q.push({id:`image-${Date.now()}-${X}`,file:K,previewUrl:URL.createObjectURL(K),base64:oe,mimeType:K.type})}catch(oe){console.error(`Failed to process file ${K.name}:`,oe)}h(Math.round((X+1)/te.length*100))}Q.length>0&&l(Q),setTimeout(()=>{h(null)},1e3)},[l]),k=J=>{J.preventDefault(),J.stopPropagation(),g(!0)},Y=J=>{J.preventDefault(),J.stopPropagation(),g(!1)},G=J=>{J.preventDefault(),J.stopPropagation()},O=J=>{J.preventDefault(),J.stopPropagation(),g(!1),z(J.dataTransfer.files)},F=()=>{_.current?.click()},j=J=>{const te=J.target.files?.[0];te&&s(te),J.target.value=""};return C.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[C.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"1. Add Photos & Manage Project"}),C.jsx("div",{children:y!==null?C.jsxs("div",{className:"text-center px-6 py-8",children:[C.jsx("p",{className:"text-lg font-semibold text-gray-300 truncate px-4",children:v}),C.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 my-3",children:C.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full transition-all duration-200",style:{width:`${y}%`}})}),C.jsxs("p",{className:"text-sm font-mono text-gray-400",children:[y,"%"]})]}):C.jsx("label",{onDragEnter:k,onDragLeave:Y,onDragOver:G,onDrop:O,className:`flex justify-center items-center w-full px-6 py-10 border-2 border-dashed rounded-md cursor-pointer transition-colors duration-200
                ${m?"border-purple-400 bg-gray-700":"border-gray-600 hover:border-purple-400"}`,children:C.jsxs("div",{className:"text-center",children:[C.jsx(Yh,{className:"mx-auto h-12 w-12 text-gray-400"}),C.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[C.jsx("span",{className:"font-semibold text-purple-400",children:"Click to upload"})," or drag and drop"]}),C.jsx("p",{className:"text-xs text-gray-500",children:"Add more photos at any time"}),C.jsx("input",{id:"file-upload",name:"file-upload",type:"file",multiple:!0,className:"sr-only",accept:"image/*,.heic,.heif",onChange:J=>z(J.target.files),disabled:n||y!==null})]})})}),C.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 flex flex-col sm:flex-row gap-3",children:[C.jsxs("button",{onClick:r,disabled:n,className:"flex-1 inline-flex items-center justify-center px-4 py-2.5 border border-gray-600 text-sm font-medium rounded-md shadow-sm text-white bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[C.jsx(XC,{className:"w-5 h-5 mr-2"})," New"]}),C.jsxs("button",{onClick:F,disabled:n,className:"flex-1 inline-flex items-center justify-center px-4 py-2.5 border border-gray-600 text-sm font-medium rounded-md shadow-sm text-white bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[C.jsx(OC,{className:"w-5 h-5 mr-2"})," Load"]}),C.jsx("input",{type:"file",accept:".FaceMovie",ref:_,onChange:j,className:"hidden"}),C.jsxs("button",{onClick:o,disabled:!d||n,className:"flex-1 inline-flex items-center justify-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-800 disabled:bg-gray-500 disabled:cursor-not-allowed",children:[C.jsx(Jh,{className:"w-5 h-5 mr-2"})," Save"]})]})]})},QC=({images:l,isProcessing:n,onReorder:o,onRemove:s,onSelectFace:r,onOpenAdjuster:d,onOpenTextEditor:m,onTransitionChange:g,processingProgress:y})=>{const h=ee.useRef(null),v=ee.useRef(null),S=(G,O)=>{h.current=O,G.dataTransfer.effectAllowed="move"},_=(G,O)=>{v.current=O},R=()=>{if(h.current!==null&&v.current!==null){const G=[...l],O=G[h.current];G.splice(h.current,1),G.splice(v.current,0,O),h.current=null,v.current=null,o(G)}},z=(G,O)=>{if(O==="left"&&G===0||O==="right"&&G===l.length-1)return;const F=[...l],j=F.splice(G,1)[0],J=O==="left"?G-1:G+1;F.splice(J,0,j),o(F)},k=G=>{switch(G.status){case"ready":return G.faceDetectionFailed&&!G.isManuallyAdjusted?C.jsx("div",{className:"absolute top-1 right-1 bg-orange-500 p-1 rounded-full shadow-lg",title:"Pupils need manual placement",children:C.jsx(dh,{className:"w-4 h-4 text-white"})}):G.isManuallyAdjusted?C.jsx("div",{className:"absolute top-1 right-1 bg-purple-500 p-1 rounded-full shadow-lg",title:"Manually adjusted",children:C.jsx(rh,{className:"w-4 h-4 text-white"})}):C.jsx("div",{className:"absolute top-1 right-1 bg-green-500 p-1 rounded-full shadow-lg",title:"Ready",children:C.jsx(rh,{className:"w-4 h-4 text-white"})});case"needs-selection":return C.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 p-1 rounded-full shadow-lg",children:C.jsx(zC,{className:"w-4 h-4 text-white"})});case"no-face":case"error":return C.jsx("div",{className:"absolute top-1 right-1 bg-red-500 p-1 rounded-full shadow-lg",children:C.jsx(PC,{className:"w-4 h-4 text-white"})});default:return null}},Y=G=>{switch(G.status){case"needs-selection":return"Select face";case"no-face":return"No face found";case"error":return"Error";case"ready":return G.faceDetectionFailed&&!G.isManuallyAdjusted?"Adjust Pupils":G.isManuallyAdjusted?"Adjusted":"Ready";default:return"Processing..."}};return C.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[C.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"2. Your Photos"}),n&&l.length===0&&C.jsx("div",{className:"text-center text-gray-400 py-4",children:y!==null?C.jsxs("div",{children:[C.jsx("p",{className:"text-lg font-semibold text-gray-300",children:"Analyzing faces..."}),C.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 my-3",children:C.jsx("div",{className:"bg-green-500 h-2.5 rounded-full transition-all duration-200",style:{width:`${y}%`}})}),C.jsxs("p",{className:"text-sm font-mono text-gray-400",children:[y,"%"]})]}):"Processing uploaded images..."}),!n&&l.length===0&&C.jsx("div",{className:"text-center text-gray-400 py-4",children:"Upload some photos to begin."}),C.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-3 gap-3",children:l.map((G,O)=>C.jsxs("div",{className:"relative group aspect-square",children:[C.jsx("div",{className:"w-full h-full cursor-grab",draggable:!0,onDragStart:F=>S(F,O),onDragEnter:F=>_(F,O),onDragEnd:R,onDragOver:F=>F.preventDefault(),children:C.jsx("img",{src:G.previewUrl,alt:`upload-preview-${O}`,className:"w-full h-full object-cover rounded-md"})}),C.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-300 rounded-md pointer-events-none ${G.status!=="ready"||G.faceDetectionFailed&&!G.isManuallyAdjusted?"opacity-60":"opacity-0 group-hover:opacity-60"}`}),k(G),G.textOverlay&&C.jsx("div",{className:"absolute top-1 left-8 bg-blue-500/80 p-1 rounded-full shadow-lg pointer-events-none",title:"Has text overlay",children:C.jsx(ch,{className:"w-4 h-4 text-white"})}),C.jsx("button",{onClick:()=>s(G.id),className:"absolute top-1 left-1 bg-gray-900/50 p-1 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500","aria-label":"Remove image",children:C.jsx(Dr,{className:"w-4 h-4"})}),G.status==="ready"&&C.jsxs("div",{className:`absolute inset-0 flex items-center justify-center gap-3 transition-opacity pointer-events-none ${G.faceDetectionFailed&&!G.isManuallyAdjusted?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:[C.jsx("button",{onClick:()=>d(G.id),className:`p-3 rounded-full text-white pointer-events-auto ${G.faceDetectionFailed&&!G.isManuallyAdjusted?"bg-orange-600/90 hover:bg-orange-500 animate-pulse":"bg-purple-600/80 hover:bg-purple-500"}`,"aria-label":"Adjust landmarks",title:"Fine-tune eye positions",children:C.jsx(dh,{className:"w-6 h-6"})}),C.jsx("button",{onClick:()=>m(G),className:"p-3 rounded-full text-white bg-blue-600/80 hover:bg-blue-500 pointer-events-auto","aria-label":"Add or Edit Text",title:"Add or Edit Text",children:C.jsx(ch,{className:"w-6 h-6"})})]}),C.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-1.5 text-center text-white text-xs bg-gray-900/60 rounded-b-md pointer-events-none",children:Y(G)}),G.status==="needs-selection"&&C.jsxs("button",{onClick:()=>r(G),className:"absolute inset-0 flex flex-col items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx(BC,{className:"w-8 h-8"}),C.jsx("span",{className:"text-xs font-bold mt-1",children:"Select Face"})]}),C.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 left-1 right-1 flex justify-between opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx("button",{onClick:()=>z(O,"left"),disabled:O===0,className:"p-1 bg-gray-900/50 rounded-full text-white hover:bg-purple-500 disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move left",children:C.jsx(YC,{className:"w-4 h-4"})}),C.jsx("button",{onClick:()=>z(O,"right"),disabled:O===l.length-1,className:"p-1 bg-gray-900/50 rounded-full text-white hover:bg-purple-500 disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move right",children:C.jsx(JC,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"absolute bottom-1 left-1 text-white opacity-0 group-hover:opacity-100 transition-opacity",title:"Drag to reorder",children:C.jsx(kC,{className:"w-4 h-4"})}),O<l.length-1&&G.status==="ready"&&C.jsx("div",{className:"absolute bottom-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:C.jsxs("select",{value:G.transitionToNext||"crossfade",onChange:F=>g(G.id,F.target.value),onClick:F=>F.stopPropagation(),className:"text-xs bg-gray-900/80 text-white rounded p-0.5 border border-gray-600 focus:ring-purple-500 focus:border-purple-500 cursor-pointer",title:"Transition to next image",children:[C.jsx("option",{value:"crossfade",children:"Fade"}),C.jsx("option",{value:"slide",children:"Slide"}),C.jsx("option",{value:"zoom",children:"Zoom"}),C.jsx("option",{value:"ken-burns",children:"Ken Burns"})]})})]},G.id))})]})},ZC=({image:l,onSelectFace:n,onClose:o})=>{const s=ee.useRef(null),[r,d]=ee.useState(1);return ee.useEffect(()=>{const m=()=>{if(s.current){const{naturalWidth:y,clientWidth:h}=s.current;d(y/h)}},g=s.current;return g&&(g.addEventListener("load",m),window.addEventListener("resize",m),m()),()=>{g&&g.removeEventListener("load",m),window.removeEventListener("resize",m)}},[l.previewUrl]),C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:o,children:C.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-4 sm:p-6 max-w-4xl w-full",onClick:m=>m.stopPropagation(),children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h2",{className:"text-2xl font-bold text-white",children:"Select the main character"}),C.jsx("button",{onClick:o,className:"text-gray-400 hover:text-white",children:""})]}),C.jsx("p",{className:"text-gray-400 mb-6",children:"Click on the face you want to focus on for the movie."}),C.jsxs("div",{className:"relative inline-block",children:[C.jsx("img",{ref:s,src:l.previewUrl,alt:"Select face",className:"max-w-full max-h-[70vh] rounded-md"}),l.faces.map(m=>{const g={position:"absolute",left:`${m.box.x*100}%`,top:`${m.box.y*100}%`,width:`${m.box.width*100}%`,height:`${m.box.height*100}%`,border:"3px solid #f87171",borderRadius:"8px",cursor:"pointer",boxShadow:"0 0 15px rgba(248, 113, 113, 0.7)",transition:"all 0.2s ease-in-out"};return C.jsx("div",{style:g,className:"hover:border-purple-400 hover:scale-105 hover:shadow-purple-400/70",onClick:()=>n(l.id,m.id)},m.id)})]})]})})},ph={"720p":{width:1280,height:720},"1080p":{width:1920,height:1080}},tl=2e3,ba=500,WC=({images:l,faceZoom:n,onZoomChange:o,faceVerticalOffset:s,onVerticalOffsetChange:r,faceAngleOffset:d,onAngleOffsetChange:m})=>{const g=ee.useRef(null),[y,h]=ee.useState(!1),[v,S]=ee.useState(!1),[_,R]=ee.useState(0),[z,k]=ee.useState(null),[Y,G]=ee.useState("webm"),[O,F]=ee.useState("720p"),j=ee.useRef(null),J=ee.useRef(null),te=ee.useRef([]),Q=ee.useRef(new Map),[X,K]=ee.useState(0),le=ee.useRef(0),oe=ee.useRef(0),se=l.length>0?l.length*tl:0,Ae=MediaRecorder.isTypeSupported("video/mp4; codecs=avc1");ee.useEffect(()=>{l.forEach(b=>{if(!Q.current.has(b.id)){const B=new Image;B.src=b.previewUrl,Q.current.set(b.id,B)}}),K(0),oe.current=0,h(!1)},[l]);const xe=ee.useCallback(b=>{const B=g.current;if(!B||l.length<1)return;const D=B.getContext("2d");if(!D)return;const Z=Math.max(0,Math.min(b,se));let W=Math.floor(Z/tl);W=Math.min(W,l.length-1);const ie=Z-W*tl,ue=W+1,pe=ie>tl-ba&&ue<l.length,me=pe?(ie-(tl-ba))/ba:0,Ge=ie/tl,vt=(Ye=>Ye<.5?2*Ye*Ye:-1+(4-2*Ye)*Ye)(me),Xt=(Ye,Je)=>{if(!Ye.textOverlay)return;const lt=Ye.textOverlay,ht=400,Ze=300,Kt=tl-ba;let Nt=1,Tt=1;if(Je<ht)Tt=Je/ht,Nt=Tt;else if(Je>Kt-ht){const be=Kt-Je;Tt=Math.max(0,be/ht),Nt=Tt}if(pe&&(Nt=0),Nt<=0)return;let ot=lt.text;if(lt.animation==="typewriter"){const be=ht,at=Kt-ht-Ze-be;if(Je>be){const vi=(Je-be)/at,In=Math.floor(lt.text.length*Math.min(1,vi));ot=lt.text.substring(0,In)}else Je<=be&&(ot="")}if(!ot)return;D.save(),D.globalAlpha=Nt,D.fillStyle=lt.color,D.font=`${lt.fontSize/100*B.height}px ${lt.fontFamily}`,D.textAlign="center",D.textBaseline="middle",D.shadowColor="rgba(0, 0, 0, 0.7)",D.shadowBlur=10,D.shadowOffsetX=2,D.shadowOffsetY=2;const Nn=lt.position.x*B.width,Dn=lt.position.y*B.height,al=(be=>1-Math.pow(1-be,5))(Tt),Qt=Je<Kt-ht;if(lt.animation==="slide-in"&&Qt){const be=(1-al)*-50;D.fillText(ot,Nn+be,Dn)}else if(lt.animation==="zoom-in"&&Qt){const be=.8+.2*al;D.translate(Nn,Dn),D.scale(be,be),D.fillText(ot,0,0)}else D.fillText(ot,Nn,Dn);D.restore()},rt=(Ye,Je,lt)=>{const ht=Q.current.get(Ye.id);if(!ht||!ht.complete||ht.naturalWidth===0)return;const Ze=Ye.faces.find(Ti=>Ti.id===Ye.selectedFaceId);if(!Ze)return;const Kt=ht.naturalWidth,Nt=ht.naturalHeight,Tt={x:Ze.landmarks.left_pupil.x*Kt,y:Ze.landmarks.left_pupil.y*Nt},ot={x:Ze.landmarks.right_pupil.x*Kt,y:Ze.landmarks.right_pupil.y*Nt},Nn=Math.sqrt(Math.pow(ot.x-Tt.x,2)+Math.pow(ot.y-Tt.y,2)),Dn=B.width*.15*n,al=(Nn>0?Dn/Nn:1)*(lt?.scale??1),Qt=lt?.pan??{x:0,y:0},be={x:(Tt.x+ot.x)/2,y:(Tt.y+ot.y)/2},Zt=Math.atan2(ot.y-Tt.y,ot.x-Tt.x),at={x:B.width/2,y:B.height*.4+s};D.save(),D.globalAlpha=Je,D.translate(at.x,at.y);const vi=l.findIndex(Ti=>Ti.id===Ye.id);D.rotate(Math.sin(vi)*.05),D.rotate(-Zt+d*Math.PI/180),D.scale(al,al),D.translate(-be.x+Qt.x,-be.y+Qt.y);const In=Math.max(Kt,Nt)*.015;D.fillStyle="white",D.shadowColor="rgba(0, 0, 0, 0.3)",D.shadowBlur=20,D.shadowOffsetX=0,D.shadowOffsetY=5,D.fillRect(-In,-In,Kt+2*In,Nt+2*In),D.shadowColor="transparent",D.shadowBlur=0,D.shadowOffsetX=0,D.shadowOffsetY=0,D.drawImage(ht,0,0),D.restore()};D.fillStyle="#111827",D.fillRect(0,0,B.width,B.height);const Ml=pe?Math.max(0,1-me*2):1;if(Ml>0){D.save(),D.globalAlpha=Ml;const Ye=Math.min(W,3);for(let Je=1;Je<=Ye;Je++){const lt=W-Je;l[lt]&&rt(l[lt],.2-Je*.05)}D.restore()}const tn=l[W],il=l[ue],ol=tn.transitionToNext||"crossfade";if(pe)if(il)switch(ol){case"ken-burns":case"crossfade":const Ye=ol==="ken-burns"?{scale:1.1,pan:{x:(W%2===0?1:-1)*20,y:0}}:void 0;rt(tn,1-me,Ye),rt(il,me);break;case"slide":rt(tn,1),D.save(),D.beginPath(),D.rect(0,0,B.width,B.height),D.clip(),D.translate(B.width*(1-vt),0),rt(il,1),D.restore();break;case"zoom":rt(il,1);const Je=1+1*vt;D.save(),D.translate(B.width/2,B.height/2),D.scale(Je,Je),D.translate(-B.width/2,-B.height/2),rt(tn,1-me),D.restore();break}else rt(tn,1);else if(ol==="ken-burns"){const Ye={scale:1+.1*Ge,pan:{x:(W%2===0?1:-1)*20*Ge,y:0}};rt(tn,1,Ye)}else rt(tn,1);Xt(tn,ie)},[l,n,s,d,se]),Ue=ee.useCallback(b=>{le.current||(le.current=b);const B=b-le.current,D=oe.current+B;D>=se?(K(se),h(!1)):(K(D),j.current=requestAnimationFrame(Ue))},[se]);ee.useEffect(()=>(y?j.current=requestAnimationFrame(Ue):j.current&&(cancelAnimationFrame(j.current),j.current=null),()=>{j.current&&cancelAnimationFrame(j.current)}),[y,Ue]),ee.useEffect(()=>{if(l.length>0)xe(X);else{const b=g.current;if(!b)return;const B=b.getContext("2d");if(!B)return;B.clearRect(0,0,b.width,b.height)}},[X,xe,l]);const L=()=>{if(l.length>0){const b=!y;b&&(X>=se&&se>0?(K(0),oe.current=0):oe.current=X,le.current=performance.now()),h(b)}},$=b=>{const B=parseInt(b.target.value,10);y&&h(!1),K(B),oe.current=B},fe=b=>{if(isNaN(b)||b<0)return"0:00";const B=Math.floor(b/1e3),D=B%60;return`${Math.floor(B/60)}:${D.toString().padStart(2,"0")}`},Me=ee.useCallback(b=>new Promise(B=>{const D=g.current;if(!D){B();return}const Z=b==="webm"?"video/webm; codecs=vp9":"video/mp4",W=D.captureStream(30);J.current=new MediaRecorder(W,{mimeType:Z}),te.current=[];let ie=null;J.current.ondataavailable=Ge=>{Ge.data.size>0&&te.current.push(Ge.data)},J.current.onstop=()=>{const Ge=new Blob(te.current,{type:Z});k(URL.createObjectURL(Ge)),S(!1),ie&&cancelAnimationFrame(ie),B()},J.current.start();const ue=performance.now(),pe=l.length*tl,me=Ge=>{const ge=Ge-ue;R(Math.round(ge/pe*100)),ge<pe?(xe(ge),ie=requestAnimationFrame(me)):(xe(pe),J.current?.stop())};ie=requestAnimationFrame(me)}),[l,xe]),Ie=ee.useCallback(()=>new Promise(async b=>{const B=g.current,D=new GIF({workers:2,quality:10,workerScript:"https://cdnjs.cloudflare.com/ajax/libs/gif.js/0.2.0/gif.worker.js"});D.on("finished",ue=>{k(URL.createObjectURL(ue)),S(!1),R(0),b()}),D.on("progress",ue=>{R(50+Math.round(ue*50))});const Z=l.length*2e3,W=100,ie=Z/W;for(let ue=0;ue<ie;ue++){const pe=ue*W;xe(pe),D.addFrame(B,{copy:!0,delay:W}),R(Math.round(ue/ie*50)),ue%10===0&&await new Promise(me=>setTimeout(me,0))}D.render()}),[l,xe]),M=async()=>{v||l.length<2||(S(!0),k(null),R(0),y&&h(!1),K(0),oe.current=0,await new Promise(b=>setTimeout(b,50)),Y==="gif"?await Ie():await Me(Y))};return C.jsxs("div",{className:"bg-gray-800 p-4 sm:p-6 rounded-lg shadow-lg",children:[C.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"3. Preview & Download"}),C.jsxs("div",{className:"aspect-video w-full bg-gray-900 rounded-md overflow-hidden relative",children:[C.jsx("canvas",{ref:g,width:ph[O].width,height:ph[O].height,className:"w-full h-full"}),l.length===0&&!v&&C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-400 p-4",children:[C.jsx(Yh,{className:"w-16 h-16 text-gray-500 mb-4"}),C.jsx("h3",{className:"text-xl font-semibold text-gray-300",children:"Your Movie Preview"}),C.jsx("p",{className:"mt-1",children:"Add photos and select faces to see your movie here."})]}),!y&&l.length>0&&!v&&C.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:C.jsx("button",{onClick:L,className:"text-white bg-purple-600 rounded-full p-4 hover:bg-purple-700 transition",children:C.jsx(fh,{className:"w-10 h-10"})})})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("input",{type:"range",min:"0",max:se,value:X,onChange:$,disabled:v||l.length<1,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:bg-purple-500 [&::-moz-range-thumb]:bg-purple-500 disabled:opacity-50","aria-label":"Movie timeline"}),C.jsxs("div",{className:"flex justify-between text-xs font-mono text-gray-400 mt-1 px-1",children:[C.jsx("span",{children:fe(X)}),C.jsx("span",{children:fe(se)})]})]}),C.jsxs("div",{className:"mt-4 border-t border-gray-700 pt-6 space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("label",{htmlFor:"zoom-slider",className:"text-sm font-medium text-gray-300 w-28 whitespace-nowrap",children:"Face Size"}),C.jsx("input",{id:"zoom-slider",type:"range",min:"0.1",max:"2.5",step:"0.1",value:n,onChange:b=>o(parseFloat(b.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:bg-purple-500 [&::-moz-range-thumb]:bg-purple-500",disabled:v}),C.jsxs("span",{className:"text-sm font-mono text-gray-400 w-12 text-center",children:[n.toFixed(1),"x"]})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("label",{htmlFor:"vertical-offset-slider",className:"text-sm font-medium text-gray-300 w-28 whitespace-nowrap",children:"Vertical Position"}),C.jsx("input",{id:"vertical-offset-slider",type:"range",min:"-100",max:"100",step:"1",value:s,onChange:b=>r(parseInt(b.target.value,10)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:bg-purple-500 [&::-moz-range-thumb]:bg-purple-500",disabled:v}),C.jsxs("span",{className:"text-sm font-mono text-gray-400 w-12 text-center",children:[s,"px"]})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("label",{htmlFor:"rotation-slider",className:"text-sm font-medium text-gray-300 w-28 whitespace-nowrap",children:"Rotation"}),C.jsx("input",{id:"rotation-slider",type:"range",min:"-20",max:"20",step:"1",value:d,onChange:b=>m(parseInt(b.target.value,10)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:bg-purple-500 [&::-moz-range-thumb]:bg-purple-500",disabled:v}),C.jsxs("span",{className:"text-sm font-mono text-gray-400 w-12 text-center",children:[d,""]})]})]}),C.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4 items-center",children:[C.jsxs("button",{onClick:L,disabled:l.length<1||v,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 focus:ring-offset-gray-800 disabled:bg-gray-600 disabled:cursor-not-allowed",children:[y?C.jsx(FC,{className:"w-5 h-5 mr-2"}):C.jsx(fh,{className:"w-5 h-5 mr-2"}),y?"Pause":"Preview"]}),C.jsxs("div",{className:"flex-grow w-full sm:w-auto",children:[C.jsx("label",{htmlFor:"resolution-select",className:"sr-only",children:"Resolution"}),C.jsxs("select",{id:"resolution-select",value:O,onChange:b=>F(b.target.value),disabled:v,className:"w-full bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block p-2.5",children:[C.jsx("option",{value:"720p",children:"HD (1280x720)"}),C.jsx("option",{value:"1080p",children:"Full HD (1920x1080)"})]})]}),C.jsxs("div",{className:"flex-grow w-full sm:w-auto",children:[C.jsx("label",{htmlFor:"format-select",className:"sr-only",children:"Export Format"}),C.jsxs("select",{id:"format-select",value:Y,onChange:b=>G(b.target.value),disabled:v,className:"w-full bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block p-2.5",children:[C.jsx("option",{value:"webm",children:"WebM Video"}),C.jsxs("option",{value:"mp4",disabled:!Ae,children:["MP4 Video ",!Ae&&"(Not Supported)"]}),C.jsx("option",{value:"gif",children:"Animated GIF"})]})]})]}),C.jsx("div",{className:"mt-4",children:C.jsx("button",{onClick:M,disabled:v||l.length<2,className:"w-full inline-flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 focus:ring-offset-gray-800 disabled:bg-gray-600 disabled:cursor-not-allowed",children:v?`Generating... ${_>0?`${_}%`:""}`:`Generate .${Y}`})}),v&&C.jsxs("div",{className:"mt-4 text-center text-gray-300",children:[C.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mb-2",children:C.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${_}%`,transition:"width 0.1s"}})}),C.jsxs("p",{children:["Creating your masterpiece... This will take about ",Math.round(l.length*2)," seconds."]}),Y==="gif"&&C.jsx("p",{className:"text-sm text-gray-400",children:"GIFs can take longer. Please be patient."})]}),z&&C.jsxs("div",{className:"mt-6 p-4 bg-gray-700 rounded-lg",children:[C.jsx("h3",{className:"font-semibold text-lg text-green-400",children:"Your movie is ready!"}),C.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[Y==="gif"?C.jsx("img",{src:z,alt:"Generated animated GIF",className:"w-1/2 rounded-md"}):C.jsx("video",{src:z,controls:!0,className:"w-1/2 rounded-md"}),C.jsxs("a",{href:z,download:`face_movie.${Y}`,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-800",children:[C.jsx(Jh,{className:"w-5 h-5 mr-2"}),"Download .",Y]})]})]})]})},mh=({position:l,onPointerDown:n,label:o,color:s})=>{const r={left:`${l.x}px`,top:`${l.y}px`,transform:"translate(-50%, -50%)",borderColor:s,touchAction:"none"};return C.jsxs("div",{style:r,className:"absolute w-8 h-8 rounded-full border-2 cursor-grab flex items-center justify-center bg-black/40 backdrop-blur-sm",onPointerDown:n,children:[C.jsx("div",{className:"absolute h-full w-[2px]",style:{backgroundColor:s}}),C.jsx("div",{className:"absolute w-full h-[2px]",style:{backgroundColor:s}}),C.jsx("span",{className:"text-xs font-bold text-white",style:{textShadow:"0 0 4px black"},children:o})]})},hh=({position:l,color:n})=>C.jsxs("div",{style:{left:l.x,top:l.y,transform:"translate(-50%, -50%)",borderColor:n,pointerEvents:"none"},className:"absolute w-10 h-10 rounded-full border-2 border-dashed opacity-70",children:[C.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[2px] -translate-y-1/2",style:{backgroundColor:n,opacity:.5}}),C.jsx("div",{className:"absolute left-1/2 top-0 h-full w-[2px] -translate-x-1/2",style:{backgroundColor:n,opacity:.5}})]}),$C=({images:l,startIndex:n,onSave:o,onClose:s})=>{const[r,d]=ee.useState(n),m=l[r],[g,y]=ee.useState(null),[h,v]=ee.useState({x:0,y:0}),[S,_]=ee.useState({x:0,y:0}),[R,z]=ee.useState(null),k=ee.useRef(null),Y=ee.useRef(null),G=r===0;ee.useEffect(()=>{const le=Y.current;if(!le)return;const oe=()=>{if(!Y.current)return;const{clientWidth:se,clientHeight:Ae}=Y.current,xe=m.faces.find(Ue=>Ue.id===m.selectedFaceId);if(xe&&(v({x:xe.landmarks.left_pupil.x*se,y:xe.landmarks.left_pupil.y*Ae}),_({x:xe.landmarks.right_pupil.x*se,y:xe.landmarks.right_pupil.y*Ae})),!g){const Ue=l[0],L=Ue?.faces.find($=>$.id===Ue.selectedFaceId);L&&y({left:{x:L.landmarks.left_pupil.x*se,y:L.landmarks.left_pupil.y*Ae},right:{x:L.landmarks.right_pupil.x*se,y:L.landmarks.right_pupil.y*Ae}})}};le.complete?oe():le.onload=oe},[m,l,g]),ee.useEffect(()=>{const le=()=>y(null);return window.addEventListener("resize",le),()=>window.removeEventListener("resize",le)},[]);const O=ee.useCallback(le=>{k.current&&(k.current.releasePointerCapture(le.pointerId),k.current=null),z(null)},[]),F=ee.useCallback(le=>{if(!R||!Y.current)return;const oe=Y.current.getBoundingClientRect(),se=le.clientX-oe.left,Ae=le.clientY-oe.top,xe=Math.max(0,Math.min(se,oe.width)),Ue=Math.max(0,Math.min(Ae,oe.height)),L={x:xe,y:Ue};R==="left"?(v(L),G&&y($=>({...$,left:L}))):(_(L),G&&y($=>({...$,right:L})))},[R,G]);ee.useEffect(()=>(R&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",O),document.addEventListener("pointercancel",O)),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",O),document.removeEventListener("pointercancel",O)}),[R,F,O]);const j=(le,oe)=>{le.preventDefault(),le.currentTarget.setPointerCapture(le.pointerId),k.current=le.currentTarget,z(oe)},J=()=>{if(!Y.current||!m.selectedFaceId)return;const{clientWidth:le,clientHeight:oe}=Y.current,se={left_pupil:{x:h.x/le,y:h.y/oe},right_pupil:{x:S.x/le,y:S.y/oe}};o(m.id,m.selectedFaceId,se)},te=()=>{J(),r<l.length-1?d(r+1):s()},Q=()=>{J(),r>0&&d(r-1)},X=()=>{J(),s()};let K=`Adjusting Image ${r+1} of ${l.length}`;return G&&(K="Step 1: Set the Golden Template"),C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:s,children:C.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-4 sm:p-6 max-w-5xl w-full flex flex-col",onClick:le=>le.stopPropagation(),children:[C.jsxs("div",{className:"flex justify-between items-center mb-1",children:[C.jsx("h2",{className:"text-2xl font-bold text-white",children:K}),C.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700",children:C.jsx(Dr,{className:"w-6 h-6"})})]}),C.jsx("p",{className:"text-gray-400 mb-4 h-10",children:G?"Drag the handles to the center of each pupil. This will be the guide for all other photos.":"Align the pupils in this photo with the guide markers by dragging the handles."}),C.jsx("div",{className:"relative w-full flex-grow flex items-center justify-center min-h-[50vh]",children:C.jsxs("div",{className:"relative inline-block",children:[C.jsx("img",{ref:Y,src:m.previewUrl,alt:"Adjust face",className:"max-w-full max-h-[60vh] rounded-md shadow-2xl"}),g&&!G&&C.jsxs(C.Fragment,{children:[C.jsx(hh,{position:g.left,color:"#34d399"}),C.jsx(hh,{position:g.right,color:"#fbbf24"})]}),C.jsx(mh,{position:h,onPointerDown:le=>j(le,"left"),label:"L",color:"#34d399"}),C.jsx(mh,{position:S,onPointerDown:le=>j(le,"right"),label:"R",color:"#fbbf24"})]})}),C.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-between items-center gap-4",children:[C.jsx("button",{onClick:Q,disabled:r===0,className:"px-6 py-2 border border-gray-600 text-sm font-medium rounded-md shadow-sm text-white bg-gray-700 hover:bg-gray-600 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),C.jsxs("div",{className:"flex-grow flex justify-center items-center gap-4",children:[C.jsxs("span",{className:"text-gray-400 font-mono",children:[r+1," / ",l.length]}),C.jsx("button",{onClick:X,className:"px-4 py-2 border border-gray-600 text-sm font-medium rounded-md shadow-sm text-white bg-gray-700 hover:bg-gray-600 focus:outline-none",children:"Save & Exit"})]}),C.jsx("button",{onClick:te,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none",children:G?"Set & Next":r===l.length-1?"Save & Finish":"Save & Next"})]})]})})},jC=["Arial","Verdana","Georgia","Courier New","Impact","Comic Sans MS"],eA=["none","fade","typewriter","slide-in","zoom-in"],tA=({image:l,onSave:n,onRemove:o,onClose:s})=>{const[r,d]=ee.useState(l.textOverlay?.text||"Your Text Here"),[m,g]=ee.useState(l.textOverlay?.fontFamily||"Arial"),[y,h]=ee.useState(l.textOverlay?.fontSize||8),[v,S]=ee.useState(l.textOverlay?.color||"#FFFFFF"),[_,R]=ee.useState(l.textOverlay?.position||{x:.5,y:.85}),[z,k]=ee.useState(l.textOverlay?.animation||"fade"),Y=ee.useRef(null),G=ee.useRef(null),O=ee.useRef(null),F=X=>{!G.current||!Y.current||(O.current={x:X.clientX,y:X.clientY,elementX:G.current.offsetLeft,elementY:G.current.offsetTop},X.target.setPointerCapture(X.pointerId))},j=ee.useCallback(X=>{if(!O.current||!Y.current)return;const K=X.clientX-O.current.x,le=X.clientY-O.current.y,oe=Y.current.getBoundingClientRect(),se=O.current.elementX+K,Ae=O.current.elementY+le,xe=Math.max(0,Math.min(oe.width,se+G.current.offsetWidth/2))/oe.width,Ue=Math.max(0,Math.min(oe.height,Ae+G.current.offsetHeight/2))/oe.height;R({x:xe,y:Ue})},[]),J=ee.useCallback(X=>{O.current=null,document.body.hasPointerCapture(X.pointerId)&&X.target.releasePointerCapture(X.pointerId)},[]);ee.useEffect(()=>(O.current&&(document.addEventListener("pointermove",j),document.addEventListener("pointerup",J),document.addEventListener("pointercancel",J)),()=>{document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",J),document.removeEventListener("pointercancel",J)}),[j,J]);const te=()=>{n({id:l.textOverlay?.id||`text-${Date.now()}`,text:r,fontFamily:m,fontSize:y,color:v,position:_,animation:z})},Q={fontFamily:m,fontSize:`${y/100*(Y.current?.clientHeight||0)}px`,color:v,position:"absolute",left:`${_.x*100}%`,top:`${_.y*100}%`,transform:"translate(-50%, -50%)",whiteSpace:"pre-wrap",textAlign:"center",textShadow:"0 2px 4px rgba(0,0,0,0.7)",cursor:"grab",userSelect:"none",touchAction:"none"};return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:s,children:C.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-4 sm:p-6 max-w-5xl w-full flex flex-col lg:flex-row gap-6 max-h-[90vh]",onClick:X=>X.stopPropagation(),children:[C.jsxs("div",{className:"lg:w-1/3 flex flex-col gap-4",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Text Overlay"}),C.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700",children:C.jsx(Dr,{className:"w-6 h-6"})})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"text-input",className:"block text-sm font-medium text-gray-300 mb-1",children:"Text"}),C.jsx("textarea",{id:"text-input",value:r,onChange:X=>d(X.target.value),rows:3,className:"w-full bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block p-2.5"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"font-select",className:"block text-sm font-medium text-gray-300 mb-1",children:"Font"}),C.jsx("select",{id:"font-select",value:m,onChange:X=>g(X.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block p-2.5",children:jC.map(X=>C.jsx("option",{value:X,style:{fontFamily:X},children:X},X))})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:"flex-grow",children:[C.jsx("label",{htmlFor:"size-slider",className:"block text-sm font-medium text-gray-300 mb-1",children:"Size"}),C.jsx("input",{id:"size-slider",type:"range",min:"1",max:"20",step:"0.5",value:y,onChange:X=>h(parseFloat(X.target.value)),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-thumb:bg-purple-500"})]}),C.jsxs("div",{className:"flex-shrink-0",children:[C.jsx("label",{htmlFor:"color-picker",className:"block text-sm font-medium text-gray-300 mb-1",children:"Color"}),C.jsx("input",{id:"color-picker",type:"color",value:v,onChange:X=>S(X.target.value),className:"w-12 h-10 p-1 bg-gray-700 border border-gray-600 rounded-lg cursor-pointer"})]})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"anim-select",className:"block text-sm font-medium text-gray-300 mb-1",children:"Animation"}),C.jsx("select",{id:"anim-select",value:z,onChange:X=>k(X.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block p-2.5",children:eA.map(X=>C.jsx("option",{value:X,children:X.charAt(0).toUpperCase()+X.slice(1).replace("-"," ")},X))})]}),C.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-700 flex justify-between items-center gap-3",children:[C.jsx("button",{onClick:o,disabled:!l.textOverlay,className:"px-4 py-2 text-sm font-medium rounded-md text-red-400 hover:bg-red-500/20 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:"Remove"}),C.jsx("button",{onClick:te,className:"px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none",children:"Save Text"})]})]}),C.jsx("div",{className:"lg:w-2/3 flex items-center justify-center bg-gray-900 rounded-lg overflow-hidden",children:C.jsxs("div",{ref:Y,className:"relative w-full h-full",children:[C.jsx("img",{src:l.previewUrl,alt:"Text overlay preview",className:"w-full h-full object-contain"}),C.jsx("div",{ref:G,style:Q,onPointerDown:F,children:r||" "})]})})]})})},nA="/Face-movie-creator/assets/icon-BSedGR0t.png",gh=(l,n)=>{const o=atob(l),s=new Array(o.length);for(let d=0;d<o.length;d++)s[d]=o.charCodeAt(d);const r=new Uint8Array(s);return new Blob([r],{type:n})},lA=()=>{const[l,n]=ee.useState([]),[o,s]=ee.useState([]),[r,d]=ee.useState(!1),[m,g]=ee.useState(null),[y,h]=ee.useState(null),[v,S]=ee.useState(null),[_,R]=ee.useState(!1),[z,k]=ee.useState(null),[Y,G]=ee.useState(1),[O,F]=ee.useState(0),[j,J]=ee.useState(0),te=o.filter(D=>D.status==="ready"&&D.selectedFaceId!==void 0),Q=ee.useRef(null),X=ee.useRef(!1),K=ee.useRef(o);ee.useEffect(()=>{(async()=>{try{console.log("[INIT] Loading state from IndexedDB...");const Z=await uh();if(Z&&Z.images){console.log("[INIT] Found saved state with",Z.images.length,"images");const W=[],ie=[];for(const ue of Z.images){const pe=gh(ue.base64,ue.mimeType),me=URL.createObjectURL(pe),Ge={id:ue.id,previewUrl:me,base64:ue.base64,mimeType:ue.mimeType};W.push(Ge),ie.push({...Ge,...ue})}n(W),s(ie),Z.settings&&(G(Z.settings.faceZoom??1),F(Z.settings.faceVerticalOffset??0),J(Z.settings.faceAngleOffset??0))}else console.log("[INIT] No saved state found")}catch(Z){console.error("[INIT] Failed to load state from IndexedDB:",Z)}R(!0)})()},[]),ee.useEffect(()=>{K.current=o},[o]),ee.useEffect(()=>{if(_&&!X.current)return Q.current&&clearTimeout(Q.current),Q.current=window.setTimeout(async()=>{try{if(console.log("[AUTO-SAVE] Running auto-save check...",{isLoading:X.current,imageCount:o.length}),o.length===0)try{const W=await uh();if(W&&W.images&&W.images.length>0){console.log("[AUTO-SAVE] Skipping: would overwrite existing data with empty array");return}}catch{}const D=o.map(W=>({id:W.id,base64:W.base64,mimeType:W.mimeType,faces:W.faces,selectedFaceId:W.selectedFaceId,status:W.status,isManuallyAdjusted:W.isManuallyAdjusted,faceDetectionFailed:W.faceDetectionFailed,transitionToNext:W.transitionToNext,textOverlay:W.textOverlay})),Z={version:2,images:D,settings:{faceZoom:Y,faceVerticalOffset:O,faceAngleOffset:j}};console.log("[AUTO-SAVE] Saving to IndexedDB:",{imageCount:D.length}),await sh(Z)}catch(D){console.error("[AUTO-SAVE] Failed to save state to IndexedDB:",D)}},500),()=>{Q.current&&clearTimeout(Q.current)}},[o,Y,O,j,_]);const le=ee.useCallback(async D=>{d(!0),g(0);const Z=new Set(o.map(me=>me.id)),W=D.filter(me=>!Z.has(me.id)),ie=[];for(const[me,Ge]of W.entries()){try{const ge=await qC(Ge.base64);if(ge.length>0){const vt={...Ge,faces:ge,selectedFaceId:ge.length===1?ge[0].id:void 0,status:ge.length===1?"ready":"needs-selection",faceDetectionFailed:!1};ie.push(vt)}else{console.warn("No faces detected for image:",Ge.id,"Creating a default face for manual adjustment.");const vt={id:`face-${Date.now()}-manual`,box:{x:.25,y:.25,width:.5,height:.5},landmarks:{left_pupil:{x:.45,y:.45},right_pupil:{x:.55,y:.45}}};ie.push({...Ge,faces:[vt],selectedFaceId:vt.id,status:"ready",isManuallyAdjusted:!1,faceDetectionFailed:!0})}}catch(ge){console.error("Failed to process image with Gemini:",Ge.id,ge),console.warn("Creating a default face for manual adjustment due to error.");const vt={id:`face-${Date.now()}-manual-error`,box:{x:.25,y:.25,width:.5,height:.5},landmarks:{left_pupil:{x:.45,y:.45},right_pupil:{x:.55,y:.45}}};ie.push({...Ge,faces:[vt],selectedFaceId:vt.id,status:"ready",isManuallyAdjusted:!1,faceDetectionFailed:!0})}g(Math.round((me+1)/W.length*100))}const ue=[...o,...ie];s(ue),d(!1),setTimeout(()=>g(null),1e3);const pe=ie.find(me=>me.status==="needs-selection");pe&&h(pe)},[o]),oe=D=>{const Z=[...l,...D];n(Z),le(D)},se=D=>{s(D)},Ae=(D,Z)=>{const W=o.map(ue=>ue.id===D?{...ue,selectedFaceId:Z,status:"ready"}:ue);s(W),h(null);const ie=W.find(ue=>ue.status==="needs-selection");ie&&h(ie)},xe=D=>{n(l.filter(Z=>Z.id!==D)),s(o.filter(Z=>Z.id!==D))},Ue=D=>{h(D)},L=D=>{const Z=te.findIndex(W=>W.id===D);Z!==-1&&k({images:te,startIndex:Z})},$=D=>{S(D)},fe=(D,Z)=>{s(W=>W.map(ie=>ie.id===D?{...ie,textOverlay:Z||void 0}:ie)),S(null)},Me=(D,Z,W)=>{s(ie=>ie.map(ue=>{if(ue.id===D&&ue.selectedFaceId===Z){const pe=ue.faces.map(me=>me.id===Z?{...me,landmarks:W}:me);return{...ue,faces:pe,isManuallyAdjusted:!0,faceDetectionFailed:!1}}return ue}))},Ie=(D,Z)=>{s(W=>W.map(ie=>ie.id===D?{...ie,transitionToNext:Z}:ie))},M=ee.useCallback(()=>{if(o.length===0)return;const Z={version:2,images:o.map(me=>({id:me.id,base64:me.base64,mimeType:me.mimeType,faces:me.faces,selectedFaceId:me.selectedFaceId,status:me.status,isManuallyAdjusted:me.isManuallyAdjusted,faceDetectionFailed:me.faceDetectionFailed,transitionToNext:me.transitionToNext,textOverlay:me.textOverlay})),settings:{faceZoom:Y,faceVerticalOffset:O,faceAngleOffset:j}},W=JSON.stringify(Z,null,2),ie=new Blob([W],{type:"application/json"}),ue=URL.createObjectURL(ie),pe=document.createElement("a");pe.href=ue,pe.download=`face-movie-project-${new Date().toISOString().slice(0,10)}.FaceMovie`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(ue)},[o,Y,O,j]),b=ee.useCallback(async()=>{if(!(o.length>0&&!window.confirm("Start a new project? This will clear your current work.")))try{X.current=!0,await VC(),K.current.forEach(D=>URL.revokeObjectURL(D.previewUrl)),n([]),s([]),G(1),F(0),J(0),console.log("[NEW] Project cleared and state reset"),setTimeout(()=>{X.current=!1},100)}catch(D){console.error("[NEW] Failed to clear project:",D),alert("Failed to create new project."),X.current=!1}},[o.length]),B=ee.useCallback(D=>{if(K.current.length>0&&!window.confirm("Loading a project will replace your current work. Are you sure?"))return;const Z=new FileReader;Z.onload=W=>{try{const ie=W.target?.result,ue=JSON.parse(ie);let pe=[];if(ue.version===2&&Array.isArray(ue.images)){pe=ue.images;const{settings:ge}=ue;ge&&(G(ge.faceZoom??1),F(ge.faceVerticalOffset??0),J(ge.faceAngleOffset??0))}else if(Array.isArray(ue))pe=ue,G(1),F(0),J(0);else throw new Error("Invalid project file format.");const me=[],Ge=[];for(const ge of pe){if(!ge.id||!ge.base64||!ge.mimeType){console.warn("Skipping invalid item in project file:",ge);continue}const vt=gh(ge.base64,ge.mimeType),Xt=URL.createObjectURL(vt),rt={id:ge.id,previewUrl:Xt,base64:ge.base64,mimeType:ge.mimeType};me.push(rt),Ge.push({...rt,faces:ge.faces,selectedFaceId:ge.selectedFaceId,status:ge.status,isManuallyAdjusted:ge.isManuallyAdjusted,faceDetectionFailed:ge.faceDetectionFailed,transitionToNext:ge.transitionToNext,textOverlay:ge.textOverlay})}K.current.forEach(ge=>URL.revokeObjectURL(ge.previewUrl)),console.log("[LOAD] Setting blocking flag and loading",Ge.length,"images"),X.current=!0,n(me),s(Ge),setTimeout(async()=>{try{await sh(ue),console.log("[LOAD] Saved loaded project to IndexedDB")}catch(ge){console.error("[LOAD] Failed to save loaded project to IndexedDB:",ge)}finally{X.current=!1,console.log("[LOAD] Re-enabled auto-save")}},100)}catch(ie){console.error("Failed to load project file:",ie),alert("Could not load project file. It might be corrupted or in an invalid format.")}},Z.onerror=()=>{alert("Error reading project file.")},Z.readAsText(D)},[]);return C.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col items-center p-4 sm:p-6 md:p-8",children:[C.jsxs("div",{className:"w-full max-w-7xl",children:[C.jsxs("header",{className:"text-center mb-8 flex flex-col items-center",children:[C.jsxs("div",{className:"flex flex-row items-center gap-4 mb-4",children:[C.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden shadow-lg bg-black",children:C.jsx("img",{src:nA,alt:"Face Movie Creator Logo",className:"w-full h-full object-cover transform scale-[1.5] hover:scale-[1.6] transition-transform duration-300",onError:D=>{console.error("Image failed to load",D),D.currentTarget.style.display="none"}})}),C.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500",children:"Face Movie Creator"})]}),C.jsx("p",{className:"text-gray-400 mt-2 text-lg",children:"Upload your photos, select the star, and watch the magic unfold."})]}),C.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[C.jsxs("div",{className:"lg:w-1/3 flex flex-col gap-8",children:[C.jsx(KC,{onImagesUploaded:oe,isProcessing:r,onSaveProject:M,onLoadProject:B,onNewProject:b,hasImages:o.length>0}),C.jsx(QC,{images:o,onReorder:se,onRemove:xe,onSelectFace:Ue,onOpenAdjuster:L,onOpenTextEditor:$,onTransitionChange:Ie,isProcessing:r,processingProgress:m})]}),C.jsx("div",{className:"lg:w-2/3",children:C.jsx(WC,{images:te,faceZoom:Y,onZoomChange:G,faceVerticalOffset:O,onVerticalOffsetChange:F,faceAngleOffset:j,onAngleOffsetChange:J})})]})]}),y&&C.jsx(ZC,{image:y,onSelectFace:Ae,onClose:()=>h(null)}),z&&C.jsx($C,{images:z.images,startIndex:z.startIndex,onSave:Me,onClose:()=>k(null)}),v&&C.jsx(tA,{image:v,onSave:D=>fe(v.id,D),onRemove:()=>fe(v.id,null),onClose:()=>S(null)})]})},Xh=document.getElementById("root");if(!Xh)throw new Error("Could not find root element to mount to");const iA=v0.createRoot(Xh);iA.render(C.jsx(c0.StrictMode,{children:C.jsx(lA,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(l=>{console.log("SW registered: ",l)}).catch(l=>{console.log("SW registration failed: ",l)})});
